/* eslint-disable */
var Gb=Object.defineProperty;var n=(t,e)=>Gb(t,"name",{value:e,configurable:!0});var D=(t,e)=>{for(var i in e)Gb(t,i,{get:e[i],enumerable:!0})};function Kb(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(Kb,"__rest");function $b(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n($b,"__setFunctionName");function y(t,e,i,o){function r(s){return s instanceof i?s:new i(function(l){l(s)})}return n(r,"adopt"),new(i||(i=Promise))(function(s,l){function p(_){try{m(o.next(_))}catch(x){l(x)}}n(p,"fulfilled");function f(_){try{m(o.throw(_))}catch(x){l(x)}}n(f,"rejected");function m(_){_.done?s(_.value):r(_.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(y,"__awaiter");function zb(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(zb,"__values");function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}n(fo,"__await");function qb(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(T){o[T]&&(r[T]=function(b){return new Promise(function(k,N){s.push([T,b,k,N])>1||p(T,b)})})}function p(T,b){try{f(o[T](b))}catch(k){x(s[0][3],k)}}function f(T){T.value instanceof fo?Promise.resolve(T.value.v).then(m,_):x(s[0][2],T)}function m(T){p("next",T)}function _(T){p("throw",T)}function x(T,b){T(b),s.shift(),s.length&&p(s[0][0],s[0][1])}}n(qb,"__asyncGenerator");function Xb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof zb=="function"?zb(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=t[s]&&function(l){return new Promise(function(p,f){l=t[s](l),r(p,f,l.done,l.value)})}}function r(s,l,p,f){Promise.resolve(f).then(function(m){s({value:m,done:p})},l)}}n(Xb,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function S(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(S,"__classPrivateFieldSet");var ob={};D(ob,{ChannelError:()=>kr,InnertubeError:()=>g,MissingParamError:()=>Tn,OAuthError:()=>li,ParsingError:()=>xt,Platform:()=>B,PlayerError:()=>mt,SessionError:()=>is,base64ToU8:()=>By,concatMemos:()=>Xy,debugFetch:()=>ME,deepCompare:()=>Yh,escapeStringRegexp:()=>mb,generateRandomString:()=>Tt,generateSidAuth:()=>ib,getRandomUserAgent:()=>Qo,getStringBetweenStrings:()=>Je,hasKeys:()=>RE,isTextRun:()=>Ze,streamToIterable:()=>rb,throwIfMissing:()=>Z,timeToSeconds:()=>Le,u8ToBase64:()=>dt});var vy={};D(vy,{Maybe:()=>ho,Memo:()=>Ei,SuperParsedResult:()=>qt,YTNode:()=>a,observe:()=>ae});var _y,Qb,Ve,ce,$t,fi,mo,Zb=Symbol("ObservedArray.isObserved"),a=class{constructor(){_y.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,_y,"m",Qb).call(this,i))}as(...e){if(!this.is(...e))throw new xt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new xt(`Missing key ${e}`);return new ho(this[e])}};n(a,"YTNode");_y=new WeakSet,Qb=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var ho=class{constructor(e){Ve.add(this),ce.set(this,void 0),S(this,ce,e,"f")}get typeof(){return typeof d(this,ce,"f")}string(){return d(this,Ve,"m",fi).call(this,"string")}isString(){return d(this,Ve,"m",$t).call(this,"string")}number(){return d(this,Ve,"m",fi).call(this,"number")}isNumber(){return d(this,Ve,"m",$t).call(this,"number")}bigint(){return d(this,Ve,"m",fi).call(this,"bigint")}isBigint(){return d(this,Ve,"m",$t).call(this,"bigint")}boolean(){return d(this,Ve,"m",fi).call(this,"boolean")}isBoolean(){return d(this,Ve,"m",$t).call(this,"boolean")}symbol(){return d(this,Ve,"m",fi).call(this,"symbol")}isSymbol(){return d(this,Ve,"m",$t).call(this,"symbol")}undefined(){return d(this,Ve,"m",fi).call(this,"undefined")}isUndefined(){return d(this,Ve,"m",$t).call(this,"undefined")}null(){if(d(this,ce,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,ce,"f")}`);return d(this,ce,"f")}isNull(){return d(this,ce,"f")===null}object(){return d(this,Ve,"m",fi).call(this,"object")}isObject(){return d(this,Ve,"m",$t).call(this,"object")}function(){return d(this,Ve,"m",fi).call(this,"function")}isFunction(){return d(this,Ve,"m",$t).call(this,"function")}array(){if(!Array.isArray(d(this,ce,"f")))throw new TypeError(`Expected array, got ${typeof d(this,ce,"f")}`);return d(this,ce,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new ho(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,ce,"f"))}node(){if(!(d(this,ce,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,ce,"f").constructor.name}`);return d(this,ce,"f")}isNode(){return d(this,ce,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,ce,"f")}`);return d(this,ce,"f")}isObserved(){var e;return(e=d(this,ce,"f"))===null||e===void 0?void 0:e[Zb]}parsed(){if(!(d(this,ce,"f")instanceof qt))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,ce,"f")}`);return d(this,ce,"f")}isParsed(){return d(this,ce,"f")instanceof qt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,ce,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,ce,"f").constructor.name}`);return d(this,ce,"f")}isInstanceof(e){return d(this,ce,"f")instanceof e}};n(ho,"Maybe");ce=new WeakMap,Ve=new WeakSet,$t=n(function(e){return typeof d(this,ce,"f")===e},"_Maybe_checkPrimative"),fi=n(function(e){if(!d(this,Ve,"m",$t).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,ce,"f")},"_Maybe_assertPrimative");var qt=class{constructor(e){mo.set(this,void 0),S(this,mo,e,"f")}get is_null(){return d(this,mo,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,mo,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,mo,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,mo,"f")}};n(qt,"SuperParsedResult");mo=new WeakMap;function ae(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((s,l)=>{let p=Yh(o,s);return p&&r&&e.splice(l,1),p}):i==Zb?!0:i=="getAll"?(o,r)=>e.filter((s,l)=>{let p=Yh(o,s);return p&&r&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>ae(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ae(e.map(r=>{if(r.is(...o))return r;throw new xt(`Expected node of any type ${o.map(s=>s.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ae,"observe");var Ei=class extends Map{getType(...e){return e=e.flat(),ae(e.flatMap(i=>this.get(i.type)||[]))}};n(Ei,"Memo");var fb={};D(fb,{Author:()=>V,ChildElement:()=>Sv,EmojiRun:()=>Ni,Format:()=>T_,Text:()=>u,TextRun:()=>Ai,Thumbnail:()=>w,VideoDetails:()=>Vi});var He={};D(He,{CLIENTS:()=>G,INNERTUBE_HEADERS_BASE:()=>E1,OAUTH:()=>Pi,STREAM_HEADERS:()=>jh,URLS:()=>pe});var pe=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Pi=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),G=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),jh=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),E1=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};D(c,{addRuntimeParser:()=>Gy,applyMutations:()=>sk,getDynamicParsers:()=>aC,getParserByName:()=>eh,hasParser:()=>fg,parse:()=>$e,parseActions:()=>rk,parseArray:()=>Ke,parseC:()=>nk,parseFormats:()=>Ky,parseItem:()=>re,parseLC:()=>zy,parseRR:()=>mg,parseResponse:()=>uC,sanitizeClassName:()=>ih,setParserErrorHandler:()=>rC,shouldIgnore:()=>ok});var Js=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(Js,"AudioOnlyPlayability");Js.type="AudioOnlyPlayability";var Uh=Js;var Gs=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Gs,"Button");Gs.type="Button";var I=Gs;var zs=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(zs,"DropdownItem");zs.type="DropdownItem";var Wh=zs;var Ks=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,Wh)}};n(Ks,"Dropdown");Ks.type="Dropdown";var Ln=Ks;var $s=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,Ln),this.create_button=c.parseItem(e.cancelButton,I),this.cancel_button=c.parseItem(e.cancelButton,I)}};n($s,"CreatePlaylistDialog");$s.type="CreatePlaylistDialog";var Hh=$s;var qs=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(qs,"OpenPopupAction");qs.type="OpenPopupAction";var Jh=qs;var Xs=class extends a{constructor(e){var i,o,r,s,l,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Jh(e.openPopupAction));let _=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((s=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||s===void 0)&&s.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Hh))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Xs,"NavigationEndpoint");Xs.type="NavigationEndpoint";var v=Xs;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new w(o)).sort((o,r)=>r.width-o.width):[]}};n(w,"Thumbnail");var Ni=class{constructor(e){var i,o,r,s,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((s=e.emoji)===null||s===void 0?void 0:s.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Gh(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Ni,"EmojiRun");var Ai=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Gh(this.text),r=`<span style="white-space: pre-wrap;">${e.map(s=>`<${s}>`).join("")+i+e.map(s=>`</${s}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:s}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${s}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let s=this.endpoint.toURL();if(s)return`<a href="${s}">${r}</a>`}return r}};n(Ai,"TextRun");function Gh(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Gh,"escape");var u=class{constructor(e){var i,o,r,s;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new Ni(l):new Ai(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(s=(r=this.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.endpoint)}static fromAttributed(e){let i=[],o=e.content,r=e.commandRuns,s=0;if(r){for(let l of r){let p=l.length,f=l.startIndex;if(f>s&&i.push({text:o.slice(s,f)}),Reflect.has(l,"onTap")){let m=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let x of _)if(x.startIndex-2==f){m=x;break}}m?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:m}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}s=f+p}s<o.length&&i.push({text:o.slice(s)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");var Qs=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Qs,"CardCollection");Qs.type="CardCollection";var zh=Qs;var Zs=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(Zs,"Endscreen");Zs.type="Endscreen";var Kh=Zs;var ea=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(ea,"PlayerAnnotationsExpanded");ea.type="PlayerAnnotationsExpanded";var $h=ea;var ta=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(ta,"PlayerCaptionsTracklist");ta.type="PlayerCaptionsTracklist";var qh=ta;var ia=class extends a{constructor(){super()}};n(ia,"PlayerLiveStoryboardSpec");ia.type="PlayerLiveStoryboardSpec";var Xh=ia;var oa=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,s)=>{let[l,p,f,m,_,x,T,b]=r.split("#");o.searchParams.set("sigh",b);let k=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",s).replace("$N",T),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(x,10),columns:parseInt(m,10),rows:parseInt(_,10),storyboard_count:k}})}};n(oa,"PlayerStoryboardSpec");oa.type="PlayerStoryboardSpec";var _o=oa;var na=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(na,"Alert");na.type="Alert";var Fn=na;var ra=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,I)}};n(ra,"AlertWithButton");ra.type="AlertWithButton";var Qh=ra;var sa=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(sa,"ClipCreationTextInput");sa.type="ClipCreationTextInput";var Zh=sa;var aa=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(s=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(aa,"ClipCreationScrubber");aa.type="ClipCreationScrubber";var e_=aa;var ua=class extends a{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(ua,"ClipAdState");ua.type="ClipAdState";var t_=ua;var la=class extends a{constructor(e){super(),this.user_avatar=w.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[Zh]),this.scrubber=c.parseItem(e.scrubber,[e_]),this.save_button=c.parseItem(e.saveButton,[I]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[I]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[t_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(la,"ClipCreation");la.type="ClipCreation";var i_=la;var ca=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[i_])}};n(ca,"ClipSection");ca.type="ClipSection";var o_=ca;var da=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,I)),this.endpoint=new v(e.continuationEndpoint)}};n(da,"ContinuationItem");da.type="ContinuationItem";var he=da;var pa=class extends a{constructor(e){super(),this.title=new u(e.title),this.visibility_button=c.parseItem(e.visibilityButton,I)}};n(pa,"EngagementPanelTitleHeader");pa.type="EngagementPanelTitleHeader";var n_=pa;var fa=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(fa,"Menu");fa.type="Menu";var Y=fa;var ma=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=c.parseItem(e.menu,Y)}};n(ma,"MacroMarkersInfoItem");ma.type="MacroMarkersInfoItem";var r_=ma;var ha=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(ha,"MacroMarkersListItem");ha.type="MacroMarkersListItem";var Yn=ha;var _a=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[r_,Yn]),this.sync_button_label=new u(e.syncButtonLabel)}};n(_a,"MacroMarkersList");_a.type="MacroMarkersList";var s_=_a;var va=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(va,"ProductList");va.type="ProductList";var a_=va;var ga=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(ga,"SectionList");ga.type="SectionList";var Q=ga;var xa=class extends a{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(xa,"ExpandableVideoDescriptionBody");xa.type="ExpandableVideoDescriptionBody";var u_=xa;var ya=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(ya,"SearchRefinementCard");ya.type="SearchRefinementCard";var vo=ya;var ba=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(ba,"GameCard");ba.type="GameCard";var l_=ba;var wa=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(wa,"HorizontalList");wa.type="HorizontalList";var c_=wa;var Ta=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[Ri,c_]),this.expand_button=c.parseItem(e.expandButton,I),this.collapse_button=c.parseItem(e.collapseButton,I)}};n(Ta,"ExpandableMetadata");Ta.type="ExpandableMetadata";var d_=Ta;var Sa=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Sa,"MetadataBadge");Sa.type="MetadataBadge";var nt=Sa;var Ia=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(Ia,"ThumbnailOverlayTimeStatus");Ia.type="ThumbnailOverlayTimeStatus";var go=Ia;var ka=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,d_),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new V(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=c.parseArray(e.badges,nt),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:Le(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,Y),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(ka,"Video");ka.type="Video";var jn=ka;var Ca=class extends jn{constructor(e){super(e)}};n(Ca,"VideoCard");Ca.type="VideoCard";var p_=Ca;var Ea=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(Ea,"ContentPreviewImageView");Ea.type="ContentPreviewImageView";var Un=Ea;var Pa=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=w.fromResponse(e.image):this.image=c.parseItem(e.image,Un),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Pa,"VideoAttributeView");Pa.type="VideoAttributeView";var Wn=Pa;var Na=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[Wn,vo,Yn,l_,p_]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}};n(Na,"HorizontalCardList");Na.type="HorizontalCardList";var Ri=Na;var Aa=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(Aa,"Factoid");Aa.type="Factoid";var Mi=Aa;var Ra=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Mi)}};n(Ra,"UploadTimeFactoid");Ra.type="UploadTimeFactoid";var f_=Ra;var Ma=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Mi]),this.view_count_type=e.viewCountType}};n(Ma,"ViewCountFactoid");Ma.type="ViewCountFactoid";var m_=Ma;var Va=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=c.parseArray(e.factoid,[Mi,m_,f_])}};n(Va,"VideoDescriptionHeader");Va.type="VideoDescriptionHeader";var h_=Va;var Oa=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,I),this.creator_about_button=c.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=w.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(Oa,"VideoDescriptionInfocardsSection");Oa.type="VideoDescriptionInfocardsSection";var __=Oa;var Da=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Da,"InfoRow");Da.type="InfoRow";var v_=Da;var Ba=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new V(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=c.parseArray(e.badges,nt),this.duration={text:new u(e.lengthText).toString(),seconds:Le(new u(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,Y)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Ba,"CompactVideo");Ba.type="CompactVideo";var Hn=Ba;var La=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,v_),this.video_lockup=c.parseItem(e.videoLockup,Hn)}};n(La,"CarouselLockup");La.type="CarouselLockup";var g_=La;var Fa=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,g_),this.section_title=new u(e.sectionTitle)}};n(Fa,"VideoDescriptionMusicSection");Fa.type="VideoDescriptionMusicSection";var Jn=Fa;var Ya=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,I)}};n(Ya,"VideoDescriptionTranscriptSection");Ya.type="VideoDescriptionTranscriptSection";var ja=Ya;var Ua=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Ua,"StructuredDescriptionPlaylistLockup");Ua.type="StructuredDescriptionPlaylistLockup";var x_=Ua;var Wa=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[x_])}};n(Wa,"VideoDescriptionCourseSection");Wa.type="VideoDescriptionCourseSection";var y_=Wa;var Ha=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(Ha,"ReelShelf");Ha.type="ReelShelf";var Gn=Ha;var Ja=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[h_,u_,Jn,__,y_,ja,ja,Ri,Gn])}};n(Ja,"StructuredDescriptionContent");Ja.type="StructuredDescriptionContent";var xo=Ja;var Ga=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,n_),this.content=c.parseItem(e.content,[Wn,Q,he,o_,xo,s_,a_]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(Ga,"EngagementPanelSectionList");Ga.type="EngagementPanelSectionList";var zn=Ga;var za=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(za,"MusicMultiSelectMenuItem");za.type="MusicMultiSelectMenuItem";var Nt=za;var b_,w_=class{constructor(e,i){var o,r,s,l,p,f;if(b_.set(this,void 0),i&&S(this,b_,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(r=e.colorInfo.transferCharacteristics)===null||r===void 0?void 0:r.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(s=e.colorInfo.matrixCoefficients)===null||s===void 0?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let m=new URLSearchParams(this.cipher||this.signature_cipher),x=(l=new URLSearchParams(m.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":"),T=(p=x==null?void 0:x.find(b=>b.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=x==null?void 0:x.find(b=>b.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=T==="dubbed",this.is_descriptive=T==="descriptive",this.is_original=T==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new g("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,b_,"f"))}};n(w_,"Format");b_=new WeakMap;var T_=w_;var Vi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(Vi,"VideoDetails");var Co={};D(Co,{AboutChannel:()=>k_,AboutChannelView:()=>I_,AccountChannel:()=>C_,AccountItemSection:()=>P_,AccountItemSectionHeader:()=>E_,AccountSectionList:()=>N_,AddBannerToLiveChatCommand:()=>HT,AddChatItemAction:()=>Kv,AddLiveChatTickerItemAction:()=>JT,Alert:()=>Fn,AlertWithButton:()=>Qh,AnalyticsMainAppKeyMetrics:()=>tw,AnalyticsRoot:()=>iw,AnalyticsShortsCarouselCard:()=>ow,AnalyticsVideo:()=>L_,AnalyticsVodCarouselCard:()=>nw,AnchoredSection:()=>ug,AppendContinuationItemsAction:()=>yo,AudioOnlyPlayability:()=>Uh,AuthorCommentBadge:()=>Z_,AutomixPreviewVideo:()=>Oi,AvatarView:()=>F_,BackstageImage:()=>Y_,BackstagePost:()=>Di,BackstagePostThread:()=>aw,BrowseFeedActions:()=>U_,BrowserMediaSession:()=>uw,Button:()=>I,ButtonView:()=>bo,C4TabbedHeader:()=>Bi,CallToActionButton:()=>lw,Card:()=>cw,CardCollection:()=>zh,CarouselHeader:()=>z_,CarouselItem:()=>dw,CarouselLockup:()=>g_,Channel:()=>K_,ChannelAboutFullMetadata:()=>Wu,ChannelAgeGate:()=>pw,ChannelExternalLinkView:()=>S_,ChannelFeaturedContent:()=>fw,ChannelHeaderLinks:()=>W_,ChannelHeaderLinksView:()=>H_,ChannelMetadata:()=>$_,ChannelMobileHeader:()=>mw,ChannelOptions:()=>q_,ChannelOwnerEmptyState:()=>hw,ChannelSubMenu:()=>Xu,ChannelTagline:()=>J_,ChannelThumbnailWithLink:()=>_w,ChannelVideoPlayer:()=>vw,Chapter:()=>X_,ChildVideo:()=>gw,ChipCloud:()=>ct,ChipCloudChip:()=>_e,ClipAdState:()=>t_,ClipCreation:()=>i_,ClipCreationScrubber:()=>e_,ClipCreationTextInput:()=>Zh,ClipSection:()=>o_,CollaboratorInfoCardContent:()=>xw,CollageHeroImage:()=>yw,Command:()=>bw,Comment:()=>er,CommentActionButtons:()=>$n,CommentDialog:()=>fT,CommentReplies:()=>uv,CommentReplyDialog:()=>ev,CommentSimplebox:()=>pv,CommentThread:()=>fv,CommentsEntryPointHeader:()=>dv,CommentsEntryPointTeaser:()=>cv,CommentsHeader:()=>Li,CommentsSimplebox:()=>lv,CompactChannel:()=>mT,CompactLink:()=>tr,CompactMix:()=>hT,CompactMovie:()=>_T,CompactPlaylist:()=>vT,CompactStation:()=>gT,CompactVideo:()=>Hn,ConfirmDialog:()=>xT,ContentMetadataView:()=>mv,ContentPreviewImageView:()=>Un,ContinuationItem:()=>he,ConversationBar:()=>yT,CopyLink:()=>hv,CreatePlaylistDialog:()=>Hh,CreatorHeart:()=>j_,CtaGoToCreatorStudio:()=>rw,DataModelSection:()=>B_,DecoratedAvatarView:()=>_v,DecoratedPlayerBar:()=>yv,DefaultPromoPanel:()=>bT,DidYouMean:()=>bv,DimChatItemAction:()=>GT,DislikeButtonView:()=>wv,DownloadButton:()=>wT,Dropdown:()=>Ln,DropdownItem:()=>Wh,DynamicTextView:()=>Tv,Element:()=>rr,EmergencyOnebox:()=>TT,EmojiPicker:()=>av,EmojiPickerCategory:()=>ST,EmojiPickerCategoryButton:()=>IT,EmojiPickerUpsellCategory:()=>kT,EndScreenPlaylist:()=>Iv,EndScreenVideo:()=>kv,Endscreen:()=>Kh,EndscreenElement:()=>CT,EngagementPanelSectionList:()=>zn,EngagementPanelTitleHeader:()=>n_,ExpandableMetadata:()=>d_,ExpandableTab:()=>sr,ExpandableVideoDescriptionBody:()=>u_,ExpandedShelfContents:()=>ET,Factoid:()=>Mi,FancyDismissibleDialog:()=>PT,FeedFilterChipBar:()=>hi,FeedNudge:()=>NT,FeedTabbedHeader:()=>Cv,FlexibleActionsView:()=>Ev,GameCard:()=>l_,GameDetails:()=>AT,Grid:()=>Io,GridChannel:()=>Pv,GridHeader:()=>RT,GridMix:()=>MT,GridMovie:()=>VT,GridPlaylist:()=>Nv,GridShow:()=>OT,GridVideo:()=>Mv,GuideCollapsibleEntry:()=>DT,GuideCollapsibleSectionEntry:()=>BT,GuideDownloadsEntry:()=>LT,GuideEntry:()=>ko,GuideSection:()=>ar,GuideSubscriptionsSection:()=>Vv,HashtagHeader:()=>Ov,HashtagTile:()=>FT,HeatMarker:()=>vv,Heatmap:()=>gv,HeroPlaylistThumbnail:()=>YT,HighlightsCarousel:()=>Nc,HistorySuggestion:()=>jT,HorizontalCardList:()=>Ri,HorizontalList:()=>c_,HorizontalMovieList:()=>UT,IconLink:()=>Bv,IncludingResultsFor:()=>WT,InfoPanelContainer:()=>Fv,InfoPanelContent:()=>Lv,InfoRow:()=>v_,InteractiveTabbedHeader:()=>Yv,ItemSection:()=>ve,ItemSectionHeader:()=>ur,ItemSectionTab:()=>jv,ItemSectionTabbedHeader:()=>lr,KidsBlocklistPicker:()=>JI,KidsBlocklistPickerItem:()=>yr,KidsCategoriesHeader:()=>lg,KidsCategoryTab:()=>br,KidsHomeScreen:()=>cg,LikeButton:()=>Wv,LikeButtonView:()=>Hv,LiveChat:()=>Jv,LiveChatActionPanel:()=>qv,LiveChatAuthorBadge:()=>vS,LiveChatAutoModMessage:()=>zT,LiveChatBanner:()=>zv,LiveChatBannerHeader:()=>Gv,LiveChatBannerPoll:()=>KT,LiveChatDialog:()=>gS,LiveChatHeader:()=>i0,LiveChatItemList:()=>o0,LiveChatMembershipItem:()=>$T,LiveChatMessageInput:()=>xS,LiveChatPaidMessage:()=>qT,LiveChatPaidSticker:()=>XT,LiveChatParticipant:()=>n0,LiveChatParticipantsList:()=>r0,LiveChatPlaceholderItem:()=>QT,LiveChatProductItem:()=>ZT,LiveChatRestrictedParticipation:()=>eS,LiveChatTextMessage:()=>tS,LiveChatTickerPaidMessageItem:()=>$v,LiveChatTickerPaidStickerItem:()=>iS,LiveChatTickerSponsorItem:()=>oS,LiveChatViewerEngagementMessage:()=>nS,MacroMarkersInfoItem:()=>r_,MacroMarkersList:()=>s_,MacroMarkersListItem:()=>Yn,MarkChatItemAsDeletedAction:()=>sS,MarkChatItemsByAuthorAsDeletedAction:()=>aS,Menu:()=>Y,MenuNavigationItem:()=>s0,MenuPopup:()=>yS,MenuServiceItem:()=>Fi,MenuServiceItemDownload:()=>bS,MerchandiseItem:()=>SS,MerchandiseShelf:()=>c0,Message:()=>ze,MetadataBadge:()=>nt,MetadataRow:()=>IS,MetadataRowContainer:()=>d0,MetadataRowHeader:()=>kS,MetadataScreen:()=>CS,MicroformatData:()=>Qt,Mix:()=>ES,Movie:()=>PS,MovingThumbnail:()=>NS,MultiMarkersPlayerBar:()=>xv,MultiPageMenu:()=>wS,MultiPageMenuNotificationSection:()=>TS,MusicCardShelf:()=>h0,MusicCardShelfHeaderBasic:()=>p0,MusicCarouselShelf:()=>Pe,MusicCarouselShelfBasicHeader:()=>_0,MusicDescriptionShelf:()=>Po,MusicDetailHeader:()=>No,MusicDownloadStateBadge:()=>YS,MusicEditablePlaylistDetailHeader:()=>y0,MusicElementHeader:()=>bp,MusicHeader:()=>ji,MusicImmersiveHeader:()=>b0,MusicInlineBadge:()=>f0,MusicItemThumbnailOverlay:()=>Zt,MusicLargeCardItemCarousel:()=>jS,MusicMenuItemDivider:()=>a0,MusicMultiRowListItem:()=>v0,MusicMultiSelectMenu:()=>u0,MusicMultiSelectMenuItem:()=>Nt,MusicNavigationButton:()=>cr,MusicPlayButton:()=>m0,MusicPlaylistShelf:()=>Ao,MusicQueue:()=>fr,MusicResponsiveListItem:()=>Yi,MusicResponsiveListItemFixedColumn:()=>g0,MusicResponsiveListItemFlexColumn:()=>x0,MusicShelf:()=>be,MusicSideAlignedItem:()=>T0,MusicSortFilterButton:()=>Op,MusicTastebuilderShelf:()=>I0,MusicTastebuilderShelfThumbnail:()=>S0,MusicThumbnail:()=>yt,MusicTwoRowItem:()=>pr,MusicVisualHeader:()=>k0,NavigationEndpoint:()=>v,Notification:()=>C0,OpenPopupAction:()=>Jh,PageHeader:()=>Ui,PageHeaderView:()=>E0,PageIntroduction:()=>P0,PdgCommentChip:()=>tv,PivotButton:()=>N0,PlayerAnnotationsExpanded:()=>$h,PlayerCaptionsTracklist:()=>qh,PlayerControlsOverlay:()=>US,PlayerErrorMessage:()=>WS,PlayerLegacyDesktopYpcOffer:()=>HS,PlayerLegacyDesktopYpcTrailer:()=>qp,PlayerLiveStoryboardSpec:()=>Xh,PlayerMicroformat:()=>Ot,PlayerOverflow:()=>A0,PlayerOverlay:()=>Wi,PlayerOverlayAutoplay:()=>M0,PlayerStoryboardSpec:()=>_o,Playlist:()=>Xt,PlaylistCustomThumbnail:()=>ir,PlaylistHeader:()=>O0,PlaylistInfoCardContent:()=>JS,PlaylistMetadata:()=>D0,PlaylistPanel:()=>ei,PlaylistPanelVideo:()=>_i,PlaylistPanelVideoWrapper:()=>w0,PlaylistSidebar:()=>GS,PlaylistSidebarPrimaryInfo:()=>B0,PlaylistSidebarSecondaryInfo:()=>L0,PlaylistVideo:()=>F0,PlaylistVideoList:()=>zS,PlaylistVideoThumbnail:()=>or,Poll:()=>KS,PollHeader:()=>rS,Post:()=>Y0,PostMultiImage:()=>$S,ProductList:()=>a_,ProductListHeader:()=>qS,ProductListItem:()=>XS,ProfileColumn:()=>QS,ProfileColumnStats:()=>ZS,ProfileColumnStatsEntry:()=>eI,ProfileColumnUserInfo:()=>tI,Quiz:()=>iI,RecognitionShelf:()=>oI,ReelItem:()=>j0,ReelPlayerHeader:()=>U0,ReelPlayerOverlay:()=>nI,ReelShelf:()=>Gn,RelatedChipCloud:()=>W0,RemoveBannerForLiveChatCommand:()=>uS,RemoveChatItemAction:()=>lS,RemoveChatItemByAuthorAction:()=>cS,ReplaceChatItemAction:()=>dS,ReplayChatItemAction:()=>pS,RichGrid:()=>Hi,RichItem:()=>rI,RichListHeader:()=>sI,RichMetadata:()=>Pf,RichMetadataRow:()=>Af,RichSection:()=>aI,RichShelf:()=>H0,SearchBox:()=>uI,SearchFilter:()=>J0,SearchFilterGroup:()=>mr,SearchFilterOptionsDialog:()=>lI,SearchHeader:()=>G0,SearchRefinementCard:()=>vo,SearchSubMenu:()=>z0,SearchSuggestion:()=>Dv,SearchSuggestionsSection:()=>K0,SecondarySearchContainer:()=>cI,SectionList:()=>Q,SegmentedLikeDislikeButton:()=>Ro,SegmentedLikeDislikeButtonView:()=>Mo,SettingBoolean:()=>dI,SettingsCheckbox:()=>$0,SettingsOptions:()=>_r,SettingsSidebar:()=>q0,SettingsSwitch:()=>hr,SharedPost:()=>X0,Shelf:()=>vr,ShowCustomThumbnail:()=>Av,ShowLiveChatActionPanelAction:()=>fS,ShowLiveChatDialogAction:()=>mS,ShowLiveChatTooltipCommand:()=>hS,ShowingResultsFor:()=>Q0,SimpleCardContent:()=>pI,SimpleCardTeaser:()=>fI,SimpleMenuHeader:()=>l0,SimpleTextSection:()=>mI,SingleActionEmergencySupport:()=>hI,SingleColumnBrowseResults:()=>ti,SingleColumnMusicWatchNextResults:()=>_I,SingleHeroImage:()=>vI,SlimOwner:()=>gI,SlimVideoMetadata:()=>Z0,SortFilterHeader:()=>Uv,SortFilterSubMenu:()=>At,SponsorCommentBadge:()=>iv,StatRow:()=>sw,StructuredDescriptionContent:()=>xo,StructuredDescriptionPlaylistLockup:()=>x_,SubFeedOption:()=>eg,SubFeedSelector:()=>xI,SubscribeButton:()=>Ge,SubscriptionNotificationToggleButton:()=>G_,Tab:()=>ge,Tabbed:()=>yI,TabbedSearchResults:()=>tg,TextHeader:()=>bI,ThumbnailLandscapePortrait:()=>wI,ThumbnailOverlayBottomPanel:()=>Rv,ThumbnailOverlayEndorsement:()=>TI,ThumbnailOverlayHoverText:()=>SI,ThumbnailOverlayInlineUnplayable:()=>II,ThumbnailOverlayLoadingPreview:()=>kI,ThumbnailOverlayNowPlaying:()=>CI,ThumbnailOverlayPinking:()=>EI,ThumbnailOverlayPlaybackStatus:()=>PI,ThumbnailOverlayResumePlayback:()=>NI,ThumbnailOverlaySidePanel:()=>AI,ThumbnailOverlayTimeStatus:()=>go,ThumbnailOverlayToggleButton:()=>RI,TimedMarkerDecoration:()=>MI,TitleAndButtonListHeader:()=>VI,ToggleButton:()=>Oe,ToggleButtonView:()=>nr,ToggleMenuServiceItem:()=>OI,Tooltip:()=>DI,TopicChannelDetails:()=>BI,Transcript:()=>Kn,TranscriptFooter:()=>A_,TranscriptSearchBox:()=>R_,TranscriptSearchPanel:()=>D_,TranscriptSectionHeader:()=>M_,TranscriptSegment:()=>V_,TranscriptSegmentList:()=>O_,TwoColumnBrowseResults:()=>ii,TwoColumnSearchResults:()=>ig,TwoColumnWatchNextResults:()=>gr,UniversalWatchCard:()=>ng,UpdateDateTextAction:()=>Xv,UpdateDescriptionAction:()=>Qv,UpdateEngagementPanelAction:()=>ew,UpdateLiveChatPollAction:()=>_S,UpdateTitleAction:()=>Zv,UpdateToggleButtonTextAction:()=>e0,UpdateViewershipAction:()=>t0,UploadTimeFactoid:()=>f_,UpsellDialog:()=>LI,VerticalList:()=>FI,VerticalWatchCardList:()=>YI,Video:()=>jn,VideoAttributeView:()=>Wn,VideoCard:()=>p_,VideoDescriptionCourseSection:()=>y_,VideoDescriptionHeader:()=>h_,VideoDescriptionInfocardsSection:()=>__,VideoDescriptionMusicSection:()=>Jn,VideoDescriptionTranscriptSection:()=>ja,VideoInfoCardContent:()=>jI,VideoOwner:()=>xr,VideoPrimaryInfo:()=>rg,VideoSecondaryInfo:()=>Ym,ViewCountFactoid:()=>m_,WatchCardCompactVideo:()=>sg,WatchCardHeroVideo:()=>UI,WatchCardRichHeader:()=>WI,WatchCardSectionSequence:()=>HI,WatchNextEndScreen:()=>V0,WatchNextTabbedResults:()=>ag,YpcTrailer:()=>R0});var Ka=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=w.fromResponse(e.favicon)}};n(Ka,"ChannelExternalLinkView");Ka.type="ChannelExternalLinkView";var S_=Ka;var $a=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,S_):this.links=[]}};n($a,"AboutChannelView");$a.type="AboutChannelView";var I_=$a;var qa=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,I_),this.share_channel=c.parseItem(e.shareChannel,I)}};n(qa,"AboutChannel");qa.type="AboutChannel";var k_=qa;var Xa=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Xa,"AccountChannel");Xa.type="AccountChannel";var C_=Xa;var Qa=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Qa,"AccountItemSectionHeader");Qa.type="AccountItemSectionHeader";var E_=Qa;var Za=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Za,"AccountItem");Za.type="AccountItem";var eu=class extends a{constructor(e){super(),this.contents=ae(e.contents.map(i=>new Za(i.accountItem))),this.header=c.parseItem(e.header,E_)}};n(eu,"AccountItemSection");eu.type="AccountItemSection";var P_=eu;var tu=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],P_),this.footers=c.parseItem(e.footers[0],C_)}};n(tu,"AccountSectionList");tu.type="AccountSectionList";var N_=tu;var iu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(iu,"AppendContinuationItemsAction");iu.type="AppendContinuationItemsAction";var yo=iu;var ou=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(ou,"SortFilterSubMenu");ou.type="SortFilterSubMenu";var At=ou;var nu=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,At)}};n(nu,"TranscriptFooter");nu.type="TranscriptFooter";var A_=nu;var ru=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,I),this.endpoint=new v(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,I)}};n(ru,"TranscriptSearchBox");ru.type="TranscriptSearchBox";var R_=ru;var su=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(su,"TranscriptSectionHeader");su.type="TranscriptSectionHeader";var M_=su;var au=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(au,"TranscriptSegment");au.type="TranscriptSegment";var V_=au;var uu=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[V_,M_]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(uu,"TranscriptSegmentList");uu.type="TranscriptSegmentList";var O_=uu;var lu=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,R_),this.body=c.parseItem(e.body,O_),this.footer=c.parseItem(e.footer,A_),this.target_id=e.targetId}};n(lu,"TranscriptSearchPanel");lu.type="TranscriptSearchPanel";var D_=lu;var cu=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,D_)}};n(cu,"Transcript");cu.type="Transcript";var Kn=cu;var du=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,Kn)}};n(du,"UpdateEngagementPanelAction");du.type="UpdateEngagementPanelAction";var ew=du;var pu=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(pu,"DataModelSection");pu.type="DataModelSection";var B_=pu;var fu=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new B_(o))}};n(fu,"AnalyticsMainAppKeyMetrics");fu.type="AnalyticsMainAppKeyMetrics";var tw=fu;var mu=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(mu,"AnalyticsRoot");mu.type="AnalyticsRoot";var iw=mu;var hu=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(hu,"AnalyticsShortsCarouselCard");hu.type="AnalyticsShortsCarouselCard";var ow=hu;var _u=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(_u,"AnalyticsVideo");_u.type="AnalyticsVideo";var L_=_u;var vu=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new L_(i)))}};n(vu,"AnalyticsVodCarouselCard");vu.type="AnalyticsVodCarouselCard";var nw=vu;var gu=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(gu,"CtaGoToCreatorStudio");gu.type="CtaGoToCreatorStudio";var rw=gu;var xu=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(xu,"StatRow");xu.type="StatRow";var sw=xu;var yu=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(yu,"AutomixPreviewVideo");yu.type="AutomixPreviewVideo";var Oi=yu;var bu=class extends a{constructor(e){super(),this.image={sources:e.image.sources.map(i=>new w(i)).sort((i,o)=>o.width-i.width),processor:{border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}}},this.avatar_image_size=e.avatarImageSize}};n(bu,"AvatarView");bu.type="AvatarView";var F_=bu;var wu=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new v(e.command)}};n(wu,"BackstageImage");wu.type="BackstageImage";var Y_=wu;var Tu=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((s=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(m=e.defaultServiceEndpoint)===null||m===void 0?void 0:m.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(Tu,"ToggleButton");Tu.type="ToggleButton";var Oe=Tu;var Su=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(Su,"CreatorHeart");Su.type="CreatorHeart";var j_=Su;var Iu=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Oe),this.dislike_button=c.parseItem(e.dislikeButton,Oe),this.reply_button=c.parseItem(e.replyButton,I),this.creator_heart=c.parseItem(e.creatorHeart,j_)}};n(Iu,"CommentActionButtons");Iu.type="CommentActionButtons";var $n=Iu;var ku=class extends a{constructor(e){super(),this.id=e.postId,this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,Y)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,$n)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(ku,"BackstagePost");ku.type="BackstagePost";var Di=ku;var Cu=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(Cu,"BackstagePostThread");Cu.type="BackstagePostThread";var aw=Cu;var Eu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Eu,"BrowseFeedActions");Eu.type="BrowseFeedActions";var U_=Eu;var Pu=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};n(Pu,"BrowserMediaSession");Pu.type="BrowserMediaSession";var uw=Pu;var Nu=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(Nu,"ButtonView");Nu.type="ButtonView";var bo=Nu;var qn=class extends a{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new u(e.title)}};n(qn,"HeaderLink");qn.type="HeaderLink";var Au=class extends a{constructor(e){var i,o;super(),this.primary=ae(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new qn(r)))||[]),this.secondary=ae(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new qn(r)))||[])}};n(Au,"ChannelHeaderLinks");Au.type="ChannelHeaderLinks";var W_=Au;var Ru=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(Ru,"ChannelHeaderLinksView");Ru.type="ChannelHeaderLinksView";var H_=Ru;var Mu=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,zn),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(Mu,"ChannelTagline");Mu.type="ChannelTagline";var J_=Mu;var Vu=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Vu,"SubscriptionNotificationToggleButton");Vu.type="SubscriptionNotificationToggleButton";var G_=Vu;var Ou=class extends a{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,G_),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(Ou,"SubscribeButton");Ou.type="SubscribeButton";var Ge=Ou;var Du=class extends a{constructor(e){super(),this.author=new V({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,I])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[W_,H_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,J_))}};n(Du,"C4TabbedHeader");Du.type="C4TabbedHeader";var Bi=Du;var Bu=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Bu,"CallToActionButton");Bu.type="CallToActionButton";var lw=Bu;var Lu=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Lu,"Card");Lu.type="Card";var cw=Lu;var Fu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Fu,"CarouselHeader");Fu.type="CarouselHeader";var z_=Fu;var Yu=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Yu,"CarouselItem");Yu.type="CarouselItem";var dw=Yu;var ju=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(ju,"Channel");ju.type="Channel";var K_=ju;var Uu=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new v(r.navigationEndpoint),icon:w.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=c.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};n(Uu,"ChannelAboutFullMetadata");Uu.type="ChannelAboutFullMetadata";var Wu=Uu;var Hu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};n(Hu,"ChannelAgeGate");Hu.type="ChannelAgeGate";var pw=Hu;var Ju=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items)}};n(Ju,"ChannelFeaturedContent");Ju.type="ChannelFeaturedContent";var fw=Ju;var Gu=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Gu,"ChannelMetadata");Gu.type="ChannelMetadata";var $_=Gu;var zu=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(zu,"ChannelMobileHeader");zu.type="ChannelMobileHeader";var mw=zu;var Ku=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Ku,"ChannelOptions");Ku.type="ChannelOptions";var q_=Ku;var $u=class extends a{constructor(e){super(),this.illustration=w.fromResponse(e.illustration),this.description=new u(e.description)}};n($u,"ChannelOwnerEmptyState");$u.type="ChannelOwnerEmptyState";var hw=$u;var qu=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(qu,"ChannelSubMenu");qu.type="ChannelSubMenu";var Xu=qu;var Qu=class extends a{constructor(e){var i,o;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Qu,"ChannelThumbnailWithLink");Qu.type="ChannelThumbnailWithLink";var _w=Qu;var Zu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(Zu,"ChannelVideoPlayer");Zu.type="ChannelVideoPlayer";var vw=Zu;var el=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};n(el,"Chapter");el.type="Chapter";var X_=el;var tl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Le(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(tl,"ChildVideo");tl.type="ChildVideo";var gw=tl;var il=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(il,"ChipCloudChip");il.type="ChipCloudChip";var _e=il;var ol=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,_e),this.next_button=c.parseItem(e.nextButton,I),this.previous_button=c.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(ol,"ChipCloud");ol.type="ChipCloud";var ct=ol;var nl=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(nl,"CollaboratorInfoCardContent");nl.type="CollaboratorInfoCardContent";var xw=nl;var rl=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(rl,"CollageHeroImage");rl.type="CollageHeroImage";var yw=rl;var sl=class extends a{constructor(e){super(),this.endpoint=new v(e)}};n(sl,"Command");sl.type="Command";var bw=sl;var Q_,al=class extends a{constructor(e){super(),Q_.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,Q_,e,"f")}get orig_badge(){return d(this,Q_,"f")}};n(al,"AuthorCommentBadge");Q_=new WeakMap;al.type="AuthorCommentBadge";var Z_=al;var ul=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(ul,"CommentReplyDialog");ul.type="CommentReplyDialog";var ev=ul;var ll=class extends a{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(ll,"PdgCommentChip");ll.type="PdgCommentChip";var tv=ll;var cl=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(cl,"SponsorCommentBadge");cl.type="SponsorCommentBadge";var iv=cl;var Rt={};D(Rt,{decodeVisitorData:()=>sv,encodeChannelAnalyticsParams:()=>ky,encodeCommentActionParams:()=>dl,encodeCommentParams:()=>Ay,encodeCommentsSectionParams:()=>Ny,encodeCustomThumbnailPayload:()=>Vy,encodeHashtag:()=>Oy,encodeMessageParams:()=>Py,encodeMusicSearchFilters:()=>Ey,encodeNotificationPref:()=>Ry,encodeReelSequence:()=>Dy,encodeSearchFilters:()=>Cy,encodeVideoMetadataPayload:()=>My,encodeVisitorData:()=>Iy});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var j=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+nv(gy(this),ov).toString(!1);let r=[],s=new j(i,o);for(;A1(s,P1);){let[l,p]=N1(s);r.push(p),s=l}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new j(0);if(e.length<10)return i<0?nv(gy(new j(-i)),ov):new j(i);let r=new j,s=ov;for(let l of e.split("").reverse())parseInt(l)&&(r=nv(r,ww(new j(parseInt(l)),s))),s=ww(s,new j(10));return o?nv(gy(r),ov):r}};n(j,"Long");var P1=new j(0),ov=new j(1);function rv(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(rv,"makeChunk");function nv(t,e){let[i,o,r,s]=rv(t),[l,p,f,m]=rv(e),_=0,x=0,T=0,b=0;return b+=i+l,T+=b>>>16,b&=65535,T+=o+p,x+=T>>>16,T&=65535,x+=r+f,_+=x>>>16,x&=65535,_+=s+m,_&=65535,new j(T<<16|b,_<<16|x)}n(nv,"add");function ww(t,e){let[i,o,r,s]=rv(t),[l,p,f,m]=rv(e),_=0,x=0,T=0,b=0;return b+=i*l,T+=b>>>16,b&=65535,T+=i*p+o*l,x+=T>>>16,T&=65535,x+=i*f+r*l+o*p,_+=x>>>16,x&=65535,_+=i*m+o*f+r*p+s*l,_&=65535,new j(T<<16|b,_<<16|x)}n(ww,"mul");function N1(t){let[e,i]=t;return[new j((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(N1,"divByTen");function A1(t,e){let[i,o]=t,[r,s]=e;return o!==s?o-s:i-r}n(A1,"compare");function gy(t){let[e,i]=t;return new j(~e,~i)}n(gy,"negate");function Xn(t){let e=[],r=typeof t=="number"?new j(t):t;for(;r[0]||r[1];){let[s,l]=r,p=s&127,f=l>>>7,m=s>>>7|(l&127)<<32-7;r=new j(m,f);let _=r[0]||r[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Xn,"encode");function Qn(t){let e=new j(0),i=0;for(;;){let o=t.getUint8(i);if(e=R1(e,M1(new j(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Qn,"decode");function R1(t,e){return new j(t[0]|e[0],t[1]|e[1])}n(R1,"or");function M1(t,e){return e===0?t:e>=32?new j(0,t[0]<<e-32):new j(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(M1,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Xn(i<<3|o.type)),o.type){case E.Varint:e.push(Xn(o.value));break;case E.Fixed64:{let r=new Uint8Array(8),s=new DataView(r.buffer);s.setUint32(0,o.value[0],!0),s.setUint32(4,o.value[1],!0),e.push(r);break}case E.LengthDelimited:e.push(Xn(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),xy(e)}n(P,"serialize");function xy(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(xy,"concat");function yy(t){if(t instanceof j){let e=new j(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(yy,"encode");function by(t){if(t instanceof j){let e=new j(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(by,"decode");var wy={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>by(t[0]),sint64:t=>by(t).toString(!0),bool:t=>t[0]!==0},Ty={int32:t=>new j(t),int64:t=>j.parse(t),uint32:t=>new j(t),uint64:t=>j.parse(t),sint32:t=>yy(new j(t)),sint64:t=>yy(j.parse(t)),bool:t=>new j(+t)},V1=Object.fromEntries(Object.entries(wy).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),O1=Object.fromEntries(Object.entries(Ty).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),W=Object.assign(Object.assign({},V1),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},O1),{double:t=>{let e=new j;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:j.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:j.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),D1=Object.fromEntries(Object.keys(wy).map(t=>[t,function*(e){for(let i of e){let o=W[t](i);if(o!=null)yield o;else for(let r of Y1(i))yield wy[t](r)}}])),fL=Object.assign(Object.assign({},D1),{*double(t){for(let e of t){let i=W.double(e);i!=null?yield i:yield*L1(e)}},*float(t){for(let e of t){let i=W.float(e);i!=null?yield i:yield*F1(e)}},*fixed32(t){for(let e of t){let i=W.fixed32(e);if(i!=null)yield i;else for(let o of Tw(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=W.fixed64(e);if(i!=null)yield i;else for(let o of Sw(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=W.sfixed32(e);if(i!=null)yield i;else for(let o of Tw(e))yield o|0}},*sfixed64(t){for(let e of t){let i=W.sfixed64(e);if(i!=null)yield i;else for(let o of Sw(e))yield o.toString(!0)}}}),B1=Object.fromEntries(Object.keys(Ty).map(t=>[t,function(e){return{type:E.LengthDelimited,value:xy(e.map(i=>{let o=Ty[t](i);return Xn(o)}))}}]));function Zn(t,e){return n(function(o){let r=new Uint8Array(o.length*t),s=new DataView(r.buffer);for(let l=0;l<o.length;++l)e(s,l*t,o[l]);return{type:E.LengthDelimited,value:r}},"pack")}n(Zn,"getFixedPackFn");var mL=Object.assign(Object.assign({},B1),{double:Zn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Zn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Zn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Zn(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Zn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Zn(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*L1(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(L1,"unpackDouble");function*F1(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(F1,"unpackFloat");function*Y1(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=Qn(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(Y1,"unpackVarint");function*Tw(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(Tw,"unpackFixed32");function*Sw(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let s=o.getUint32(i,!0);i+=4,yield new j(r,s)}}n(Sw,"unpackFixed64");function H(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let s=Qn(new DataView(t.buffer,i+e)),l=s[1][0];e+=s[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[x,T]=Qn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:T}]),e+=x;break}case E.Fixed64:let m=r.getUint32(e,!0),_=r.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new j(m,_)}]);break;case E.LengthDelimited:{let[x,T]=Qn(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=x,e+=T[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([f,{type:p}]);break;case E.Fixed32:o.push([f,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(H,"deserialize");function j1(){return{id:"",timestamp:0}}n(j1,"getDefaultValue");function Iw(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return P(e)}n(Iw,"encodeBinary");function kw(t){let e=j1(),i=H(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let s=W.string(r);if(s===void 0)break e;e.id=s}e:{let r=o.get(5);if(r===void 0)break e;let s=W.int32(r);if(s===void 0)break e;e.timestamp=s}return e}n(kw,"decodeBinary");function Cw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return P(e)}n(Cw,"encodeBinary");function Ew(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:Cw(i)}])}return P(e)}n(Ew,"encodeBinary");function Pw(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return P(e)}n(Pw,"encodeBinary");function Nw(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:Pw(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return P(e)}n(Nw,"encodeBinary");function Aw(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return P(e)}n(Aw,"encodeBinary");function Rw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:Aw(i)}])}return P(e)}n(Rw,"encodeBinary");function Mw(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:Rw(i)}])}return P(e)}n(Mw,"encodeBinary");function Vw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}n(Vw,"encodeBinary");function Ow(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:Vw(i)}])}return P(e)}n(Ow,"encodeBinary");function Dw(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:Ow(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return P(e)}n(Dw,"encodeBinary");function Bw(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}n(Bw,"encodeBinary");function Lw(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return P(e)}n(Lw,"encodeBinary");function Fw(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:Lw(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return P(e)}n(Fw,"encodeBinary");function Yw(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return P(e)}n(Yw,"encodeBinary");function jw(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:Fw(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:Yw(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return P(e)}n(jw,"encodeBinary");function Uw(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:Bw(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:jw(i)}])}return P(e)}n(Uw,"encodeBinary");function Ww(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}n(Ww,"encodeBinary");function Hw(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:Ww(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return P(e)}n(Hw,"encodeBinary");function Jw(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(Jw,"encodeBinary");function Gw(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:Jw(i)}])}return P(e)}n(Gw,"encodeBinary");function zw(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:Gw(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return P(e)}n(zw,"encodeBinary");function Kw(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:zw(i)}])}return P(e)}n(Kw,"encodeBinary");function $w(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}n($w,"encodeBinary");function qw(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:$w(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return P(e)}n(qw,"encodeBinary");function Xw(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return P(e)}n(Xw,"encodeBinary");function Qw(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:Xw(i)}])}return P(e)}n(Qw,"encodeBinary");function Zw(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(Zw,"encodeBinary");function eT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}n(eT,"encodeBinary");function tT(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return P(e)}n(tT,"encodeBinary");function iT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return P(e)}n(iT,"encodeBinary");function oT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return P(e)}n(oT,"encodeBinary");function nT(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return P(e)}n(nT,"encodeBinary");function rT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:nT(i)}])}return P(e)}n(rT,"encodeBinary");function sT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return P(e)}n(sT,"encodeBinary");function aT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}n(aT,"encodeBinary");function uT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}n(uT,"encodeBinary");function Sy(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:Qw(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:Zw(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:eT(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:tT(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:iT(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:oT(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:rT(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:sT(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:aT(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:uT(i)}])}return P(e)}n(Sy,"encodeBinary");function lT(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return P(e)}n(lT,"encodeBinary");function cT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:lT(i)}])}return P(e)}n(cT,"encodeBinary");function dT(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return P(e)}n(dT,"encodeBinary");function pT(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:dT(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return P(e)}n(pT,"encodeBinary");function Iy(t,e){let i=Iw({id:t,timestamp:e});return encodeURIComponent(dt(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(Iy,"encodeVisitorData");function sv(t){return kw(By(decodeURIComponent(t)))}n(sv,"decodeVisitorData");function ky(t){let e=Ew({params:{channelId:t}});return encodeURIComponent(dt(e))}n(ky,"encodeChannelAnalyticsParams");function Cy(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},s={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=r[t.sort_by]),t.features))for(let f of t.features)l.filters[s[f]]=1;let p=Nw(l);return encodeURIComponent(dt(p))}n(Cy,"encodeSearchFilters");function Ey(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=Mw(i);return encodeURIComponent(dt(o))}n(Ey,"encodeMusicSearchFilters");function Py(t,e){let i=Dw({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(dt(i)))}n(Py,"encodeMessageParams");function Ny(t,e={}){let o=Uw({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(dt(o))}n(Ny,"encodeCommentsSectionParams");function Ay(t){let e=Hw({videoId:t,params:{index:0},number:7});return encodeURIComponent(dt(e))}n(Ay,"encodeCommentParams");function dl(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Kw(i);return encodeURIComponent(dt(o))}n(dl,"encodeCommentActionParams");function Ry(t,e){let i=qw({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(dt(i))}n(Ry,"encodeNotificationPref");function My(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Sy(i)}n(My,"encodeVideoMetadataPayload");function Vy(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return Sy(i)}n(Vy,"encodeCustomThumbnailPayload");function Oy(t){let e=cT({params:{hashtag:t,type:1}});return encodeURIComponent(dt(e))}n(Oy,"encodeHashtag");function Dy(t){let e=pT({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(dt(e))}n(Dy,"encodeReelSequence");var Mt,pl=class extends a{constructor(e){var i,o,r,s,l,p,f;super(),Mt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,iv),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,tv),this.author_badge=c.parseItem(e.authorCommentBadge,Z_),this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,Y),this.action_buttons=c.parseItem(e.actionButtons,$n),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((l=(s=this.action_buttons)===null||s===void 0?void 0:s.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return y(this,void 0,void 0,function*(){if(!d(this,Mt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new g("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Mt,"f"),{parse:!1})})}dislike(){var e;return y(this,void 0,void 0,function*(){if(!d(this,Mt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new g("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Mt,"f"),{parse:!1})})}reply(e){var i,o,r;return y(this,void 0,void 0,function*(){if(!d(this,Mt,"f"))throw new g("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new g("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=s.endpoint)===null||r===void 0)&&r.dialog))throw new g("Reply button endpoint did not have a dialog.");let p=s.endpoint.dialog.as(ev).reply_button;if(!p)throw new g("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new g("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Mt,"f"),{commentText:e})})}translate(e){var i,o,r,s,l,p;return y(this,void 0,void 0,function*(){if(!d(this,Mt,"f"))throw new g("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=dl(22,m),x=yield d(this,Mt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),T=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,b=(p=(l=(s=(r=T==null?void 0:T[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:b})})}setActions(e){S(this,Mt,e,"f")}};n(pl,"Comment");Mt=new WeakMap;pl.type="Comment";var er=pl;var fl=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(fl,"EmojiPicker");fl.type="EmojiPicker";var av=fl;var ml=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,I),this.emoji_picker=c.parseItem(e.emojiPicker,av)}};n(ml,"CommentDialog");ml.type="CommentDialog";var fT=ml;var hl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,I),this.hide_replies=c.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(hl,"CommentReplies");hl.type="CommentReplies";var uv=hl;var _l=class extends a{constructor(e){super(),this.simplebox_avatar=w.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(_l,"CommentsSimplebox");_l.type="CommentsSimplebox";var lv=_l;var vl=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(vl,"CommentsEntryPointTeaser");vl.type="CommentsEntryPointTeaser";var cv=vl;var gl=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[cv,lv])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(gl,"CommentsEntryPointHeader");gl.type="CommentsEntryPointHeader";var dv=gl;var xl=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,At),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(xl,"CommentsHeader");xl.type="CommentsHeader";var Li=xl;var yl=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(yl,"CommentSimplebox");yl.type="CommentSimplebox";var pv=yl;var mi,wo,bl=class extends a{constructor(e){super(),mi.set(this,void 0),wo.set(this,void 0),this.comment=c.parseItem(e.comment,er),this.comment_replies_data=c.parseItem(e.replies,uv),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return y(this,void 0,void 0,function*(){if(!d(this,mi,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(he);if(!i)throw new g("Replies continuation not found.");let o=yield i.endpoint.call(d(this,mi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(er).map(r=>(r.setActions(d(this,mi,"f")),r))),S(this,wo,o==null?void 0:o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,wo,"f"))throw new g("Continuation not found.");if(!d(this,mi,"f"))throw new g("Actions instance not set for this thread.");let i=(e=d(this,wo,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new g('"Load more" button not found.');let o=yield i.endpoint.call(d(this,mi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=ae(o.on_response_received_endpoints_memo.getType(er).map(r=>(r.setActions(d(this,mi,"f")),r))),S(this,wo,o.on_response_received_endpoints_memo.getType(he).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,wo,"f")}setActions(e){S(this,mi,e,"f")}};n(bl,"CommentThread");mi=new WeakMap,wo=new WeakMap;bl.type="CommentThread";var fv=bl;var wl=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,Y)}};n(wl,"CompactChannel");wl.type="CompactChannel";var mT=wl;var Tl=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(Tl,"CompactLink");Tl.type="CompactLink";var tr=Tl;var Sl=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Sl,"PlaylistCustomThumbnail");Sl.type="PlaylistCustomThumbnail";var ir=Sl;var Il=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Il,"PlaylistVideoThumbnail");Il.type="PlaylistVideoThumbnail";var or=Il;var kl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new V(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[or,ir])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(kl,"Playlist");kl.type="Playlist";var Xt=kl;var Cl=class extends Xt{constructor(e){super(e)}};n(Cl,"CompactMix");Cl.type="CompactMix";var hT=Cl;var El=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(s=>s.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Le(r)},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,Y)}};n(El,"CompactMovie");El.type="CompactMovie";var _T=El;var Pl=class extends Xt{constructor(e){super(e)}};n(Pl,"CompactPlaylist");Pl.type="CompactPlaylist";var vT=Pl;var Nl=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Nl,"CompactStation");Nl.type="CompactStation";var gT=Nl;var Al=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=c.parseItem(e.confirmButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Al,"ConfirmDialog");Al.type="ConfirmDialog";var xT=Al;var Rl=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>({metadata_parts:i.metadataParts.map(o=>({text:u.fromAttributed(o.text)}))})),this.delimiter=e.delimiter}};n(Rl,"ContentMetadataView");Rl.type="ContentMetadataView";var mv=Rl;var Ml=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(Ml,"Message");Ml.type="Message";var ze=Ml;var Vl=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,ze)}};n(Vl,"ConversationBar");Vl.type="ConversationBar";var yT=Vl;var Ol=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(Ol,"CopyLink");Ol.type="CopyLink";var hv=Ol;var Dl=class extends a{constructor(e){super(),this.avatar=new F_(e.avatar.avatarViewModel),this.a11y_label=e.a11yLabel,this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap.innertubeCommand)}};n(Dl,"DecoratedAvatarView");Dl.type="DecoratedAvatarView";var _v=Dl;var Bl=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Bl,"HeatMarker");Bl.type="HeatMarker";var vv=Bl;var Ll=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,vv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(Ll,"Heatmap");Ll.type="Heatmap";var gv=Ll;var Fl=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,gv)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,X_)))}};n(Fl,"Marker");Fl.type="Marker";var Yl=class extends a{constructor(e){var i;super(),this.markers_map=ae(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Fl(o)))||[])}};n(Yl,"MultiMarkersPlayerBar");Yl.type="MultiMarkersPlayerBar";var xv=Yl;var jl=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,xv),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,I)}};n(jl,"DecoratedPlayerBar");jl.type="DecoratedPlayerBar";var yv=jl;var Ul=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Ul,"DefaultPromoPanel");Ul.type="DefaultPromoPanel";var bT=Ul;var Wl=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Wl,"DidYouMean");Wl.type="DidYouMean";var bv=Wl;var Hl=class extends a{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,bo),this.toggled_button=c.parseItem(e.toggledButtonViewModel,bo),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Hl,"ToggleButtonView");Hl.type="ToggleButtonView";var nr=Hl;var Jl=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,nr),this.dislike_entity_key=e.dislikeEntityKey}};n(Jl,"DislikeButtonView");Jl.type="DislikeButtonView";var wv=Jl;var Gl=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(Gl,"DownloadButton");Gl.type="DownloadButton";var wT=Gl;var zl=class extends a{constructor(e){super(),this.text=e.text.content}};n(zl,"DynamicTextView");zl.type="DynamicTextView";var Tv=zl;var To=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new To(o)))}};n(To,"ChildElement");To.type="ChildElement";var Sv=To;var So=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,So);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ae(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new Sv(r)))||[]))}};n(So,"Element");So.type="Element";var rr=So;var Kl=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,Y)}};n(Kl,"EmergencyOnebox");Kl.type="EmergencyOnebox";var TT=Kl;var $l=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n($l,"EmojiPickerCategory");$l.type="EmojiPickerCategory";var ST=$l;var ql=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(ql,"EmojiPickerCategoryButton");ql.type="EmojiPickerCategoryButton";var IT=ql;var Xl=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(Xl,"EmojiPickerUpsellCategory");Xl.type="EmojiPickerUpsellCategory";var kT=Xl;var Ql=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Ql,"EndscreenElement");Ql.type="EndscreenElement";var CT=Ql;var Zl=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(Zl,"EndScreenPlaylist");Zl.type="EndScreenPlaylist";var Iv=Zl;var ec=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(ec,"EndScreenVideo");ec.type="EndScreenVideo";var kv=ec;var tc=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(tc,"ExpandableTab");tc.type="ExpandableTab";var sr=tc;var ic=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(ic,"ExpandedShelfContents");ic.type="ExpandedShelfContents";var ET=ic;var oc=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(oc,"FancyDismissibleDialog");oc.type="FancyDismissibleDialog";var PT=oc;var nc=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,_e)}};n(nc,"FeedFilterChipBar");nc.type="FeedFilterChipBar";var hi=nc;var rc=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(rc,"FeedNudge");rc.type="FeedNudge";var NT=rc;var sc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(sc,"FeedTabbedHeader");sc.type="FeedTabbedHeader";var Cv=sc;var ac=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,bo)})),this.style=e.style}};n(ac,"FlexibleActionsView");ac.type="FlexibleActionsView";var Ev=ac;var uc=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(uc,"GameDetails");uc.type="GameDetails";var AT=uc;var lc=class extends a{constructor(e){var i,o,r;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(lc,"Grid");lc.type="Grid";var Io=lc;var cc=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(cc,"GridChannel");cc.type="GridChannel";var Pv=cc;var dc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(dc,"GridHeader");dc.type="GridHeader";var RT=dc;var pc=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(pc,"GridMix");pc.type="GridMix";var MT=pc;var fc=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges,nt),this.metadata=new u(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(fc,"GridMovie");fc.type="GridMovie";var VT=fc;var mc=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new V(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(mc,"GridPlaylist");mc.type="GridPlaylist";var Nv=mc;var hc=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(hc,"ShowCustomThumbnail");hc.type="ShowCustomThumbnail";var Av=hc;var _c=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(_c,"ThumbnailOverlayBottomPanel");_c.type="ThumbnailOverlayBottomPanel";var Rv=_c;var vc=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=re(e.thumbnailRenderer,Av),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ke(e.thumbnailOverlays,Rv),this.author=new V(e.shortBylineText,void 0)}};n(vc,"GridShow");vc.type="GridShow";var OT=vc;var gc=class extends a{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new V(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=c.parseItem(e.menu,Y),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(gc,"GridVideo");gc.type="GridVideo";var Mv=gc;var xc=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(xc,"GuideEntry");xc.type="GuideEntry";var ko=xc;var yc=class extends a{constructor(e){super(),this.expander_item=re(e.expanderItem,ko),this.collapser_item=re(e.collapserItem,ko),this.expandable_items=Ke(e.expandableItems)}};n(yc,"GuideCollapsibleEntry");yc.type="GuideCollapsibleEntry";var DT=yc;var bc=class extends a{constructor(e){super(),this.header_entry=re(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ke(e.sectionItems)}};n(bc,"GuideCollapsibleSectionEntry");bc.type="GuideCollapsibleSectionEntry";var BT=bc;var wc=class extends ko{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(wc,"GuideDownloadsEntry");wc.type="GuideDownloadsEntry";var LT=wc;var Tc=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ke(e.items)}};n(Tc,"GuideSection");Tc.type="GuideSection";var ar=Tc;var Sc=class extends ar{};n(Sc,"GuideSubscriptionsSection");Sc.type="GuideSubscriptionsSection";var Vv=Sc;var Ic=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(Ic,"HashtagHeader");Ic.type="HashtagHeader";var Ov=Ic;var kc=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=w.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(kc,"HashtagTile");kc.type="HashtagTile";var FT=kc;var Cc=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(Cc,"HeroPlaylistThumbnail");Cc.type="HeroPlaylistThumbnail";var YT=Cc;var Ec=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:w.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:w.fromResponse(e.backgroundImage.image),gradient_image:w.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(Ec,"Panel");Ec.type="Panel";var Pc=class extends a{constructor(e){super(),this.panels=ae(e.highlightsCarousel.panels.map(i=>new Ec(i)))}};n(Pc,"HighlightsCarousel");Pc.type="HighlightsCarousel";var Nc=Pc;var Ac=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(Ac,"SearchSuggestion");Ac.type="SearchSuggestion";var Dv=Ac;var Rc=class extends Dv{constructor(e){super(e)}};n(Rc,"HistorySuggestion");Rc.type="HistorySuggestion";var jT=Rc;var Mc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}get contents(){return this.items}};n(Mc,"HorizontalMovieList");Mc.type="HorizontalMovieList";var UT=Mc;var Vc=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(Vc,"IconLink");Vc.type="IconLink";var Bv=Vc;var Oc=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(Oc,"IncludingResultsFor");Oc.type="IncludingResultsFor";var WT=Oc;var Dc=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(Dc,"InfoPanelContent");Dc.type="InfoPanelContent";var Lv=Dc;var Bc=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=c.parseItem(e.menu,Y),this.content=c.parseItem(e.content,Lv),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Bc,"InfoPanelContainer");Bc.type="InfoPanelContainer";var Fv=Bc;var Lc=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=c.parseArray(e.badges,nt),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[Ge,I]),this.auto_generated=new u(e.autoGenerated)}};n(Lc,"InteractiveTabbedHeader");Lc.type="InteractiveTabbedHeader";var Yv=Lc;var Fc=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Fc,"ItemSectionHeader");Fc.type="ItemSectionHeader";var ur=Fc;var Yc=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(Yc,"ItemSectionTab");Yc.type="Tab";var jv=Yc;var jc=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=c.parseArray(e.tabs,jv),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(jc,"ItemSectionTabbedHeader");jc.type="ItemSectionTabbedHeader";var lr=jc;var Uc=class extends a{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,Co.SortFilterSubMenu)}};n(Uc,"SortFilterHeader");Uc.type="SortFilterHeader";var Uv=Uc;var Wc=class extends a{constructor(e){var i,o,r;super(),this.header=c.parseItem(e.header,[Li,ur,lr,Uv]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Wc,"ItemSection");Wc.type="ItemSection";var ve=Wc;var Hc=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(Hc,"LikeButton");Hc.type="LikeButton";var Wv=Hc;var Jc=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,nr),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(Jc,"LikeButtonView");Jc.type="LikeButtonView";var Hv=Jc;var Gc=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(Gc,"LiveChat");Gc.type="LiveChat";var Jv=Gc;var zc=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(zc,"LiveChatBannerHeader");zc.type="LiveChatBannerHeader";var Gv=zc;var Kc=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Gv),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Kc,"LiveChatBanner");Kc.type="LiveChatBanner";var zv=Kc;var $c=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,zv)}};n($c,"AddBannerToLiveChatCommand");$c.type="AddBannerToLiveChatCommand";var HT=$c;var qc=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(qc,"AddChatItemAction");qc.type="AddChatItemAction";var Kv=qc;var Xc=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(Xc,"AddLiveChatTickerItemAction");Xc.type="AddLiveChatTickerItemAction";var JT=Xc;var Qc=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Qc,"DimChatItemAction");Qc.type="DimChatItemAction";var GT=Qc;var Zc=class extends a{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,I),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Zc,"LiveChatAutoModMessage");Zc.type="LiveChatAutoModMessage";var zT=Zc;var ed=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(ed,"LiveChatBannerPoll");ed.type="LiveChatBannerPoll";var KT=ed;var td=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(td,"LiveChatMembershipItem");td.type="LiveChatMembershipItem";var $T=td;var id=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(id,"LiveChatPaidMessage");id.type="LiveChatPaidMessage";var qT=id;var od=class extends a{constructor(e){super(),this.id=e.id,this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(od,"LiveChatPaidSticker");od.type="LiveChatPaidSticker";var XT=od;var nd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(nd,"LiveChatPlaceholderItem");nd.type="LiveChatPlaceholderItem";var QT=nd;var rd=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(rd,"LiveChatProductItem");rd.type="LiveChatProductItem";var ZT=rd;var sd=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(sd,"LiveChatRestrictedParticipation");sd.type="LiveChatRestrictedParticipation";var eS=sd;var Eo=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Eo,"LiveChatMessageBase");Eo.type="LiveChatMessageBase";var ad=class extends Eo{constructor(e){super(e),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(ad,"LiveChatTextMessage");ad.type="LiveChatTextMessage";var tS=ad;var ud=class extends a{constructor(e){var i,o;super(),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(ud,"LiveChatTickerPaidMessageItem");ud.type="LiveChatTickerPaidMessageItem";var $v=ud;var ld=class extends $v{};n(ld,"LiveChatTickerPaidStickerItem");ld.type="LiveChatTickerPaidStickerItem";var iS=ld;var cd=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new V(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(cd,"LiveChatTickerSponsorItem");cd.type="LiveChatTickerSponsorItem";var oS=cd;var dd=class extends Eo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(dd,"LiveChatViewerEngagementMessage");dd.type="LiveChatViewerEngagementMessage";var nS=dd;var pd=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(pd,"PollHeader");pd.type="PollHeader";var rS=pd;var fd=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(fd,"LiveChatActionPanel");fd.type="LiveChatActionPanel";var qv=fd;var md=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(md,"MarkChatItemAsDeletedAction");md.type="MarkChatItemAsDeletedAction";var sS=md;var hd=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(hd,"MarkChatItemsByAuthorAsDeletedAction");hd.type="MarkChatItemsByAuthorAsDeletedAction";var aS=hd;var _d=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(_d,"RemoveBannerForLiveChatCommand");_d.type="RemoveBannerForLiveChatCommand";var uS=_d;var vd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(vd,"RemoveChatItemAction");vd.type="RemoveChatItemAction";var lS=vd;var gd=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(gd,"RemoveChatItemByAuthorAction");gd.type="RemoveChatItemByAuthorAction";var cS=gd;var xd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(xd,"ReplaceChatItemAction");xd.type="ReplaceChatItemAction";var dS=xd;var yd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(yd,"ReplayChatItemAction");yd.type="ReplayChatItemAction";var pS=yd;var bd=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,qv)}};n(bd,"ShowLiveChatActionPanelAction");bd.type="ShowLiveChatActionPanelAction";var fS=bd;var wd=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(wd,"ShowLiveChatDialogAction");wd.type="ShowLiveChatDialogAction";var mS=wd;var Td=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(Td,"ShowLiveChatTooltipCommand");Td.type="ShowLiveChatTooltipCommand";var hS=Td;var Sd=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(Sd,"UpdateDateTextAction");Sd.type="UpdateDateTextAction";var Xv=Sd;var Id=class extends a{constructor(e){super(),this.description=new u(e.description)}};n(Id,"UpdateDescriptionAction");Id.type="UpdateDescriptionAction";var Qv=Id;var kd=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(kd,"UpdateLiveChatPollAction");kd.type="UpdateLiveChatPollAction";var _S=kd;var Cd=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Cd,"UpdateTitleAction");Cd.type="UpdateTitleAction";var Zv=Cd;var Ed=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(Ed,"UpdateToggleButtonTextAction");Ed.type="UpdateToggleButtonTextAction";var e0=Ed;var Pd=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(Pd,"UpdateViewershipAction");Pd.type="UpdateViewershipAction";var t0=Pd;var Nd=class extends nt{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};n(Nd,"LiveChatAuthorBadge");Nd.type="LiveChatAuthorBadge";var vS=Nd;var Ad=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Ad,"LiveChatDialog");Ad.type="LiveChatDialog";var gS=Ad;var Rd=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,Y),this.collapse_button=c.parseItem(e.collapseButton,I),this.view_selector=c.parseItem(e.viewSelector,At)}};n(Rd,"LiveChatHeader");Rd.type="LiveChatHeader";var i0=Rd;var Md=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,I)}};n(Md,"LiveChatItemList");Md.type="LiveChatItemList";var o0=Md;var Vd=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(Vd,"LiveChatMessageInput");Vd.type="LiveChatMessageInput";var xS=Vd;var Od=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(Od,"LiveChatParticipant");Od.type="LiveChatParticipant";var n0=Od;var Dd=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=c.parseArray(e.participants,n0)}};n(Dd,"LiveChatParticipantsList");Dd.type="LiveChatParticipantsList";var r0=Dd;var Bd=class extends I{constructor(e){super(e)}};n(Bd,"MenuNavigationItem");Bd.type="MenuNavigationItem";var s0=Bd;var Ld=class extends I{constructor(e){super(e)}};n(Ld,"MenuServiceItem");Ld.type="MenuServiceItem";var Fi=Ld;var Fd=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[s0,Fi])}};n(Fd,"MenuPopup");Fd.type="MenuPopup";var yS=Fd;var Yd=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Yd,"MenuServiceItemDownload");Yd.type="MenuServiceItemDownload";var bS=Yd;var jd=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(jd,"MultiPageMenu");jd.type="MultiPageMenu";var wS=jd;var Ud=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(Ud,"MultiPageMenuNotificationSection");Ud.type="MultiPageMenuNotificationSection";var TS=Ud;var Wd=class extends a{constructor(e){super()}};n(Wd,"MusicMenuItemDivider");Wd.type="MusicMenuItemDivider";var a0=Wd;var Hd=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[Nt,a0])}};n(Hd,"MusicMultiSelectMenu");Hd.type="MusicMultiSelectMenu";var u0=Hd;var Jd=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=c.parse(e.buttons)}};n(Jd,"SimpleMenuHeader");Jd.type="SimpleMenuHeader";var l0=Jd;var Gd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(Gd,"MerchandiseItem");Gd.type="MerchandiseItem";var SS=Gd;var zd=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(zd,"MerchandiseShelf");zd.type="MerchandiseShelf";var c0=zd;var Kd=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Kd,"MetadataRow");Kd.type="MetadataRow";var IS=Kd;var $d=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n($d,"MetadataRowContainer");$d.type="MetadataRowContainer";var d0=$d;var qd=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(qd,"MetadataRowHeader");qd.type="MetadataRowHeader";var kS=qd;var Xd=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(Xd,"MetadataScreen");Xd.type="MetadataScreen";var CS=Xd;var Qd=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Qd,"MicroformatData");Qd.type="MicroformatData";var Qt=Qd;var Zd=class extends Xt{constructor(e){super(e)}};n(Zd,"Mix");Zd.type="Mix";var ES=Zd;var ep=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(s).toString(),seconds:Le(e.lengthText?new u(e.lengthText).toString():new u(s).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,Y)}};n(ep,"Movie");ep.type="Movie";var PS=ep;var tp=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,r)=>r.width-o.width)}};n(tp,"MovingThumbnail");tp.type="MovingThumbnail";var NS=tp;var ip=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(ip,"MusicCardShelfHeaderBasic");ip.type="MusicCardShelfHeaderBasic";var p0=ip;var op=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(op,"MusicInlineBadge");op.type="MusicInlineBadge";var f0=op;var np=class extends a{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(np,"MusicPlayButton");np.type="MusicPlayButton";var m0=np;var rp=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,m0),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(rp,"MusicItemThumbnailOverlay");rp.type="MusicItemThumbnailOverlay";var Zt=rp;var sp=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};n(sp,"MusicThumbnail");sp.type="MusicThumbnail";var yt=sp;var ap=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,yt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=c.parseArray(e.buttons,I),this.menu=c.parseItem(e.menu,Y),this.on_tap=new v(e.onTap),this.header=c.parseItem(e.header,p0),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,f0),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Zt),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(ap,"MusicCardShelf");ap.type="MusicCardShelf";var h0=ap;var up=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,yt)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,Bv))}};n(up,"MusicCarouselShelfBasicHeader");up.type="MusicCarouselShelfBasicHeader";var _0=up;var lp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,yt),this.overlay=c.parseItem(e.overlay,Zt),this.on_tap=new v(e.onTap),this.menu=c.parseItem(e.menu,Y),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(lp,"MusicMultiRowListItem");lp.type="MusicMultiRowListItem";var v0=lp;var cp=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(cp,"MusicNavigationButton");cp.type="MusicNavigationButton";var cr=cp;var dp=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(dp,"MusicResponsiveListItemFixedColumn");dp.type="musicResponsiveListItemFlexColumnRenderer";var g0=dp;var pp=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(pp,"MusicResponsiveListItemFlexColumn");pp.type="MusicResponsiveListItemFlexColumn";var x0=pp;var Vt,dr,MS,VS,AS,RS,OS,DS,BS,LS,FS,fp=class extends a{constructor(e){var i,o,r,s,l,p;super(),Vt.add(this),dr.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,x0),this.fixed_columns=c.parseArray(e.fixedColumns,g0),S(this,dr,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let f=(p=(l=(s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(_=>{var x,T,b,k;return((k=(b=(T=(x=_.title.endpoint)===null||x===void 0?void 0:x.payload)===null||T===void 0?void 0:T.browseEndpointContextSupportedConfigs)===null||b===void 0?void 0:b.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,Vt,"m",LS).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,Vt,"m",FS).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,Vt,"m",OS).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,Vt,"m",DS).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,Vt,"m",BS).call(this);break;default:this.flex_columns[1]?d(this,Vt,"m",VS).call(this):d(this,Vt,"m",MS).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,yt)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,Y)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,Zt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(fp,"MusicResponsiveListItem");dr=new WeakMap,Vt=new WeakSet,MS=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),VS=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(r=>r.text.match(/(.*?) views/)))?(this.item_type="video",d(this,Vt,"m",RS).call(this)):(this.item_type="song",d(this,Vt,"m",AS).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),AS=n(function(){var e,i,o,r,s,l,p,f,m,_,x,T,b,k,N;this.id=d(this,dr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let A=((s=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(K=>/^\d+$/.test(K.text.replace(/:/g,""))))===null||s===void 0?void 0:s.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());A&&(this.duration={text:A,seconds:Le(A)});let M=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(K=>Ze(K)&&K.endpoint&&K.endpoint.payload.browseId.startsWith("MPR")))||((x=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||x===void 0?void 0:x.find(K=>Ze(K)&&K.endpoint&&K.endpoint.payload.browseId.startsWith("MPR")));M&&Ze(M)&&(this.album={id:(b=(T=M.endpoint)===null||T===void 0?void 0:T.payload)===null||b===void 0?void 0:b.browseId,name:M.text,endpoint:M.endpoint});let z=(N=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||N===void 0?void 0:N.filter(K=>Ze(K)&&K.endpoint&&K.endpoint.payload.browseId.startsWith("UC"));z&&(this.artists=z.map(K=>{var me,ye;return{name:K.text,channel_id:Ze(K)?(ye=(me=K.endpoint)===null||me===void 0?void 0:me.payload)===null||ye===void 0?void 0:ye.browseId:void 0,endpoint:Ze(K)?K.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),RS=n(function(){var e,i,o,r,s,l,p,f,m,_;this.id=d(this,dr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(b=>b.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(s=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||s===void 0?void 0:s.filter(b=>Ze(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(b=>{var k,N;return{name:b.text,channel_id:Ze(b)?(N=(k=b.endpoint)===null||k===void 0?void 0:k.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:Ze(b)?b.endpoint:void 0}}));let T=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);T&&(this.duration={text:T,seconds:Le(T)})},"_MusicResponsiveListItem_parseVideo"),OS=n(function(){var e,i,o,r,s,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(s=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||s===void 0?void 0:s.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),DS=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(s=>/^\d+(,\d+)? songs?$/i.test(s.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),BS=n(function(){var e,i;this.id=d(this,dr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),LS=n(function(){var e,i,o,r,s,l,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>Ze(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&Ze(_)&&(this.author={name:_.text,channel_id:(l=(s=_.endpoint)===null||s===void 0?void 0:s.payload)===null||l===void 0?void 0:l.browseId,endpoint:_.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),FS=n(function(){var e,i,o,r,s,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let _=(l=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||l===void 0?void 0:l.find(x=>Ze(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&Ze(_)&&(this.author={name:_.text,channel_id:(f=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");fp.type="MusicResponsiveListItem";var Yi=fp;var mp=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_,x,T,b,k,N,A,M,z,K,me,ye,Te,ke;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.videoId),this.subtitle=new u(e.subtitle),this.badges=c.parse(e.subtitleBadges),(m=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((T=this.subtitle.runs)===null||T===void 0)&&T[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(b=this.subtitle.runs)===null||b===void 0?void 0:b.find($=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test($.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let $=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(J=>J.text.match(/\d+ songs|song/));this.item_count=$?$.text:null}else if(this.item_type=="album"){let $=(A=this.subtitle.runs)===null||A===void 0?void 0:A.filter(J=>{var X,ie;return(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});$&&(this.artists=$.map(J=>{var X,ie;return{name:J.text,channel_id:(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:J.endpoint}})),this.year=(M=this.subtitle.runs)===null||M===void 0?void 0:M.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((K=(z=this===null||this===void 0?void 0:this.subtitle.runs)===null||z===void 0?void 0:z.find(J=>J==null?void 0:J.text.match(/(.*?) views/)))===null||K===void 0?void 0:K.text)||"N/A";let $=(me=this.subtitle.runs)===null||me===void 0?void 0:me.find(J=>{var X,ie,Be;return(Be=(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId)===null||Be===void 0?void 0:Be.startsWith("UC")});$&&(this.author={name:$==null?void 0:$.text,channel_id:(Te=(ye=$==null?void 0:$.endpoint)===null||ye===void 0?void 0:ye.payload)===null||Te===void 0?void 0:Te.browseId,endpoint:$==null?void 0:$.endpoint})}else if(this.item_type=="song"){let $=(ke=this.subtitle.runs)===null||ke===void 0?void 0:ke.filter(J=>{var X,ie;return(ie=(X=J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});$&&(this.artists=$.map(J=>{var X,ie;return{name:J==null?void 0:J.text,channel_id:(ie=(X=J==null?void 0:J.endpoint)===null||X===void 0?void 0:X.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:J==null?void 0:J.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Zt),this.menu=c.parseItem(e.menu,Y)}};n(mp,"MusicTwoRowItem");mp.type="MusicTwoRowItem";var pr=mp;var hp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,_0),this.contents=c.parseArray(e.contents,[pr,Yi,v0,cr]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(hp,"MusicCarouselShelf");hp.type="MusicCarouselShelf";var Pe=hp;var _p=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(_p,"MusicDescriptionShelf");_p.type="MusicDescriptionShelf";var Po=_p;var vp=class extends a{constructor(e){var i,o,r,s,l,p,f,m,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(T=>/^[12][0-9]{3}$/.test(T.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((s=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let x=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(T=>{var b,k;return(k=(b=T==null?void 0:T.endpoint)===null||b===void 0?void 0:b.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(_=(m=x.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId,endpoint:x.endpoint}),this.menu=c.parseItem(e.menu)}};n(vp,"MusicDetailHeader");vp.type="MusicDetailHeader";var No=vp;var gp=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(gp,"MusicDownloadStateBadge");gp.type="MusicDownloadStateBadge";var YS=gp;var xp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header)}};n(xp,"MusicEditablePlaylistDetailHeader");xp.type="MusicEditablePlaylistDetailHeader";var y0=xp;var yp=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,rr):null}};n(yp,"MusicElementHeader");yp.type="MusicElementHeader";var bp=yp;var wp=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(wp,"MusicHeader");wp.type="MusicHeader";var ji=wp;var Tp=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=c.parseItem(e.thumbnail,yt)}};n(Tp,"MusicImmersiveHeader");Tp.type="MusicImmersiveHeader";var b0=Tp;var Sp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Sp,"ActionButton");Sp.type="ActionButton";var Ip=class{constructor(e){this.image=w.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Sp(i))}};n(Ip,"Panel");Ip.type="Panel";var kp=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Ip(i))}};n(kp,"MusicLargeCardItemCarousel");kp.type="MusicLargeCardItemCarousel";var jS=kp;var Cp=class extends a{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,Yi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Cp,"MusicPlaylistShelf");Cp.type="MusicPlaylistShelf";var Ao=Cp;var Ep=class extends a{constructor(e){var i,o,r,s,l;super(),this.title=new u(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Le(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var _,x,T;return(T=(x=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||T===void 0?void 0:T.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var _,x,T;return(T=(x=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||T===void 0?void 0:T.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(s=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var _,x;return{name:m.text,channel_id:(x=(_=m.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:m.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Ep,"PlaylistPanelVideo");Ep.type="PlaylistPanelVideo";var _i=Ep;var Pp=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,_i),Reflect.has(e,"counterpart")&&(this.counterpart=ae(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,_i))||[]))}};n(Pp,"PlaylistPanelVideoWrapper");Pp.type="PlaylistPanelVideoWrapper";var w0=Pp;var Np=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=c.parseArray(e.contents,[w0,_i,Oi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Np,"PlaylistPanel");Np.type="PlaylistPanel";var ei=Np;var Ap=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,ei)}};n(Ap,"MusicQueue");Ap.type="MusicQueue";var fr=Ap;var Rp=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents,Yi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(Rp,"MusicShelf");Rp.type="MusicShelf";var be=Rp;var Mp=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(Mp,"MusicSideAlignedItem");Mp.type="MusicSideAlignedItem";var T0=Mp;var Vp=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,u0)}};n(Vp,"MusicSortFilterButton");Vp.type="MusicSortFilterButton";var Op=Vp;var Dp=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Dp,"MusicTastebuilderShelfThumbnail");Dp.type="MusicTastebuilderShelfThumbnail";var S0=Dp;var Bp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,S0),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=c.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(Bp,"MusicTasteBuilderShelf");Bp.type="MusicTasteBuilderShelf";var I0=Bp;var Lp=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,Y),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Lp,"MusicVisualHeader");Lp.type="MusicVisualHeader";var k0=Lp;var Fp=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(Fp,"Notification");Fp.type="Notification";var C0=Fp;var Yp=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,Tv),this.image=c.parseItem(e.image,[Un,_v]),this.metadata=c.parseItem(e.metadata,mv),this.actions=c.parseItem(e.actions,Ev)}};n(Yp,"PageHeaderView");Yp.type="PageHeaderView";var E0=Yp;var jp=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,E0)}};n(jp,"PageHeader");jp.type="PageHeader";var Ui=jp;var Up=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(Up,"PageIntroduction");Up.type="PageIntroduction";var P0=Up;var Wp=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Wp,"PivotButton");Wp.type="PivotButton";var N0=Wp;var Hp=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Hp,"PlayerOverflow");Hp.type="PlayerOverflow";var A0=Hp;var Jp=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,A0)}};n(Jp,"PlayerControlsOverlay");Jp.type="PlayerControlsOverlay";var US=Jp;var Gp=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=c.parseItem(e.proceedButton,I),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Gp,"PlayerErrorMessage");Gp.type="PlayerErrorMessage";var WS=Gp;var zp=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(zp,"PlayerLegacyDesktopYpcOffer");zp.type="PlayerLegacyDesktopYpcOffer";var HS=zp;var Kp=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Kp,"YpcTrailer");Kp.type="YpcTrailer";var R0=Kp;var $p=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,R0)}};n($p,"PlayerLegacyDesktopYpcTrailer");$p.type="PlayerLegacyDesktopYpcTrailer";var qp=$p;var Xp=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(Xp,"PlayerMicroformat");Xp.type="PlayerMicroformat";var Ot=Xp;var Qp=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.byline),this.cancel_button=c.parseItem(e.cancelButton,I),this.next_button=c.parseItem(e.nextButton,I),this.close_button=c.parseItem(e.closeButton,I)}};n(Qp,"PlayerOverlayAutoplay");Qp.type="PlayerOverlayAutoplay";var M0=Qp;var Zp=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[kv,Iv]),this.title=new u(e.title).toString()}};n(Zp,"WatchNextEndScreen");Zp.type="WatchNextEndScreen";var V0=Zp;var ef=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,V0),this.autoplay=c.parseItem(e.autoplay,M0),this.share_button=c.parseItem(e.shareButton,I),this.add_to_menu=c.parseItem(e.addToMenu,Y),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,yv)}};n(ef,"PlayerOverlay");ef.type="PlayerOverlay";var Wi=ef;var tf=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new V(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(tf,"PlaylistHeader");tf.type="PlaylistHeader";var O0=tf;var of=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(of,"PlaylistInfoCardContent");of.type="PlaylistInfoCardContent";var JS=of;var nf=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(nf,"PlaylistMetadata");nf.type="PlaylistMetadata";var D0=nf;var rf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(rf,"PlaylistSidebar");rf.type="PlaylistSidebar";var GS=rf;var sf=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(sf,"PlaylistSidebarPrimaryInfo");sf.type="PlaylistSidebarPrimaryInfo";var B0=sf;var af=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(af,"PlaylistSidebarSecondaryInfo");af.type="PlaylistSidebarSecondaryInfo";var L0=af;var uf=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new V(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,Y),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(go))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(uf,"PlaylistVideo");uf.type="PlaylistVideo";var F0=uf;var lf=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(lf,"PlaylistVideoList");lf.type="PlaylistVideoList";var zS=lf;var cf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(cf,"Poll");cf.type="Poll";var KS=cf;var df=class extends Di{constructor(e){super(e)}};n(df,"Post");df.type="Post";var Y0=df;var pf=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,Y_)}};n(pf,"PostMultiImage");pf.type="PostMultiImage";var $S=pf;var ff=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(ff,"ProductListHeader");ff.type="ProductListHeader";var qS=ff;var mf=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,I)}};n(mf,"ProductListItem");mf.type="ProductListItem";var XS=mf;var hf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(hf,"ProfileColumn");hf.type="ProfileColumn";var QS=hf;var _f=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(_f,"ProfileColumnStats");_f.type="ProfileColumnStats";var ZS=_f;var vf=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(vf,"ProfileColumnStatsEntry");vf.type="ProfileColumnStatsEntry";var eI=vf;var gf=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};n(gf,"ProfileColumnUserInfo");gf.type="ProfileColumnUserInfo";var tI=gf;var xf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(xf,"Quiz");xf.type="Quiz";var iI=xf;var yf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=c.parseItem(e.button,I),this.surface=e.surface}};n(yf,"RecognitionShelf");yf.type="RecognitionShelf";var oI=yf;var bf=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(bf,"ReelItem");bf.type="ReelItem";var j0=bf;var wf=class extends a{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.author=new V(e.channelNavigationEndpoint,void 0)}};n(wf,"ReelPlayerHeader");wf.type="ReelPlayerHeader";var U0=wf;var Tf=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Wv),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,U0),this.menu=c.parseItem(e.menu,Y),this.next_item_button=c.parseItem(e.nextItemButton,I),this.prev_item_button=c.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,I),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,I),this.share_button=c.parseItem(e.shareButton,I),this.pivot_button=c.parseItem(e.pivotButton,N0),this.info_panel=c.parseItem(e.infoPanel,Fv)}};n(Tf,"ReelPlayerOverlay");Tf.type="ReelPlayerOverlay";var nI=Tf;var Sf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(Sf,"RelatedChipCloud");Sf.type="RelatedChipCloud";var W0=Sf;var If=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(If,"RichGrid");If.type="RichGrid";var Hi=If;var kf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(kf,"RichItem");kf.type="RichItem";var rI=kf;var Cf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Cf,"RichListHeader");Cf.type="RichListHeader";var sI=Cf;var Ef=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(Ef,"RichMetadata");Ef.type="RichMetadata";var Pf=Ef;var Nf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Nf,"RichMetadataRow");Nf.type="RichMetadataRow";var Af=Nf;var Rf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(Rf,"RichSection");Rf.type="RichSection";var aI=Rf;var Mf=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(Mf,"RichShelf");Mf.type="RichShelf";var H0=Mf;var Vf=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=c.parseItem(e.searchButton,I),this.clear_button=c.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};n(Vf,"SearchBox");Vf.type="SearchBox";var uI=Vf;var Of=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Of,"SearchFilter");Of.type="SearchFilter";var J0=Of;var Df=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=c.parseArray(e.filters,J0)}};n(Df,"SearchFilterGroup");Df.type="SearchFilterGroup";var mr=Df;var Bf=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=c.parseArray(e.groups,mr)}};n(Bf,"SearchFilterOptionsDialog");Bf.type="SearchFilterOptionsDialog";var lI=Bf;var Lf=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,ct),this.search_filter_button=c.parseItem(e.searchFilterButton,I)}};n(Lf,"SearchHeader");Lf.type="SearchHeader";var G0=Lf;var Ff=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,mr)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Oe))}};n(Ff,"SearchSubMenu");Ff.type="SearchSubMenu";var z0=Ff;var Yf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Yf,"SearchSuggestionsSection");Yf.type="SearchSuggestionsSection";var K0=Yf;var jf=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(jf,"SecondarySearchContainer");jf.type="SecondarySearchContainer";var cI=jf;var Uf=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Oe,I]),this.dislike_button=c.parseItem(e.dislikeButton,[Oe,I])}};n(Uf,"SegmentedLikeDislikeButton");Uf.type="SegmentedLikeDislikeButton";var Ro=Uf;var Wf=class extends a{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,Hv),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,wv),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(Wf,"SegmentedLikeDislikeButtonView");Wf.type="SegmentedLikeDislikeButtonView";var Mo=Wf;var Hf=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Hf,"SettingBoolean");Hf.type="SettingBoolean";var dI=Hf;var Jf=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Jf,"SettingsCheckbox");Jf.type="SettingsCheckbox";var $0=Jf;var Gf=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(Gf,"SettingsSwitch");Gf.type="SettingsSwitch";var hr=Gf;var zf=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[hr,Ln,hv,$0,q_]))}};n(zf,"SettingsOptions");zf.type="SettingsOptions";var _r=zf;var Kf=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items,tr)}get contents(){return this.items}};n(Kf,"SettingsSidebar");Kf.type="SettingsSidebar";var q0=Kf;var $f=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=re(e.actionMenu,Y),this.original_post=re(e.originalPost,Di),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=re(e.expandButton,I),this.author=new V(e.displayName,void 0)}};n($f,"SharedPost");$f.type="SharedPost";var X0=$f;var qf=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,I))}};n(qf,"Shelf");qf.type="Shelf";var vr=qf;var Xf=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Xf,"ShowingResultsFor");Xf.type="ShowingResultsFor";var Q0=Xf;var Qf=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(Qf,"SimpleCardContent");Qf.type="SimpleCardContent";var pI=Qf;var Zf=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Zf,"SimpleCardTeaser");Zf.type="SimpleCardTeaser";var fI=Zf;var em=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(em,"SimpleTextSection");em.type="SimpleTextSection";var mI=em;var tm=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(tm,"SingleActionEmergencySupport");tm.type="SingleActionEmergencySupport";var hI=tm;var im=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=c.parseItem(e.content,[Q,fr,Hi])}};n(im,"Tab");im.type="Tab";var ge=im;var om=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,ge)}};n(om,"SingleColumnBrowseResults");om.type="SingleColumnBrowseResults";var ti=om;var nm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(nm,"SingleColumnMusicWatchNextResults");nm.type="SingleColumnMusicWatchNextResults";var _I=nm;var rm=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};n(rm,"SingleHeroImage");rm.type="SingleHeroImage";var vI=rm;var sm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,Ge)}};n(sm,"SlimOwner");sm.type="SlimOwner";var gI=sm;var am=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(am,"SlimVideoMetadata");am.type="SlimVideoMetadata";var Z0=am;var um=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(um,"SubFeedOption");um.type="SubFeedOption";var eg=um;var lm=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=c.parseArray(e.options,eg)}};n(lm,"SubFeedSelector");lm.type="SubFeedSelector";var xI=lm;var cm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(cm,"Tabbed");cm.type="Tabbed";var yI=cm;var dm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,ge)}};n(dm,"TabbedSearchResults");dm.type="TabbedSearchResults";var tg=dm;var pm=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(pm,"TextHeader");pm.type="TextHeader";var bI=pm;var fm=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};n(fm,"ThumbnailLandscapePortrait");fm.type="ThumbnailLandscapePortrait";var wI=fm;var mm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(mm,"ThumbnailOverlayEndorsement");mm.type="ThumbnailOverlayEndorsement";var TI=mm;var hm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(hm,"ThumbnailOverlayHoverText");hm.type="ThumbnailOverlayHoverText";var SI=hm;var _m=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(_m,"ThumbnailOverlayInlineUnplayable");_m.type="ThumbnailOverlayInlineUnplayable";var II=_m;var vm=class extends a{constructor(e){super(),this.text=new u(e.text)}};n(vm,"ThumbnailOverlayLoadingPreview");vm.type="ThumbnailOverlayLoadingPreview";var kI=vm;var gm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};n(gm,"ThumbnailOverlayNowPlaying");gm.type="ThumbnailOverlayNowPlaying";var CI=gm;var xm=class extends a{constructor(e){super(),this.hack=e.hack}};n(xm,"ThumbnailOverlayPinking");xm.type="ThumbnailOverlayPinking";var EI=xm;var ym=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(ym,"ThumbnailOverlayPlaybackStatus");ym.type="ThumbnailOverlayPlaybackStatus";var PI=ym;var bm=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(bm,"ThumbnailOverlayResumePlayback");bm.type="ThumbnailOverlayResumePlayback";var NI=bm;var wm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(wm,"ThumbnailOverlaySidePanel");wm.type="ThumbnailOverlaySidePanel";var AI=wm;var Tm=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(Tm,"ThumbnailOverlayToggleButton");Tm.type="ThumbnailOverlayToggleButton";var RI=Tm;var Sm=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(Sm,"TimedMarkerDecoration");Sm.type="TimedMarkerDecoration";var MI=Sm;var Im=class extends a{constructor(e){super(),this.title=new u(e.title)}};n(Im,"TitleAndButtonListHeader");Im.type="TitleAndButtonListHeader";var VI=Im;var km=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(km,"ToggleMenuServiceItem");km.type="ToggleMenuServiceItem";var OI=km;var Cm=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Cm,"Tooltip");Cm.type="Tooltip";var DI=Cm;var Em=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,Ge),this.endpoint=new v(e.navigationEndpoint)}};n(Em,"TopicChannelDetails");Em.type="TopicChannelDetails";var BI=Em;var Pm=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(Pm,"TwoColumnBrowseResults");Pm.type="TwoColumnBrowseResults";var ii=Pm;var Nm=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(Nm,"TwoColumnSearchResults");Nm.type="TwoColumnSearchResults";var ig=Nm;var og,Ly,Am=class extends a{constructor(e){var i,o,r,s,l;super(),og.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((s=p.shortBylineText)===null||s===void 0)&&s.simpleText?new u(p.shortBylineText):new V(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,Y)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>d(this,og,"m",Ly).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>d(this,og,"m",Ly).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(Am,"TwoColumnWatchNextResults");og=new WeakSet,Ly=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Am.type="TwoColumnWatchNextResults";var gr=Am;var Rm=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(Rm,"UniversalWatchCard");Rm.type="UniversalWatchCard";var ng=Rm;var Mm=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,I),this.dismiss_button=c.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(Mm,"UpsellDialog");Mm.type="UpsellDialog";var LI=Mm;var Vm=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Vm,"VerticalList");Vm.type="VerticalList";var FI=Vm;var Om=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(Om,"VerticalWatchCardList");Om.type="VerticalWatchCardList";var YI=Om;var Dm=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(Dm,"VideoInfoCardContent");Dm.type="VideoInfoCardContent";var jI=Dm;var Bm=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Bm,"VideoOwner");Bm.type="VideoOwner";var xr=Bm;var Lm=class extends a{constructor(e){var i,o,r,s;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((s=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||s===void 0?void 0:s.shortViewCount),this.badges=c.parseArray(e.badges,nt),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=c.parseItem(e.videoActions,Y)}};n(Lm,"VideoPrimaryInfo");Lm.type="VideoPrimaryInfo";var rg=Lm;var Fm=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,xr),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,I]),this.metadata=c.parseItem(e.metadataRowContainer,d0),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Fm,"VideoSecondaryInfo");Fm.type="VideoSecondaryInfo";var Ym=Fm;var jm=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Le(e.lengthText.simpleText)},this.style=e.style}};n(jm,"WatchCardCompactVideo");jm.type="WatchCardCompactVideo";var sg=jm;var Um=class extends a{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Um,"WatchCardHeroVideo");Um.type="WatchCardHeroVideo";var UI=Um;var Wm=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new V(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Wm,"WatchCardRichHeader");Wm.type="WatchCardRichHeader";var WI=Wm;var Hm=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(Hm,"WatchCardSectionSequence");Hm.type="WatchCardSectionSequence";var HI=Hm;var Jm=class extends ii{constructor(e){super(e)}};n(Jm,"WatchNextTabbedResults");Jm.type="WatchNextTabbedResults";var ag=Jm;var Gm=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,Q),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Gm,"AnchoredSection");Gm.type="AnchoredSection";var ug=Gm;var zm,Km=class extends a{constructor(e){super(),zm.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=w.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Oe]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return y(this,void 0,void 0,function*(){if(!d(this,zm,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,zm,"f"),{parse:!1})})}setActions(e){S(this,zm,e,"f")}};n(Km,"KidsBlocklistPickerItem");zm=new WeakMap;Km.type="KidsBlocklistPickerItem";var yr=Km;var $m=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=c.parse(e.childRows,!0,[yr]),this.done_button=c.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n($m,"KidsBlocklistPicker");$m.type="KidsBlocklistPicker";var JI=$m;var qm=class extends a{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(qm,"KidsCategoryTab");qm.type="KidsCategoryTab";var br=qm;var Xm=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,br),this.privacy_button=c.parseItem(e.privacyButtonRenderer,I)}};n(Xm,"KidsCategoriesHeader");Xm.type="kidsCategoriesHeader";var lg=Xm;var Qm=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,ug)}};n(Qm,"KidsHomeScreen");Qm.type="kidsHomeScreen";var cg=Qm;var Jy={};D(Jy,{camelToSnake:()=>Vo,createRuntimeClass:()=>tk,generateRuntimeClass:()=>th,generateTypescriptClass:()=>pg,inferType:()=>dg,introspect:()=>jy,isArrayType:()=>ZI,isIgnoredKey:()=>ek,isMiscType:()=>QI,isRenderer:()=>Yy,isRendererList:()=>XI,mergeKeyInfo:()=>Zm,parse:()=>Hy,toParser:()=>Wy,toTypeDeclaration:()=>Uy});var eC=new Set(["trackingParams","accessibility","accessibilityData"]),Fy={};function Vo(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Vo,"camelToSnake");function dg(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Yy(e))return Fy[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=XI(e)){for(let[r,s]of Object.entries(i))Fy[r]=s;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=QI(t,e))||(i=ZI(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,s])=>[r,dg(r,s)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(dg,"inferType");function XI(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Yy(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[ih(r),o[r]]})):!1}n(XI,"isRendererList");function QI(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(QI,"isMiscType");function Yy(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return ih(o)}return!1}n(Yy,"isRenderer");function ZI(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(s=>typeof s);if(!e.every(s=>s===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let s=0;s<t.length;s++){let l=Object.entries(t[s]).map(([p,f])=>[p,dg(p,f)]);if(s===0){r=l;continue}r=Zm(r,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(ZI,"isArrayType");function tC(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!ek(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=dg(i,o);return[i,r]})}n(tC,"introspectKeysFirstPass");function iC(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),r=new Set,s=o[0],l;if(s){r.add(s[0]);let f=t.map(([b])=>b).filter(b=>b.endsWith("Badges")||b==="badges"),_=(e=f.filter(b=>b.startsWith("owner")||b.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],x=t.find(([b])=>b===_),T=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;T&&_&&r.add(_),l={type:"misc",misc_type:"Author",optional:!1,params:[s[0],T?_:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!r.has(p))}n(iC,"introspectKeysSecondPass");function oC(t){let e=tC(t);return iC(e)}n(oC,"introspect2");function jy(t){let e=oC(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let s of r.renderers){let l=Fy[s];l&&i.set(s,l)}let o=Array.from(i).filter(([r])=>!fg(r));return{key_info:e,unimplemented_dependencies:o}}n(jy,"introspect");function ek(t){return typeof t=="string"&&eC.has(t)}n(ek,"isIgnoredKey");function tk(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let s=(o=n(class extends a{static set key_info(l){S(this,o,new Map(l),"f",r)}static get key_info(){return[...d(this,o,"f",r).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=jy(l),{resolved_key_info:m,changed_keys:_}=Zm(s.key_info,p);_.length>0&&(s.key_info=m,i({error_type:"class_changed",classname:t,key_info:s.key_info,changed_keys:_}));for(let[T,b]of f)th(T,b,i);for(let[T,b]of p){let k=Vo(T);b.type==="misc"&&b.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Hy(T,b,l))}}},"_a"),$b(o,"node"),o.type=t,r={value:new Map},o);return s.key_info=e,Object.defineProperty(s,"name",{value:t,writable:!1}),s}n(tk,"createRuntimeClass");function th(t,e,i){let{key_info:o,unimplemented_dependencies:r}=jy(e),s=tk(t,o,i);Gy(t,s);for(let[l,p]of r)th(l,p,i);return s}n(th,"generateRuntimeClass");function pg(t,e){let i=[],o=["super();"];for(let[r,s]of e){let l=Vo(r);s.type==="misc"&&s.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${s.optional?"?":""}: ${Uy(s)};`),o.push(`this.${l} = ${Wy(r,s)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(pg,"generateTypescriptClass");function GI(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${Vo(i)}${o.optional?"?":""}: ${Uy(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(GI,"toTypeDeclarationObject");function Uy(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${GI(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return GI(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(Uy,"toTypeDeclaration");function zI(t,e,i,o){let r=[...i,o];return`{
${e.map(([s,l])=>`${" ".repeat((t+2)*2)}${Vo(s)}: ${Wy(s,l,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(zI,"toParserObject");function Wy(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${KI(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${KI(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${zI(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=zI(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let s=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${s} : undefined`:s}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Wy,"toParser");function KI(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(KI,"toParserValidTypes");function oi(t,e){let i=t;for(let o of e)i=i[o];return i}n(oi,"accessDataFromKeyPath");function $I(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n($I,"hasDataFromKeyPath");function qI(t,e,i,o,r){let s={},l=[...i,t];for(let[p,f]of o)s[p]=r?Hy(p,f,e,l):void 0;return s}n(qI,"parseObject");function Hy(t,e,i,o=["data"]){let r=!e.optional||$I({data:i},[...o,t]);switch(e.type){case"renderer":return r?re(oi({data:i},[...o,t]),e.renderers.map(s=>eh(s))):void 0;case"array":{switch(e.array_type){case"renderer":return r?$e(oi({data:i},[...o,t]),!0,e.renderers.map(s=>eh(s))):void 0;case"object":return r?oi({data:i},[...o,t]).map((s,l)=>qI(`${l}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?oi({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return qI(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new v(oi({data:i},[...o,t])):void 0;case"Text":return r?new u(oi({data:i},[...o,t])):void 0;case"Thumbnail":return r?w.fromResponse(oi({data:i},[...o,t])):void 0;case"Author":return!e.optional||$I({data:i},[...o,e.params[0]])?new V(oi({data:i},[...o,e.params[0]]),e.params[1]?oi({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return oi({data:i},[...o,t])}}n(Hy,"parse");function Zm(t,e){let i=new Map,o=new Set(t.map(([T])=>T)),r=new Set(e.map(([T])=>T)),s=e.filter(([T])=>!o.has(T)),l=t.filter(([T])=>!r.has(T)),p=t.filter(([T])=>r.has(T)),f=new Map(e);for(let[T,b]of p){let k=f.get(T);if(!!k){if(b.type!==k.type){i.set(T,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(b.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:N}=Zm(b.keys,k.keys),A={type:"object",keys:N,optional:b.optional||k.optional};JSON.stringify(A)!==JSON.stringify(b)&&i.set(T,A)}break;case"renderer":{if(k.type!=="renderer")continue;let N=Object.assign(Object.assign({},b.renderers),k.renderers),A=b.optional||k.optional,M={type:"renderer",renderers:N,optional:A};JSON.stringify(Object.assign(Object.assign({},M),{renderers:Object.keys(M.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(T,M)}break;case"array":{if(k.type!=="array")continue;switch(b.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let N=Object.assign(Object.assign({},b.renderers),k.renderers),A=b.optional||k.optional,M={type:"array",array_type:"renderer",renderers:N,optional:A};JSON.stringify(Object.assign(Object.assign({},M),{renderers:Object.keys(M.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(T,M)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:N}=Zm(b.items.keys,k.items.keys),A={type:"array",array_type:"object",items:{type:"object",keys:N,optional:b.items.optional||k.items.optional},optional:b.optional||k.optional};JSON.stringify(A)!==JSON.stringify(b)&&i.set(T,A)}break;case"primitive":{if(b.items.typeof.includes("never")&&k.array_type==="object"){i.set(T,k);continue}if(k.array_type!=="primitive"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let N=new Set([...k.items.typeof,...b.items.typeof]);N.size>1&&N.has("never")&&N.delete("never");let A={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(N),optional:b.items.optional||k.items.optional},optional:b.optional||k.optional};JSON.stringify(A)!==JSON.stringify(b)&&i.set(T,A)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(b.misc_type!==k.misc_type&&i.set(T,{type:"primative",typeof:["unknown"],optional:!0}),b.misc_type){case"Author":{if(k.misc_type!=="Author")break;let N=b.params[1]||k.params[1],A=b.optional||k.optional,M={type:"misc",misc_type:"Author",optional:A,params:[k.params[0],N]};JSON.stringify(M)!==JSON.stringify(b)&&i.set(T,M)}break}}break;case"primative":{if(k.type!=="primative")continue;let N={type:"primative",typeof:Array.from(new Set([...k.typeof,...b.typeof])),optional:b.optional||k.optional};JSON.stringify(N)!==JSON.stringify(b)&&i.set(T,N)}break}}}for(let[T,b]of s)i.set(T,Object.assign(Object.assign({},b),{optional:!0}));for(let[T,b]of l)i.set(T,Object.assign(Object.assign({},b),{optional:!0}));let m=t.filter(([T])=>!i.has(T));return{resolved_key_info:[...new Map([...m,...i]).entries()],changed_keys:[...i.entries()]}}n(Zm,"mergeKeyInfo");var Ji=class extends a{constructor(e){var i,o,r;super(),this.contents=Ke(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Ji,"ItemSectionContinuation");Ji.type="itemSectionContinuation";var Gi=class extends a{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(Gi,"NavigateAction");Gi.type="navigateAction";var wr=class extends a{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(wr,"ShowMiniplayerCommand");wr.type="showMiniplayerCommand";var zi=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=$e(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(zi,"ReloadContinuationItemsCommand");zi.type="reloadContinuationItemsCommand";var rt=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=$e(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(rt,"SectionListContinuation");rt.type="sectionListContinuation";var Ki=class extends a{constructor(e){var i;super(),this.contents=$e(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Ki,"MusicPlaylistShelfContinuation");Ki.type="musicPlaylistShelfContinuation";var ni=class extends a{constructor(e){var i,o,r,s;super(),this.contents=Ke(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(ni,"MusicShelfContinuation");ni.type="musicShelfContinuation";var $i=class extends a{constructor(e){var i;super(),this.items=$e(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n($i,"GridContinuation");$i.type="gridContinuation";var Tr=class extends a{constructor(e){var i,o,r,s,l,p;super(),this.contents=Ke(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(Tr,"PlaylistPanelContinuation");Tr.type="playlistPanelContinuation";var Oo=class extends a{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(Oo,"Continuation");Oo.type="continuation";var qi=class extends a{constructor(e){var i,o,r,s,l,p,f,m;super(),this.actions=$e((i=e.actions)===null||i===void 0?void 0:i.map(T=>(delete T.clickTrackingParams,T)),!0)||ae([]),this.action_panel=re(e.actionPanel),this.item_list=re(e.itemList,o0),this.header=re(e.header,i0),this.participants_list=re(e.participantsList,r0),this.popout_message=re(e.popoutMessage,ze),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(T=>({emoji_id:T.emojiId,shortcuts:T.shortcuts,search_terms:T.searchTerms,image:w.fromResponse(T.image),is_custom_emoji:T.isCustomEmoji})))||[];let _,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",_=(s=e.continuations)===null||s===void 0?void 0:s[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(x="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(x="replay",_=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new Oo({continuation:_,type:x}),this.viewer_name=e.viewerName}};n(qi,"LiveChatContinuation");qi.type="liveChatContinuation";var vi=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(vi,"ContinuationCommand");vi.type="ContinuationCommand";var nC=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),$y=new Map(Object.entries(Co)),ik=new Map,Bo=null,Do=n(t=>{var{classname:e}=t,i=Kb(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new g(`Something went wrong at ${e}!
This is a bug, please report it at ${B.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new xt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new g(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${B.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new g(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${B.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new g(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${B.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${B.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${pg(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>Vo(o)).join(", ")}
The class has changed to:
${pg(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function rC(t){Do=t}n(rC,"setParserErrorHandler");function Dt(){Bo=null}n(Dt,"_clearMemo");function Bt(){Bo=new Ei}n(Bt,"_createMemo");function sC(t,e){if(!Bo)return;let i=Bo.get(t);if(!i)return Bo.set(t,[e]);i.push(e)}n(sC,"_addToMemo");function Lt(){if(!Bo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Bo}n(Lt,"_getMemo");function ok(t){return nC.has(t)}n(ok,"shouldIgnore");function ih(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(ih,"sanitizeClassName");function eh(t){let e=$y.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(eh,"getParserByName");function fg(t){return $y.has(t)}n(fg,"hasParser");function Gy(t,e){$y.set(t,e),ik.set(t,e)}n(Gy,"addRuntimeParser");function aC(){return Object.fromEntries(ik)}n(aC,"getDynamicParsers");function uC(t){var e,i,o,r,s,l,p,f,m,_,x,T;let b={};Bt();let k=$e(t.contents),N=Lt();k&&(b.contents=k,b.contents_memo=N),Dt(),Bt();let A=t.onResponseReceivedActions?mg(t.onResponseReceivedActions):null,M=Lt();A&&(b.on_response_received_actions=A,b.on_response_received_actions_memo=M),Dt(),Bt();let z=t.onResponseReceivedEndpoints?mg(t.onResponseReceivedEndpoints):null,K=Lt();z&&(b.on_response_received_endpoints=z,b.on_response_received_endpoints_memo=K),Dt(),Bt();let me=t.onResponseReceivedCommands?mg(t.onResponseReceivedCommands):null,ye=Lt();me&&(b.on_response_received_commands=me,b.on_response_received_commands_memo=ye),Dt(),Bt();let Te=t.continuationContents?zy(t.continuationContents):null,ke=Lt();Te&&(b.continuation_contents=Te,b.continuation_contents_memo=ke),Dt(),Bt();let Re=t.actions?rk(t.actions):null,$=Lt();Re&&(b.actions=Re,b.actions_memo=$),Dt(),Bt();let J=t.liveChatItemContextMenuSupportedRenderers?re(t.liveChatItemContextMenuSupportedRenderers):null,X=Lt();J&&(b.live_chat_item_context_menu_supported_renderers=J,b.live_chat_item_context_menu_supported_renderers_memo=X),Dt(),Bt();let ie=t.header?$e(t.header):null,Be=Lt();ie&&(b.header=ie,b.header_memo=Be),Dt(),Bt();let lt=t.sidebar?re(t.sidebar):null,_t=Lt();lt&&(b.sidebar=lt,b.sidebar_memo=_t),Dt(),Bt();let q=$e(t.items);q&&(b.items=q,b.items_memo=Lt()),Dt(),Bt();let je=$e(t.entries);je&&(b.entries=je,b.entries_memo=Lt()),Dt(),sk(N,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let zt=t.continuation?nk(t.continuation):null;zt&&(b.continuation=zt);let Kt=t.continuationEndpoint?zy(t.continuationEndpoint):null;Kt&&(b.continuationEndpoint=Kt);let Se=$e(t.metadata);Se&&(b.metadata=Se);let ot=re(t.microformat);ot&&(b.microformat=ot);let En=re(t.overlay);En&&(b.overlay=En);let Pn=Ke(t.alerts,[Fn,Qh]);Pn.length&&(b.alerts=Pn);let Nn=t.refinements;Nn&&(b.refinements=Nn);let An=t.estimatedResults?parseInt(t.estimatedResults):null;An&&(b.estimated_results=An);let Rn=$e(t.playerOverlays);Rn&&(b.player_overlays=Rn);let Mn=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Mn&&(b.playback_tracking=Mn);let Vn=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:re(t.playabilityStatus.audioOnlyPlayability,Uh),error_screen:re(t.playabilityStatus.errorScreen)}:null;if(Vn&&(b.playability_status=Vn),t.streamingData){let We=new Map,gt={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Ky(t.streamingData.formats,We),adaptive_formats:Ky(t.streamingData.adaptiveFormats,We),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};b.streaming_data=gt}if(t.playerConfig){let We={audio_config:{loudness_db:(o=t.playerConfig.audioConfig)===null||o===void 0?void 0:o.loudnessDb,perceptual_loudness_db:(r=t.playerConfig.audioConfig)===null||r===void 0?void 0:r.perceptualLoudnessDb,enable_per_format_loudness:(s=t.playerConfig.audioConfig)===null||s===void 0?void 0:s.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((l=t.playerConfig.streamSelectionConfig)===null||l===void 0?void 0:l.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((f=(p=t.playerConfig.mediaCommonConfig)===null||p===void 0?void 0:p.dynamicReadaheadConfig)===null||f===void 0?void 0:f.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((_=(m=t.playerConfig.mediaCommonConfig)===null||m===void 0?void 0:m.dynamicReadaheadConfig)===null||_===void 0?void 0:_.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((T=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||T===void 0?void 0:T.readAheadGrowthRateMs)||0}}};b.player_config=We}let On=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;On&&(b.current_video_endpoint=On);let Dn=t.endpoint?new v(t.endpoint):null;Dn&&(b.endpoint=Dn);let Bn=re(t.captions,qh);Bn&&(b.captions=Bn);let ue=t.videoDetails?new Vi(t.videoDetails):null;ue&&(b.video_details=ue);let vt=Ke(t.annotations,$h);vt.length&&(b.annotations=vt);let Ue=re(t.storyboards,[_o,Xh]);Ue&&(b.storyboards=Ue);let pi=re(t.endscreen,Kh);pi&&(b.endscreen=pi);let po=re(t.cards,zh);po&&(b.cards=po);let Ce=Ke(t.engagementPanels,zn);return Ce.length&&(b.engagement_panels=Ce),b}n(uC,"parseResponse");function re(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=ih(i[0]);if(!ok(o))try{let s=fg(o)?eh(o):th(o,t[i[0]],Do);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===s.type))return Do({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(s.type!==e.type)return Do({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new s(t[i[0]]);return sC(o,l),l}catch(r){return Do({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(re,"parseItem");function Ke(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=re(o,e);r&&i.push(r)}return ae(i)}else if(!t)return ae([]);throw new xt("Expected array but got a single item")}n(Ke,"parseArray");function $e(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let s of t){let l=re(s,i);l&&o.push(l)}let r=ae(o);return e?r:new qt(r)}else if(e)throw new xt("Expected array but got a single item");return new qt(re(t,i))}n($e,"parse");function nk(t){return t.timedContinuationData?new Oo({continuation:t.timedContinuationData,type:"timed"}):null}n(nk,"parseC");function zy(t){return t.itemSectionContinuation?new Ji(t.itemSectionContinuation):t.sectionListContinuation?new rt(t.sectionListContinuation):t.liveChatContinuation?new qi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Ki(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ni(t.musicShelfContinuation):t.gridContinuation?new $i(t.gridContinuation):t.playlistPanelContinuation?new Tr(t.playlistPanelContinuation):t.continuationCommand?new vi(t.continuationCommand):null}n(zy,"parseLC");function mg(t){return ae(t.map(e=>{if(e.navigateAction)return new Gi(e.navigateAction);if(e.showMiniplayerCommand)return new wr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new zi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new yo(e.appendContinuationItemsAction)}).filter(e=>e))}n(mg,"parseRR");function rk(t){return Array.isArray(t)?$e(t.map(e=>(delete e.clickTrackingParams,e))):new qt(re(t))}n(rk,"parseActions");function Ky(t,e){return(t==null?void 0:t.map(i=>new T_(i,e)))||[]}n(Ky,"parseFormats");function sk(t,e){let i=t.getType(Nt);if(i.length>0&&!e)Do({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let s=e.find(p=>{var f,m;return((m=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||m===void 0?void 0:m.id)===r.form_item_entity_key}),l=s==null?void 0:s.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?r.selected=l.selected:o.push(`'${r.title}'`)}o.length>0&&Do({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(sk,"applyMutations");var ab={};D(ab,{AccountInfo:()=>_g,Analytics:()=>gg,Channel:()=>Ne,ChannelListContinuation:()=>Wo,Comments:()=>yg,FilteredChannelList:()=>Zi,Guide:()=>wg,HashtagFeed:()=>si,History:()=>Nr,HomeFeed:()=>Ft,ItemMenu:()=>kg,Library:()=>Pg,LiveChat:()=>Bg,NotificationsMenu:()=>Lg,Playlist:()=>gi,Search:()=>Fg,Settings:()=>Yg,SmoothedQueue:()=>Mg,TimeWatched:()=>Ug,VideoInfo:()=>xh});var Sr,hg=class{constructor(e){if(Sr.set(this,void 0),S(this,Sr,c.parseResponse(e.data),"f"),!d(this,Sr,"f").contents)throw new g("Page contents not found");let i=d(this,Sr,"f").contents.array().as(N_).first();if(!i)throw new g("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Sr,"f")}};n(hg,"AccountInfo");Sr=new WeakMap;var _g=hg;var oh,vg=class{constructor(e){var i;oh.set(this,void 0),S(this,oh,c.parseResponse(e.data),"f"),this.sections=(i=d(this,oh,"f").contents_memo)===null||i===void 0?void 0:i.getType(rr).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,oh,"f")}};n(vg,"Analytics");oh=new WeakMap;var gg=vg;var nh,qe,Lo,rh,st,ak,qy,Xi=class{constructor(e,i,o=!1){nh.add(this),qe.set(this,void 0),Lo.set(this,void 0),rh.set(this,void 0),st.set(this,void 0),d(this,nh,"m",ak).call(this,i)||o?S(this,qe,i,"f"):S(this,qe,c.parseResponse(i.data),"f");let r=Xy(d(this,qe,"f").contents_memo,d(this,qe,"f").continuation_contents_memo,d(this,qe,"f").on_response_received_commands_memo,d(this,qe,"f").on_response_received_endpoints_memo,d(this,qe,"f").on_response_received_actions_memo,d(this,qe,"f").sidebar_memo,d(this,qe,"f").header_memo);if(!r)throw new g("No memo found in feed");S(this,st,r,"f"),S(this,rh,e,"f")}static getVideosFromMemo(e){return e.getType(jn,Mv,j0,Hn,F0,_i,sg)}static getPlaylistsFromMemo(e){return e.getType(Xt,Nv)}get videos(){return Xi.getVideosFromMemo(d(this,st,"f"))}get posts(){return d(this,st,"f").getType(Di,Y0,X0)}get channels(){return d(this,st,"f").getType(K_,Pv)}get playlists(){return Xi.getPlaylistsFromMemo(d(this,st,"f"))}get memo(){return d(this,st,"f")}get page_contents(){var e;let i=(e=d(this,st,"f").getType(ge))===null||e===void 0?void 0:e.first().content,o=d(this,st,"f").getType(zi).first(),r=d(this,st,"f").getType(yo).first();return i||o||r}get shelves(){return d(this,st,"f").getType(vr,H0,Gn)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,qe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,qe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(ii,ig))return o.secondary_contents}get actions(){return d(this,rh,"f")}get page(){return d(this,qe,"f")}get has_continuation(){return d(this,nh,"m",qy).call(this).length>0}getContinuationData(){return y(this,void 0,void 0,function*(){if(d(this,Lo,"f")){if(d(this,Lo,"f").length===0)throw new g("There are no continuations.");return yield d(this,Lo,"f")[0].endpoint.call(d(this,rh,"f"),{parse:!0})}if(S(this,Lo,d(this,nh,"m",qy).call(this),"f"),d(this,Lo,"f"))return this.getContinuationData()})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Xi(this.actions,e,!0)})}};n(Xi,"Feed");qe=new WeakMap,Lo=new WeakMap,rh=new WeakMap,st=new WeakMap,nh=new WeakSet,ak=n(function(e){return!("data"in e)},"_Feed_isParsed"),qy=n(function(){if(d(this,qe,"f").header_memo){let e=d(this,qe,"f").header_memo.getType(he);return d(this,st,"f").getType(he).filter(i=>!e.includes(i))}return d(this,st,"f").getType(he)},"_Feed_getBodyContinuations");var fe=Xi;var Fo,Yo,jo=class extends fe{constructor(e,i,o=!1){var r;super(e,i,o),Fo.set(this,void 0),Yo.set(this,void 0),S(this,Yo,e,"f"),S(this,Fo,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(ge),"f")}get tabs(){var e,i;return(i=(e=d(this,Fo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return y(this,void 0,void 0,function*(){let o=(i=d(this,Fo,"f"))===null||i===void 0?void 0:i.find(s=>s.title.toLowerCase()===e.toLowerCase());if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,Yo,"f"));return new jo(d(this,Yo,"f"),r,!1)})}getTabByURL(e){var i;return y(this,void 0,void 0,function*(){let o=(i=d(this,Fo,"f"))===null||i===void 0?void 0:i.find(s=>{var l;return((l=s.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,Yo,"f"));return new jo(d(this,Yo,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,Fo,"f"))===null||i===void 0?void 0:i.some(r=>{var s;return((s=r.endpoint.metadata.url)===null||s===void 0?void 0:s.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(ge))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(jo,"TabbedFeed");Fo=new WeakMap,Yo=new WeakMap;var Uo=jo;var Ir,xg=class extends fe{constructor(e,i,o=!1){super(e,i,o),Ir.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Ir,"f"))return d(this,Ir,"f")||[];if(((e=this.memo.getType(hi))===null||e===void 0?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(hi))===null||i===void 0?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return S(this,Ir,this.memo.getType(_e),"f"),d(this,Ir,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(s=>s.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new g("Invalid filter");if(!o)throw new g("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new g("Failed to get filtered feed");return new fe(this.actions,r,!0)})}};n(xg,"FilterableFeed");Ir=new WeakMap;var Qi=xg;var Ne=class extends Uo{constructor(e,i,o=!1){var r,s,l,p,f,m;super(e,i,o),this.header=(s=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||s===void 0?void 0:s.as(Bi,z_,Yv,Ui);let _=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as($_),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Qt);if(this.page.alerts){let T=this.page.alerts.first();if((T==null?void 0:T.alert_type)==="ERROR")throw new kr(T.text.toString())}if(!_&&!this.page.contents)throw new g("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),x||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Ge).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().as(ii).tabs.array().filterType(ge,sr).get({selected:!0})}applyFilter(e){var i;return y(this,void 0,void 0,function*(){let o,r=this.memo.getType(hi).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof _e&&(o=e);if(!o)throw new g("Invalid filter",e);let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new g("No page returned",{filter:o});return new Zi(this.actions,s,!0)})}applySort(e){var i,o;return y(this,void 0,void 0,function*(){let r=this.memo.getType(At).first();if(!r)throw new g("No sort filter sub menu found");let s=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let l=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ne(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Q).sub_menu)===null||r===void 0?void 0:r.as(Xu);if(!l)throw new g("Sub menu not found");let p=l.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(s=p.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0});return new Ne(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(hi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(_e).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(At).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Q).sub_menu)===null||o===void 0?void 0:o.as(Xu);return(r==null?void 0:r.content_type_sub_menu_items.map(s=>s.title))||[]}getHome(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ne(this.actions,e.page,!0)})}getVideos(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ne(this.actions,e.page,!0)})}getShorts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ne(this.actions,e.page,!0)})}getLiveStreams(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ne(this.actions,e.page,!0)})}getReleases(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ne(this.actions,e.page,!0)})}getPodcasts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ne(this.actions,e.page,!0)})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ne(this.actions,e.page,!0)})}getCommunity(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ne(this.actions,e.page,!0)})}getAbout(){var e,i,o;return y(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Wu)[0];if(((e=this.header)===null||e===void 0?void 0:e.is(Bi))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof v){let l=yield this.header.tagline.more_endpoint.call(this.actions);return new Uo(this.actions,l,!1).memo.getType(Wu)[0]}let r=(o=(i=this.page.header_memo)===null||i===void 0?void 0:i.getType(he)[0])===null||o===void 0?void 0:o.endpoint;if(!r)throw new g("Failed to extract continuation to get channel about");let s=yield r.call(this.actions,{parse:!0});if(!s.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:s});return s.on_response_received_endpoints_memo.getType(k_)[0]}throw new g("About not found")})}search(e){var i,o;return y(this,void 0,void 0,function*(){let r=(i=this.memo.getType(sr))===null||i===void 0?void 0:i[0];if(!r)throw new g("Search tab not found",this);let s=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ne(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Bi))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(sr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Wo(this.actions,i,!0)})}};n(Ne,"Channel");var Wo=class extends fe{constructor(e,i,o=!1){var r,s;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((s=this.page.on_response_received_endpoints)===null||s===void 0?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Wo(this.actions,i,!0)})}};n(Wo,"ChannelListContinuation");var Zi=class extends Qi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(_e).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Zi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new g("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(hi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(_e)),new Zi(this.actions,i,!0)})}};n(Zi,"FilteredChannelList");var Cr,ri,Er,Ho=class{constructor(e,i,o=!1){var r,s,l;Cr.set(this,void 0),ri.set(this,void 0),Er.set(this,void 0),S(this,Cr,o?i:c.parseResponse(i),"f"),S(this,ri,e,"f");let p=d(this,Cr,"f").on_response_received_endpoints;if(!p)throw new g("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.firstOfType(Li);let _=((s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.filterType(fv))||[];this.contents=ae(_.map(x=>{var T;return(T=x.comment)===null||T===void 0||T.setActions(d(this,ri,"f")),x.setActions(d(this,ri,"f")),x})),S(this,Er,(l=m==null?void 0:m.contents)===null||l===void 0?void 0:l.firstOfType(he),"f")}applySort(e){var i,o,r,s;return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(s=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.at(1)),!l)throw new g("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(d(this,ri,"f"),{parse:!0});return new Ho(d(this,ri,"f"),p,!0)})}createComment(e){var i;return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(pv).submit_button;if(!o)throw new g("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new g("Button does not have an endpoint.");return yield o.endpoint.call(d(this,ri,"f"),{commentText:e})})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Er,"f"))throw new g("Continuation not found");let e=yield d(this,Er,"f").endpoint.call(d(this,ri,"f"),{parse:!0}),i=Object.assign({},d(this,Cr,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Ho(d(this,ri,"f"),i,!0)})}get has_continuation(){return!!d(this,Er,"f")}get page(){return d(this,Cr,"f")}};n(Ho,"Comments");Cr=new WeakMap,ri=new WeakMap,Er=new WeakMap;var yg=Ho;var sh,bg=class{constructor(e){sh.set(this,void 0),S(this,sh,c.parseResponse(e),"f"),this.contents=d(this,sh,"f").items.array().as(ar,Vv)}get page(){return d(this,sh,"f")}};n(bg,"Guide");sh=new WeakMap;var wg=bg;var Pr=class extends fe{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ve),this.feed_actions=this.memo.getType(U_).first()}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Pr(this.actions,e,!0)})}};n(Pr,"History");var Nr=Pr;var Ft=class extends Qi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(Cv).first(),this.contents=this.memo.getType(Hi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ft(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return y(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Ft(this.actions,o.page,!0)})}};n(Ft,"HomeFeed");var si=class extends Qi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let o=this.page.contents_memo.getType(ge).first();if(!o.content)throw new g("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(Ov,Ui)),this.contents=o.content.as(Hi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new si(this.actions,o.page)})}};n(si,"HashtagFeed");var Tg,Sg,ah,Ig=class{constructor(e,i){Tg.set(this,void 0),Sg.set(this,void 0),ah.set(this,void 0),S(this,Tg,e,"f"),S(this,Sg,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(Y))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,ah,o.as(Y).items,"f")}selectItem(e){return y(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let r=d(this,ah,"f").find(s=>s.is(Fi)?s.as(Fi).icon_type===e:!1);if(!r||!r.is(Fi))throw new g(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return yield i.call(d(this,Sg,"f"),{parse:!0})})}items(){return d(this,ah,"f")}page(){return d(this,Tg,"f")}};n(Ig,"ItemMenu");Tg=new WeakMap,Sg=new WeakMap,ah=new WeakMap;var kg=Ig;var uh,Cg,Ar=class extends fe{constructor(e,i,o=!1){var r,s,l,p,f;super(e,i,o),uh.add(this);let m=this.memo.getType(O0).first(),_=this.memo.getType(B0).first(),x=this.memo.getType(L0).first(),T=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Fn);if(T&&T.alert_type==="ERROR")throw new g(T.text.toString(),T);if(!_&&!x&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(D0)),{subtitle:m?m.subtitle:null,author:(p=(l=x==null?void 0:x.owner)===null||l===void 0?void 0:l.as(xr).author)!==null&&p!==void 0?p:m==null?void 0:m.author,thumbnails:(f=_==null?void 0:_.thumbnail_renderer)===null||f===void 0?void 0:f.as(or,ir).thumbnail,total_items:d(this,uh,"m",Cg).call(this,0,_),views:d(this,uh,"m",Cg).call(this,1,_),last_updated:d(this,uh,"m",Cg).call(this,2,_),can_share:m==null?void 0:m.can_share,can_delete:m==null?void 0:m.can_delete,is_editable:m==null?void 0:m.is_editable,privacy:m==null?void 0:m.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(ze)}get items(){return this.videos}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ar(this.actions,e,!0)})}};n(Ar,"Playlist");uh=new WeakSet,Cg=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var gi=Ar;var Qy,uk,Eg=class extends fe{constructor(e,i){if(super(e,i),Qy.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(Ui).first();let o=this.page.contents_memo.getType(vr);this.sections=o.map(r=>{var s;return{type:r.icon_type,title:r.title,contents:((s=r.content)===null||s===void 0?void 0:s.key("items").array())||[],getAll:()=>d(this,Qy,"m",uk).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(Eg,"Library");Qy=new WeakSet,uk=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(Y).hasKey("top_level_buttons")))throw new g(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(Y).top_level_buttons.firstOfType(I);if(!o)throw new g("Did not find target button.");let r=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new gi(this.actions,r,!0);case"WATCH_HISTORY":return new Nr(this.actions,r,!0);case"CONTENT_CUT":return new fe(this.actions,r,!0);default:throw new g("Target shelf not implemented.")}})},"_Library_getAll");var Pg=Eg;var Rr,Ng=class extends EventTarget{constructor(){super(),Rr.set(this,new Map)}emit(e,...i){let o=new B.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof B.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");d(this,Rr,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof B.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");d(this,Rr,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,Rr,"f").get(i);o&&(this.removeEventListener(e,o),d(this,Rr,"f").delete(i))}};n(Ng,"EventEmitterLike");Rr=new WeakMap;var lh=Ng;var xi,eo,Jo,bt,Yt,at;function lC(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(lC,"flattenQueue");var Ag=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(Ag,"DelayQueue");var Rg=class{constructor(){xi.set(this,void 0),eo.set(this,void 0),Jo.set(this,void 0),bt.set(this,void 0),Yt.set(this,void 0),at.set(this,void 0),S(this,xi,null,"f"),S(this,eo,null,"f"),S(this,Jo,null,"f"),S(this,bt,[],"f"),S(this,Yt,null,"f"),S(this,at,new Ag,"f")}enqueueActionGroup(e){if(d(this,xi,"f")!==null){let i=Date.now()-d(this,xi,"f");d(this,at,"f").back.push(i),5<d(this,at,"f").front.length+d(this,at,"f").back.length&&(d(this,at,"f").front.length||(d(this,at,"f").front=d(this,at,"f").back,d(this,at,"f").front.reverse(),d(this,at,"f").back=[]),d(this,at,"f").front.pop()),S(this,eo,Math.max(...d(this,at,"f").getValues()),"f")}S(this,xi,Date.now(),"f"),d(this,bt,"f").push(e),d(this,Yt,"f")===null&&S(this,Yt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,Yt,null,"f"),d(this,bt,"f").length){let e=1e4;d(this,eo,"f")!==null&&d(this,xi,"f")!==null&&(e=d(this,eo,"f")-Date.now()+d(this,xi,"f")),e=d(this,bt,"f").length<e/80?1:Math.ceil(d(this,bt,"f").length/(e/80));let i=lC(d(this,bt,"f").splice(0,e));d(this,Jo,"f")&&d(this,Jo,"f").call(this,i),d(this,bt,"f")!==null&&(e==1?(e=d(this,eo,"f")/d(this,bt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,Yt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,Yt,"f")!==null&&(clearTimeout(d(this,Yt,"f")),S(this,Yt,null,"f")),S(this,bt,[],"f")}set callback(e){S(this,Jo,e,"f")}get callback(){return d(this,Jo,"f")}get action_queue(){return d(this,bt,"f")}get estimated_update_interval(){return d(this,eo,"f")}get last_update_time(){return d(this,xi,"f")}get next_update_id(){return d(this,Yt,"f")}get poll_response_delay_queue(){return d(this,at,"f")}};n(Rg,"SmoothedQueue");xi=new WeakMap,eo=new WeakMap,Jo=new WeakMap,bt=new WeakMap,Yt=new WeakMap,at=new WeakMap;var Mg=Rg;var Fe,yi,ph,Vg,zo,ch,dh,Zy,Og,lk,Go,Dg=class extends lh{constructor(e){var i,o;super(),Fe.add(this),yi.set(this,void 0),ph.set(this,void 0),Vg.set(this,void 0),zo.set(this,void 0),ch.set(this,void 0),dh.set(this,0),this.running=!1,this.is_replay=!1,S(this,ph,e.basic_info.id,"f"),S(this,Vg,e.basic_info.channel_id,"f"),S(this,yi,e.actions,"f"),S(this,zo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Mg,this.smoothed_queue.callback=r=>y(this,void 0,void 0,function*(){r.length?r.length<10?yield d(this,Fe,"m",Og).call(this,r):this.is_replay?(d(this,Fe,"m",Og).call(this,r),yield d(this,Fe,"m",Go).call(this,2e3)):d(this,Fe,"m",Og).call(this,r):yield d(this,Fe,"m",Go).call(this,2e3),this.running&&d(this,Fe,"m",Zy).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Fe,"m",Zy).call(this),d(this,Fe,"m",lk).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return y(this,void 0,void 0,function*(){let i=yield d(this,yi,"f").execute("/live_chat/send_message",{params:Py(d(this,Vg,"f"),d(this,ph,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:B.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new g("Unexpected response from send_message",i);return i.actions.array().as(Kv)})}applyFilter(e){var i,o,r,s,l,p,f;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let m=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((s=m==null?void 0:m.at(0))===null||s===void 0)&&s.selected)return;S(this,zo,(l=m==null?void 0:m.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;S(this,zo,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return y(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new g("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(d(this,yi,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new kg(i,d(this,yi,"f"))})}selectButton(e){return y(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,yi,"f"),{parse:!0})})}};n(Dg,"LiveChat");yi=new WeakMap,ph=new WeakMap,Vg=new WeakMap,zo=new WeakMap,ch=new WeakMap,dh=new WeakMap,Fe=new WeakSet,Zy=n(function t(){y(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,yi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,zo,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new g("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof qi)){this.stop(),this.emit("end");return}S(this,zo,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&d(this,Fe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),S(this,dh,0,"f")}catch(o){this.emit("error",o),S(this,dh,(i=d(this,dh,"f"),e=i++,i),"f"),e<10?(yield d(this,Fe,"m",Go).call(this,2e3),d(this,Fe,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Og=n(function(e){return y(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let s of e)yield d(this,Fe,"m",Go).call(this,r),this.emit("chat-update",s)})},"_LiveChat_emitSmoothedActions"),lk=n(function t(){y(this,void 0,void 0,function*(){var e,i,o,r,s,l,p,f,m,_,x;try{let T={videoId:d(this,ph,"f")};d(this,ch,"f")&&(T.continuation=d(this,ch,"f"));let b=yield d(this,yi,"f").execute("/updated_metadata",T),k=c.parseResponse(b.data);S(this,ch,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(Zv))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(Qv))||((s=this.metadata)===null||s===void 0?void 0:s.description),views:((l=k.actions)===null||l===void 0?void 0:l.array().firstOfType(t0))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(e0))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((_=k.actions)===null||_===void 0?void 0:_.array().firstOfType(Xv))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield d(this,Fe,"m",Go).call(this,5e3),this.running&&d(this,Fe,"m",t).call(this)}catch(T){yield d(this,Fe,"m",Go).call(this,2e3),this.running&&d(this,Fe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Go=n(function(e){return y(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Bg=Dg;var Ko,fh,Mr=class{constructor(e,i){Ko.set(this,void 0),fh.set(this,void 0),S(this,fh,e,"f"),S(this,Ko,c.parseResponse(i.data),"f"),this.header=d(this,Ko,"f").actions_memo.getType(l0).first(),this.contents=d(this,Ko,"f").actions_memo.getType(C0)}getContinuation(){return y(this,void 0,void 0,function*(){let e=d(this,Ko,"f").actions_memo.getType(he).first();if(!e)throw new g("Continuation not found");let i=yield e.endpoint.call(d(this,fh,"f"),{parse:!1});return new Mr(d(this,fh,"f"),i)})}get page(){return d(this,Ko,"f")}};n(Mr,"NotificationsMenu");Ko=new WeakMap,fh=new WeakMap;var Lg=Mr;var $o=class extends fe{constructor(e,i,o=!1){var r,s,l,p,f,m;super(e,i,o);let _=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Q).first().contents)||((s=this.page.on_response_received_commands)===null||s===void 0?void 0:s.first().contents);if(!_)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(G0)),this.results=(l=_.find(x=>x.is(ve)&&x.contents&&x.contents.length>0))===null||l===void 0?void 0:l.as(ve).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(z0).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(ng).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Ri)}selectRefinementCard(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(vo),!r)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new g("Invalid refinement card!");let s=yield r.endpoint.call(this.actions,{parse:!0});return new $o(this.actions,s,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(vo).map(i=>i.query))||[]}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new $o(this.actions,e,!0)})}};n($o,"Search");var Fg=$o;var qo,mh,Vr=class{constructor(e,i){var o,r,s,l;if(qo.set(this,void 0),mh.set(this,void 0),S(this,mh,e,"f"),S(this,qo,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,qo,"f").sidebar)===null||o===void 0?void 0:o.as(q0),!d(this,qo,"f").contents)throw new g("Page contents not found");let p=d(this,qo,"f").contents.item().as(ii).tabs.array().as(ge).get({selected:!0});if(!p)throw new g("Target tab not found");let f=(r=p.content)===null||r===void 0?void 0:r.as(Q).contents.as(ve);this.introduction=(l=(s=f==null?void 0:f.shift())===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(P0),this.sections=f==null?void 0:f.map(m=>{var _;return{title:!((_=m.header)===null||_===void 0)&&_.is(Li,ur,lr)?m.header.title.toString():null,contents:m.contents}})}selectSidebarItem(e){return y(this,void 0,void 0,function*(){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(tr))i=e;else throw new g("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,mh,"f"),{parse:!1});return new Vr(d(this,mh,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let s=r.as(_r).options;if(s){for(let l of s)if(l.is(hr)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(_r).options&&(e=e.concat(o.as(_r).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,qo,"f")}};n(Vr,"Settings");qo=new WeakMap,mh=new WeakMap;var Yg=Vr;var Or,jg=class{constructor(e){var i;if(Or.set(this,void 0),S(this,Or,c.parseResponse(e.data),"f"),!d(this,Or,"f").contents)throw new g("Page contents not found");let o=d(this,Or,"f").contents.item().as(ti).tabs.get({selected:!0});if(!o)throw new g("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Q).contents.as(ve)}get page(){return d(this,Or,"f")}};n(jg,"TimeWatched");Or=new WeakMap;var Ug=jg;var sb={};D(sb,{Feed:()=>fe,FilterableFeed:()=>Qi,MediaInfo:()=>io,TabbedFeed:()=>Uo});var Jg={};D(Jg,{chooseFormat:()=>Kg,download:()=>nb,toDash:()=>zg});var cC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function ck(t){return t.replace(/([&"<>'])/g,(e,i)=>cC[i])}n(ck,"escapeXMLString");function dC(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(dC,"normalizeTag");function de(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?pC(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:dC(t),props:Object.assign(Object.assign({},e),{children:o})}}n(de,"createElement");function pC(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(pC,"createTextElement");function dk(t){return y(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return ck(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${ck(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>dk(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(dk,"renderElementToString");function pk(t){return y(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield dk(yield t)}`})}n(pk,"renderToString");function fk(t){return t.children}n(fk,"Fragment");var Xo,Wg=class{constructor(e,i){Xo.set(this,void 0),S(this,Xo,new B.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Xo,"f").cache_dir}get(e){return d(this,Xo,"f").get(e)}set(e,i){return d(this,Xo,"f").set(e,i)}remove(e){return d(this,Xo,"f").remove(e)}};n(Wg,"UniversalCache");Xo=new WeakMap;var mC=Wg;var eb,jt,Dr,hh,mk,Hg=class{constructor(e,i,o){eb.add(this),jt.set(this,void 0),Dr.set(this,void 0),hh.set(this,void 0),S(this,jt,e,"f"),S(this,Dr,i,"f"),S(this,hh,o||B.shim.fetch,"f")}get fetch_function(){return d(this,hh,"f")}fetch(e,i){return y(this,void 0,void 0,function*(){let o=pe.API.PRODUCTION_1+d(this,jt,"f").api_version,r=(i==null?void 0:i.baseURL)||o,s=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),l=(i==null?void 0:i.headers)||(e instanceof B.shim.Request?e.headers:new B.shim.Headers)||new B.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof B.shim.Request?e.body:void 0),f=new B.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,jt,"f").context.client.visitorData||""),f.set("X-Origin",s.origin),f.set("X-Youtube-Client-Version",d(this,jt,"f").context.client.clientVersion||""),B.shim.server&&(f.set("User-Agent",Qo("desktop")),f.set("origin",s.origin)),s.searchParams.set("key",d(this,jt,"f").key),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let m=f.get("Content-Type"),_=p,x=!1,T=r===o||r===pe.YT_UPLOAD;if(m==="application/json"&&T&&typeof p=="string"){let N=JSON.parse(p),A=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(d(this,jt,"f").context))});d(this,eb,"m",mk).call(this,A.context,A.client),f.set("x-youtube-client-version",A.context.client.clientVersion),delete A.client,B.shim.server&&(A.context.client.clientName==="ANDROID"||A.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",G.ANDROID.USER_AGENT):A.context.client.clientName==="iOS"&&f.set("User-Agent",G.iOS.USER_AGENT)),x=A.context.client.clientName==="WEB_KIDS",_=JSON.stringify(A)}if(d(this,jt,"f").logged_in&&T&&!x){let N=d(this,jt,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),s.searchParams.delete("key")),d(this,Dr,"f")){let A=Je(d(this,Dr,"f"),"PAPISID=",";");A&&(f.set("authorization",yield ib(A)),f.set("x-goog-authuser",d(this,jt,"f").account_index.toString())),f.set("cookie",d(this,Dr,"f"))}}let b=new B.shim.Request(s,e instanceof B.shim.Request?e:i),k=yield d(this,hh,"f").call(this,b,{body:_,headers:f,credentials:"include",redirect:e instanceof B.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(k.ok)return k;throw new g(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};n(Hg,"HTTPClient");jt=new WeakMap,Dr=new WeakMap,hh=new WeakMap,eb=new WeakSet,mk=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=G.ANDROID.SDK_VERSION,e.client.userAgent=G.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=G.iOS.DEVICE_MODEL,e.client.clientVersion=G.iOS.VERSION,e.client.clientName=G.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=G.YTMUSIC.VERSION,e.client.clientName=G.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=G.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=G.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=G.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=G.TV_EMBEDDED.NAME,e.client.clientVersion=G.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:pe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=G.WEB_KIDS.VERSION,e.client.clientName=G.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var tb=Hg;function hC(t){var e,i,o;let r=new Map,s=t.some(l=>!!l.audio_track);for(let l of t){if((!l.index_range||!l.init_range)&&!l.is_type_otf)continue;let p=l.mime_type.split(";")[0],f=(e=Je(l.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],m=l.color_info?Object.values(l.color_info).join("-"):"",_=((i=l.audio_track)===null||i===void 0?void 0:i.id)||"",x=`${p}-${f}-${m}-${_}`;r.has(x)||r.set(x,[]),(o=r.get(x))===null||o===void 0||o.push(l)}return{groups:Array.from(r.values()),has_multiple_audio_tracks:s}}n(hC,"getFormatGroupings");function hk(t,e){if(t.length>1&&new Set(t.map(i=>Je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Je(t[0].mime_type,'codecs="','"')}n(hk,"hoistCodecsIfPossible");function _k(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(_k,"hoistNumberAttributeIfPossible");function _C(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(_C,"hoistAudioChannelsIfPossible");function vC(t,e){var i;return y(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:He.STREAM_HEADERS,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),s=yield o.text(),l=(i=Je(s,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let m=f.trim();if(m.length===0)continue;let _,x=Je(m,"(r=",")");x&&(_=parseInt(x)),p.push({duration:parseInt(m),repeat_count:_})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(vC,"getOTFSegmentTemplate");function vk(t,e,i,o,r){let s=new URL(t.decipher(o));s.searchParams.set("cpn",r||"");let l=e(s).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate(){return vC(l,i)}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:l,index_range:t.index_range,init_range:t.init_range}}n(vk,"getSegmentInfo");function gC(t,e,i,o,r,s){return new URL(t.decipher(r)).searchParams.set("cpn",s||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:vk(t,i,o,r,s)}}n(gC,"getAudioRepresentation");function xC(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(xC,"getTrackRole");function yC(t,e,i,o,r){var s;let l=t[0],{audio_track:p}=l,f=[];return{mime_type:l.mime_type.split(";")[0],language:(s=l.language)!==null&&s!==void 0?s:void 0,codecs:hk(t,f),audio_sample_rate:_k(t,"audio_sample_rate",f),track_name:p==null?void 0:p.display_name,track_role:xC(l),channels:_C(t,f),representations:t.map(_=>gC(_,f,e,i,o,r))}}n(yC,"getAudioSet");var bC={BT709:"1",BT2020:"9"},wC={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},TC={BT709:"1",BT2020_NCL:"14"};function SC(t){let e=t.color_info,i=e!=null&&e.primaries?bC[e.primaries]:void 0,o=e!=null&&e.transfer_characteristics?wC[e.transfer_characteristics]:void 0,r=e!=null&&e.matrix_coefficients?TC[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!r){let l=new URL(t.url),p=JSON.parse(JSON.stringify(t));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${B.shim.info.bugs_url} so we can add support for it.
Innertube client: ${l.searchParams.get("c")}
format:`,p)}return{primaries:i,transfer_characteristics:o,matrix_coefficients:r}}n(SC,"getColorInfo");function IC(t,e,i,o,r,s){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:vk(t,e,r,o,s)}}n(IC,"getVideoRepresentation");function kC(t,e,i,o,r){let s=t[0],l=SC(s),p=[];return{mime_type:s.mime_type.split(";")[0],color_info:l,codecs:hk(t,p),fps:_k(t,"fps",p),representations:t.map(m=>IC(m,e,p,i,o,r))}}n(kC,"getVideoSet");function CC(t){var e;let i=new Map;for(let o of t.boards){let r=new URL(o.template_url).pathname.split(".").pop(),s=`image/${r==="jpg"?"jpeg":r}`;i.has(s)||i.set(s,[]),(e=i.get(s))===null||e===void 0||e.push(o)}return i}n(CC,"getStoryboardInfo");function EC(t,e,i,o,r){return y(this,void 0,void 0,function*(){let s=e.template_url,l=i(new URL(s.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(l,{method:"HEAD",headers:He.STREAM_HEADERS});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(EC,"getStoryboardMimeType");function PC(t,e,i){return y(this,void 0,void 0,function*(){let o=e.template_url,r=[],s=Math.min(e.storyboard_count,10);for(let m=0;m<s;m++){let _=new URL(o.replace("$M",m.toString())),x=m===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:He.STREAM_HEADERS});m===0&&(i.response=x),r.push(x)}let l=yield Promise.all(r),p=[];for(let m of l)p.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(PC,"getStoryboardBitrate");function NC(t,e,i,o,r){let s=i.template_url,l=new URL(s.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return PC(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:o(l).toString(),getURL(f){return l.toString().replace("$Number$",f.toString())}}}n(NC,"getImageRepresentation");function AC(t,e,i,o){let r=CC(i),s={};return Array.from(r.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return EC(e,p[0],o,l,s)},representations:p.map(f=>NC(t,e,f,o,s))}))}n(AC,"getImageSets");function Gg(t,e=p=>p,i,o,r,s,l){if(!t)throw new g("Streaming data not available");let p=i?t.adaptive_formats.filter(M=>!i(M)):t.adaptive_formats,f=p[0].approx_duration_ms/1e3,{groups:m,has_multiple_audio_tracks:_}=hC(p),{video_groups:x,audio_groups:T}=m.reduce((M,z)=>z[0].has_audio?(_&&!z[0].audio_track||M.audio_groups.push(z),M):(M.video_groups.push(z),M),{video_groups:[],audio_groups:[]}),b=T.map(M=>yC(M,e,s,r,o)),k=x.map(M=>kC(M,e,r,s,o)),N=l&&s?AC(f,s,l,e):[];return{duration:f,audio_sets:b,video_sets:k,image_sets:N}}n(Gg,"getStreamingInfo");function RC({info:t}){return y(this,void 0,void 0,function*(){if(!t.is_oft)return null;let e=yield t.getSegmentTemplate();return de("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},de("segment-timeline",null,e.timeline.map(i=>de("s",{d:i.duration,r:i.repeat_count}))))})}n(RC,"OTFSegmentInfo");function gk({info:t}){return t.is_oft?de(RC,{info:t}):de(fk,null,de("base-url",null,t.base_url),de("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},de("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(gk,"SegmentInfo");function MC({streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:r,actions:s,storyboards:l}){let{duration:p,audio_sets:f,video_sets:m,image_sets:_}=Gg(t,e,i,o,r,s,l);return de("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},de("period",null,f.map((x,T)=>de("adaptation-set",{id:T,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:x.language,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate,contentType:"audio"},x.track_role&&de("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:x.track_role}),x.track_name&&de("label",{id:T},x.track_name),x.channels&&de("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),x.representations.map(b=>de("representation",{id:b.uid,bandwidth:b.bitrate,codecs:b.codecs,audioSamplingRate:b.audio_sample_rate},b.channels&&de("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:b.channels}),de(gk,{info:b.segment_info}))))),m.map((x,T)=>de("adaptation-set",{id:T+f.length,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:x.codecs,maxPlayoutRate:"1",frameRate:x.fps,contentType:"video"},x.color_info.primaries&&de("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:x.color_info.primaries}),x.color_info.transfer_characteristics&&de("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:x.color_info.transfer_characteristics}),x.color_info.matrix_coefficients&&de("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:x.color_info.matrix_coefficients}),x.representations.map(b=>de("representation",{id:b.uid,bandwidth:b.bitrate,width:b.width,height:b.height,codecs:b.codecs,frameRate:b.fps},de(gk,{info:b.segment_info}))))),_.map((x,T)=>y(this,void 0,void 0,function*(){return de("adaptation-set",{id:T+f.length+m.length,mimeType:yield x.getMimeType(),contentType:"image"},x.representations.map(b=>y(this,void 0,void 0,function*(){return de("representation",{id:`thumbnails_${b.thumbnail_width}x${b.thumbnail_height}`,bandwidth:yield b.getBitrate(),width:b.sheet_width,height:b.sheet_height},de("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${b.columns}x${b.rows}`}),de("segment-template",{media:b.template_url,duration:b.template_duration,startNumber:"0"}))})))}))))}n(MC,"DashManifest");function zg(t,e=p=>p,i,o,r,s,l){if(!t)throw new g("Streaming data not available");return pk(de(MC,{streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:r,actions:s,storyboards:l}))}n(zg,"toDash");function nb(t,e,i,o,r,s){return y(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Kg(l,o),f=p.decipher(r);if(l.type==="video+audio"&&!t.range){let N=yield e.session.http.fetch_function(`${f}&cpn=${s}`,{method:"GET",headers:jh,redirect:"follow"});if(!N.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:N});let A=N.body;if(!A)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:N});return A}let m=1048576*10,_=t.range?t.range.start:0,x=t.range?t.range.end:m,T=!1,b;return new B.shim.ReadableStream({start(){},pull:N=>y(this,void 0,void 0,function*(){if(T){N.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(T=!0),new Promise((A,M)=>y(this,void 0,void 0,function*(){var z,K,me,ye;try{b=new AbortController;let $=yield e.session.http.fetch_function(`${f}&cpn=${s}&range=${_}-${x||""}`,{method:"GET",headers:Object.assign({},jh),signal:b.signal}),J=$.body;if(!J)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:$});try{for(var Te=!0,ke=Xb(rb(J)),Re;Re=yield ke.next(),z=Re.done,!z;Te=!0){ye=Re.value,Te=!1;let X=ye;N.enqueue(X)}}catch(X){K={error:X}}finally{try{!Te&&!z&&(me=ke.return)&&(yield me.call(ke))}finally{if(K)throw K.error}}_=x+1,x+=m,A()}catch($){M($)}}))}),cancel(N){return y(this,void 0,void 0,function*(){b.abort(N)})}},{highWaterMark:1,size(N){return N.byteLength}})})}n(nb,"download");function Kg(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,s=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),m=l!=="best",_=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!f&&x.quality_label!==l?!1:(p<x.width&&(p=x.width),!0));if(!_.length)throw new g("No matching formats found",{options:t});if(f&&r&&(_=_.filter(x=>x.width===p)),o&&!r){let x=_.filter(T=>s!=="original"?!T.has_video&&T.language===s:!T.has_video&&T.is_original);x.length>0&&(_=x)}return m?_.sort((x,T)=>x.bitrate-T.bitrate):_.sort((x,T)=>T.bitrate-x.bitrate),_[0]}n(Kg,"chooseFormat");var _h,vh,Br=class{constructor(e,i){_h.set(this,void 0),vh.set(this,void 0),S(this,_h,c.parseResponse(i.data),"f"),S(this,vh,e,"f"),this.transcript=d(this,_h,"f").actions_memo.getType(Kn).first()}selectLanguage(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l=(s=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield d(this,vh,"f").execute("/get_transcript",{params:l.continuation});return new Br(d(this,vh,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(s=>s.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,s;return((s=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(l=>l.selected))===null||s===void 0?void 0:s.title.toString())||""}get page(){return d(this,_h,"f")}};n(Br,"TranscriptInfo");_h=new WeakMap,vh=new WeakMap;var xk=Br;var to,Ut,Lr,gh,$g=class{constructor(e,i,o){var r,s;to.set(this,void 0),Ut.set(this,void 0),Lr.set(this,void 0),gh.set(this,void 0),S(this,Ut,i,"f");let l=c.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?c.parseResponse(e[1].data):void 0;if(S(this,to,[l,p],"f"),S(this,Lr,o,"f"),((s=l.playability_status)===null||s===void 0?void 0:s.status)==="ERROR")throw new g("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,this.player_config=l.player_config,S(this,gh,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var r;return y(this,void 0,void 0,function*(){let s=d(this,to,"f")[0];if(s.video_details&&(s.video_details.is_live||s.video_details.is_post_live_dvr))throw new g("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&((r=s.storyboards)===null||r===void 0?void 0:r.is(_o))&&(l=s.storyboards),zg(this.streaming_data,e,i,d(this,Lr,"f"),d(this,Ut,"f").session.player,d(this,Ut,"f"),l)})}getStreamingInfo(e,i){var o;return Gg(this.streaming_data,e,i,this.cpn,d(this,Ut,"f").session.player,d(this,Ut,"f"),!((o=d(this,to,"f")[0].storyboards)===null||o===void 0)&&o.is(_o)?d(this,to,"f")[0].storyboards:void 0)}chooseFormat(e){return Kg(e,this.streaming_data)}download(e={}){return y(this,void 0,void 0,function*(){let i=d(this,to,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return nb(e,d(this,Ut,"f"),this.playability_status,this.streaming_data,d(this,Ut,"f").session.player,this.cpn)})}getTranscript(){var e;return y(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new g("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new g("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(he);if(!r)throw new g("Transcript continuation not found.");let s=yield r.endpoint.call(this.actions);return new xk(this.actions,s)})}addToWatchHistory(e=G.WEB.NAME,i=G.WEB.VERSION,o="https://www."){return y(this,void 0,void 0,function*(){if(!d(this,gh,"f"))throw new g("Playback tracking not available");let r={cpn:d(this,Lr,"f"),fmt:251,rtn:0,rt:0},s=d(this,gh,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Ut,"f").stats(s,{client_name:e,client_version:i},r)})}get actions(){return d(this,Ut,"f")}get cpn(){return d(this,Lr,"f")}get page(){return d(this,to,"f")}};n($g,"MediaInfo");to=new WeakMap,Ut=new WeakMap,Lr=new WeakMap,gh=new WeakMap;var io=$g;var oo,Fr=class extends io{constructor(e,i,o){var r,s,l,p,f,m,_,x,T,b,k,N,A,M,z,K,me,ye,Te,ke,Re,$,J,X,ie,Be,lt,_t,q,je,zt,Kt,Se,ot,En,Pn,Nn,An,Rn,Mn,Vn,On,Dn,Bn;super(e,i,o),oo.set(this,void 0);let[ue,vt]=this.page;if(ue.microformat&&!(!((r=ue.microformat)===null||r===void 0)&&r.is(Ot,Qt)))throw new g("Invalid microformat",ue.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ue.video_details),{embed:!((s=ue.microformat)===null||s===void 0)&&s.is(Ot)?(l=ue.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ue.microformat)===null||p===void 0)&&p.is(Ot)?(f=ue.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=ue.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(_=ue.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((x=ue.microformat)===null||x===void 0)&&x.is(Ot)?(T=ue.microformat)===null||T===void 0?void 0:T.category:null,has_ypc_metadata:!((b=ue.microformat)===null||b===void 0)&&b.is(Ot)?(k=ue.microformat)===null||k===void 0?void 0:k.has_ypc_metadata:null,start_timestamp:!((N=ue.microformat)===null||N===void 0)&&N.is(Ot)?ue.microformat.start_timestamp:null,view_count:((A=ue.microformat)===null||A===void 0?void 0:A.is(Ot))&&isNaN((M=ue.video_details)===null||M===void 0?void 0:M.view_count)?ue.microformat.view_count:(z=ue.video_details)===null||z===void 0?void 0:z.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ue.annotations,this.storyboards=ue.storyboards,this.endscreen=ue.endscreen,this.captions=ue.captions,this.cards=ue.cards,this.streaming_data){let Ce=this.streaming_data.adaptive_formats.find(We=>{var gt;return(gt=We.audio_track)===null||gt===void 0?void 0:gt.audio_is_default});if(Ce)this.streaming_data.formats.forEach(We=>We.language=Ce.language);else if(((K=this.captions)===null||K===void 0?void 0:K.caption_tracks)&&((me=this.captions)===null||me===void 0?void 0:me.caption_tracks.length)>0){let We=this.captions.caption_tracks.find(Me=>Me.kind==="asr"),gt=We==null?void 0:We.language_code;this.streaming_data.adaptive_formats.forEach(Me=>{Me.has_audio&&(Me.language=gt)}),this.streaming_data.formats.forEach(Me=>Me.language=gt)}}let Ue=(ye=vt==null?void 0:vt.contents)===null||ye===void 0?void 0:ye.item().as(gr),pi=Ue==null?void 0:Ue.results,po=Ue==null?void 0:Ue.secondary_results;if(pi&&po){if(((Te=ue.microformat)===null||Te===void 0?void 0:Te.is(Ot))&&((ke=ue.microformat)===null||ke===void 0?void 0:ke.category)==="Gaming"){let Me=(J=($=(Re=pi.firstOfType(Ym))===null||Re===void 0?void 0:Re.metadata)===null||$===void 0?void 0:$.rows)===null||J===void 0?void 0:J.firstOfType(Af);Me!=null&&Me.is(Af)&&(this.game_info={title:(ie=(X=Me==null?void 0:Me.contents)===null||X===void 0?void 0:X.firstOfType(Pf))===null||ie===void 0?void 0:ie.title,release_year:(lt=(Be=Me==null?void 0:Me.contents)===null||Be===void 0?void 0:Be.firstOfType(Pf))===null||lt===void 0?void 0:lt.subtitle})}this.primary_info=pi.firstOfType(rg),this.secondary_info=pi.firstOfType(Ym),this.merchandise=pi.firstOfType(c0),this.related_chip_cloud=(_t=po.firstOfType(W0))===null||_t===void 0?void 0:_t.content.as(ct),Ue!=null&&Ue.playlist&&(this.playlist=Ue.playlist),this.watch_next_feed=((q=po.firstOfType(ve))===null||q===void 0?void 0:q.contents)||po,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((je=this.watch_next_feed.at(-1))===null||je===void 0?void 0:je.is(he))&&S(this,oo,(zt=this.watch_next_feed.pop())===null||zt===void 0?void 0:zt.as(he),"f"),this.player_overlays=(Kt=vt==null?void 0:vt.player_overlays)===null||Kt===void 0?void 0:Kt.item().as(Wi),Ue!=null&&Ue.autoplay&&(this.autoplay=Ue.autoplay);let Ce=(ot=(Se=this.primary_info)===null||Se===void 0?void 0:Se.menu)===null||ot===void 0?void 0:ot.top_level_buttons.firstOfType(Ro);((En=Ce==null?void 0:Ce.like_button)===null||En===void 0?void 0:En.is(Oe))&&((Pn=Ce==null?void 0:Ce.dislike_button)===null||Pn===void 0?void 0:Pn.is(Oe))&&(this.basic_info.like_count=(Nn=Ce==null?void 0:Ce.like_button)===null||Nn===void 0?void 0:Nn.like_count,this.basic_info.is_liked=(An=Ce==null?void 0:Ce.like_button)===null||An===void 0?void 0:An.is_toggled,this.basic_info.is_disliked=(Rn=Ce==null?void 0:Ce.dislike_button)===null||Rn===void 0?void 0:Rn.is_toggled);let We=(Vn=(Mn=this.primary_info)===null||Mn===void 0?void 0:Mn.menu)===null||Vn===void 0?void 0:Vn.top_level_buttons.firstOfType(Mo);if(We&&(this.basic_info.like_count=We.like_count,We.like_button)){let Me=We.like_button.like_status_entity.like_status;this.basic_info.is_liked=Me==="LIKE",this.basic_info.is_disliked=Me==="DISLIKE"}let gt=(On=pi.get({target_id:"comments-entry-point"}))===null||On===void 0?void 0:On.as(ve);this.comments_entry_point_header=(Dn=gt==null?void 0:gt.contents)===null||Dn===void 0?void 0:Dn.firstOfType(dv),this.livechat=(Bn=vt==null?void 0:vt.contents_memo)===null||Bn===void 0?void 0:Bn.getType(Jv).first()}}selectFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new g("Invalid filter",{available_filters:this.filters});l=m}else if(e!=null&&e.is(_e))l=e;else throw new g("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(r=l.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),f=(s=p==null?void 0:p.on_response_received_endpoints)===null||s===void 0?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){if(!d(this,oo,"f"))throw new g("Watch next feed continuation not found");let l=yield(e=d(this,oo,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(he)?S(this,oo,(s=this.watch_next_feed.pop())===null||s===void 0?void 0:s.as(he),"f"):S(this,oo,void 0,"f"),this})}like(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Mo);if(l){let _=(o=l==null?void 0:l.like_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!l.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(Ro),f=p==null?void 0:p.like_button;if(!f)throw new g("Like button not found",{video_id:this.basic_info.id});if(!f.is(Oe))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}dislike(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Mo);if(l){let _=(o=l==null?void 0:l.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!l.dislike_button||!l.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(l.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(Ro),f=p==null?void 0:p.dislike_button;if(!f)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!f.is(Oe))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}removeRating(){var e,i,o,r,s,l,p;return y(this,void 0,void 0,function*(){let f,m=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Mo);if(m){let k=(o=m==null?void 0:m.like_button)===null||o===void 0?void 0:o.toggle_button;if(!k||!k.default_button||!m.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let N=m.like_button.like_status_entity.like_status;if(N==="LIKE")f=(r=m==null?void 0:m.like_button)===null||r===void 0?void 0:r.toggle_button;else if(N==="DISLIKE")f=(s=m==null?void 0:m.dislike_button)===null||s===void 0?void 0:s.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!f||!f.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(f.toggled_button.on_tap.payload.commands.find(z=>z.innertubeCommand)).call(this.actions)}let _=(p=(l=this.primary_info)===null||l===void 0?void 0:l.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(Ro),x=_==null?void 0:_.like_button,T=_==null?void 0:_.dislike_button;if(!(x!=null&&x.is(Oe))||!(T!=null&&T.is(Oe)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?f=x:T!=null&&T.is_toggled&&(f=T),!f)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return yield f.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new Bg(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(qp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Fr([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!d(this,oo,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(qp))}get music_tracks(){var e,i,o,r,s,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(xo)});if(p!==void 0&&p.length>0){let f=(s=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(xo))===null||r===void 0?void 0:r.items)===null||s===void 0?void 0:s.filterType(Jn);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(m=>{var _,x,T,b,k,N,A,M,z,K,me,ye,Te,ke,Re,$,J,X,ie;let Be,lt,_t,q,je,zt;Be=(x=(_=m.video_lockup)===null||_===void 0?void 0:_.title)===null||x===void 0?void 0:x.toString(),je=(T=m.video_lockup)===null||T===void 0?void 0:T.endpoint.payload.videoId;for(let Kt=0;Kt<m.info_rows.length;Kt++){let Se=m.info_rows[Kt];if(Se.info_row_expand_status_key===void 0)if(Be===void 0){if(Be=((b=Se.default_metadata)===null||b===void 0?void 0:b.toString())||((k=Se.expanded_metadata)===null||k===void 0?void 0:k.toString()),je===void 0){let ot=((N=Se.default_metadata)===null||N===void 0?void 0:N.endpoint)||((A=Se.expanded_metadata)===null||A===void 0?void 0:A.endpoint);je=(M=ot==null?void 0:ot.payload)===null||M===void 0?void 0:M.videoId}}else _t=((z=Se.default_metadata)===null||z===void 0?void 0:z.toString())||((K=Se.expanded_metadata)===null||K===void 0?void 0:K.toString());else{if(((me=Se.info_row_expand_status_key)===null||me===void 0?void 0:me.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(lt=((ye=Se.default_metadata)===null||ye===void 0?void 0:ye.toString())||((Te=Se.expanded_metadata)===null||Te===void 0?void 0:Te.toString()),zt===void 0)){let ot=((ke=Se.default_metadata)===null||ke===void 0?void 0:ke.endpoint)||((Re=Se.expanded_metadata)===null||Re===void 0?void 0:Re.endpoint);zt=($=ot==null?void 0:ot.payload)===null||$===void 0?void 0:$.browseId}((J=Se.info_row_expand_status_key)===null||J===void 0?void 0:J.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(q=((X=Se.default_metadata)===null||X===void 0?void 0:X.toString())||((ie=Se.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:Be,artist:lt,album:_t,license:q,videoId:je,channelId:zt}})}return[]}};n(Fr,"VideoInfo");oo=new WeakMap;var xh=Fr;var lb={};D(lb,{Album:()=>Xg,Artist:()=>ex,Explore:()=>ix,HomeFeed:()=>ox,Library:()=>nx,LibraryContinuation:()=>on,Playlist:()=>zr,Recap:()=>sx,Search:()=>ax,TrackInfo:()=>Ih});var bi,qg=class{constructor(e){var i,o,r;if(bi.set(this,void 0),S(this,bi,c.parseResponse(e.data),"f"),this.header=(i=d(this,bi,"f").header)===null||i===void 0?void 0:i.item().as(No),this.url=((o=d(this,bi,"f").microformat)===null||o===void 0?void 0:o.as(Qt).url_canonical)||null,!d(this,bi,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(r=d(this,bi,"f").contents_memo.getType(be))===null||r===void 0?void 0:r.first().contents,this.sections=d(this,bi,"f").contents_memo.getType(Pe)||[]}get page(){return d(this,bi,"f")}};n(qg,"Album");bi=new WeakMap;var Xg=qg;var Yr,Qg,Zg=class{constructor(e,i){var o,r,s;Yr.set(this,void 0),Qg.set(this,void 0),S(this,Yr,c.parseResponse(e.data),"f"),S(this,Qg,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(b0,k0,ji);let l=((r=d(this,Yr,"f").contents_memo)===null||r===void 0?void 0:r.getType(be))||[],p=((s=d(this,Yr,"f").contents_memo)===null||s===void 0?void 0:s.getType(Pe))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return y(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new g("Could not find any node of type MusicShelf.");let r=o.find(p=>p.title.toString()==="Songs");if(!r)throw new g("Could not find target shelf (Songs).");if(!r.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield r.endpoint.call(d(this,Qg,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Ao))===null||i===void 0?void 0:i.first()})}get page(){return d(this,Yr,"f")}};n(Zg,"Artist");Yr=new WeakMap,Qg=new WeakMap;var ex=Zg;var yh,tx=class{constructor(e){var i,o,r;yh.set(this,void 0),S(this,yh,c.parseResponse(e.data),"f");let s=(i=d(this,yh,"f").contents)===null||i===void 0?void 0:i.item().as(ti).tabs.get({selected:!0});if(!s)throw new g("Could not find target tab.");let l=(o=s.content)===null||o===void 0?void 0:o.as(Q);if(!l)throw new g("Target tab did not have any content.");this.top_buttons=((r=l.contents.firstOfType(Io))===null||r===void 0?void 0:r.items.as(cr))||[],this.sections=l.contents.filterType(Pe)}get page(){return d(this,yh,"f")}};n(tx,"Explore");yh=new WeakMap;var ix=tx;var no,Zo,en,tn=class{constructor(e,i){var o,r,s,l,p,f;no.set(this,void 0),Zo.set(this,void 0),en.set(this,void 0),S(this,Zo,i,"f"),S(this,no,c.parseResponse(e.data),"f");let m=(o=d(this,no,"f").contents)===null||o===void 0?void 0:o.item().as(ti).tabs.get({selected:!0});if(!m)throw new g("Could not find Home tab.");if(m.content===null){if(!d(this,no,"f").continuation_contents)throw new g("Continuation did not have any content.");S(this,en,d(this,no,"f").continuation_contents.as(rt).continuation,"f"),this.sections=(r=d(this,no,"f").continuation_contents.as(rt).contents)===null||r===void 0?void 0:r.as(Pe);return}this.header=(l=(s=m.content)===null||s===void 0?void 0:s.as(Q).header)===null||l===void 0?void 0:l.as(ct),S(this,en,(p=m.content)===null||p===void 0?void 0:p.as(Q).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Q).contents.as(Pe,I0)}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,en,"f"))throw new g("Continuation not found.");let e=yield d(this,Zo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,en,"f")});return new tn(e,d(this,Zo,"f"))})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,Zo,"f"),{client:"YTMUSIC"});return new tn(s,d(this,Zo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!d(this,en,"f")}get page(){return d(this,no,"f")}};n(tn,"HomeFeed");no=new WeakMap,Zo=new WeakMap,en=new WeakMap;var ox=tn;var ai,ro,jr,Ur,bh,Wr,Hr=class{constructor(e,i){var o,r,s,l,p;ai.set(this,void 0),ro.set(this,void 0),jr.set(this,void 0),S(this,ai,c.parseResponse(e.data),"f"),S(this,ro,i,"f");let f=(o=d(this,ai,"f").contents_memo)===null||o===void 0?void 0:o.getType(Q).first();this.header=(r=f==null?void 0:f.header)===null||r===void 0?void 0:r.as(T0),this.contents=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(Io,be),S(this,jr,(p=(l=this.contents)===null||l===void 0?void 0:l.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,r,s,l,p,f,m,_,x;return y(this,void 0,void 0,function*(){let T;if(typeof e=="string"){let A=(i=d(this,ai,"f").contents_memo)===null||i===void 0?void 0:i.getType(Op).first(),M=(o=A==null?void 0:A.menu)===null||o===void 0?void 0:o.options.filter(z=>z instanceof Nt);if(T=M==null?void 0:M.find(z=>z.title===e),!T)throw new g(`Sort option "${e}" not found`,{available_filters:M.map(z=>z.title)})}else e instanceof Nt&&(T=e);if(!T)throw new g("Invalid sort option");if(T.selected)return this;let b=(p=(l=(s=(r=T.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commands)===null||l===void 0?void 0:l.find(A=>A.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!b)throw new g("Failed to find sort option command");let k=yield d(this,ro,"f").execute("/browse",{client:"YTMUSIC",continuation:b.continuation.reloadContinuationData.continuation,parse:!0}),N=(m=(f=d(this,ai,"f").contents_memo)===null||f===void 0?void 0:f.getType(Nt))===null||m===void 0?void 0:m.find(A=>A.selected);return N&&(N.selected=!1),T.selected=!0,this.contents=(x=(_=k.continuation_contents)===null||_===void 0?void 0:_.as(rt).contents)===null||x===void 0?void 0:x.as(Io,be),this})}applyFilter(e){var i,o,r,s;return y(this,void 0,void 0,function*(){let l,p=(i=d(this,ai,"f").contents_memo)===null||i===void 0?void 0:i.getType(ct).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof _e&&(l=e);if(!l)throw new g("Invalid filter",e);let m=yield new v((s=(r=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||r===void 0?void 0:r.commands)===null||s===void 0?void 0:s[0]).call(d(this,ro,"f"),{client:"YTMUSIC"});return new Hr(m,d(this,ro,"f"))})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,jr,"f"))throw new g("No continuation available");let e=yield d(this,ro,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,jr,"f")});return new on(e,d(this,ro,"f"))})}get has_continuation(){return!!d(this,jr,"f")}get sort_options(){var e,i;let o=(e=d(this,ai,"f").contents_memo)===null||e===void 0?void 0:e.getType(Op).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(s=>s instanceof Nt)).map(s=>s.title)}get filters(){var e,i;return((i=(e=d(this,ai,"f").contents_memo)===null||e===void 0?void 0:e.getType(ct))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,ai,"f")}};n(Hr,"Library");ai=new WeakMap,ro=new WeakMap,jr=new WeakMap;var on=class{constructor(e,i){if(Ur.set(this,void 0),bh.set(this,void 0),Wr.set(this,void 0),S(this,Ur,c.parseResponse(e.data),"f"),S(this,bh,i,"f"),!d(this,Ur,"f").continuation_contents)throw new g("No continuation contents found");this.contents=d(this,Ur,"f").continuation_contents.as(ni,$i),S(this,Wr,this.contents.continuation||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Wr,"f"))throw new g("No continuation available");let e=yield d(this,bh,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Wr,"f")});return new on(e,d(this,bh,"f"))})}get has_continuation(){return!!d(this,Wr,"f")}get page(){return d(this,Ur,"f")}};n(on,"LibraryContinuation");Ur=new WeakMap,bh=new WeakMap,Wr=new WeakMap;var nx=Hr;var ub,pt,rn,nn,Jr,wh,yk,Gr=class{constructor(e,i){var o,r,s,l,p,f,m;if(ub.add(this),pt.set(this,void 0),rn.set(this,void 0),nn.set(this,void 0),Jr.set(this,void 0),wh.set(this,void 0),S(this,rn,i,"f"),S(this,pt,c.parseResponse(e.data),"f"),S(this,Jr,null,"f"),S(this,wh,null,"f"),d(this,pt,"f").continuation_contents){let _=(o=d(this,pt,"f").continuation_contents)===null||o===void 0?void 0:o.as(Ki);this.items=_.contents,S(this,nn,_.continuation,"f")}else((r=d(this,pt,"f").header)===null||r===void 0?void 0:r.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(s=d(this,pt,"f").header)===null||s===void 0?void 0:s.item().as(y0).header)===null||l===void 0?void 0:l.as(No):this.header=(p=d(this,pt,"f").header)===null||p===void 0?void 0:p.item().as(No),this.items=((f=d(this,pt,"f").contents_memo)===null||f===void 0?void 0:f.getType(Ao).first().contents)||null,S(this,nn,((m=d(this,pt,"f").contents_memo)===null||m===void 0?void 0:m.getType(Ao).first().continuation)||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,nn,"f"))throw new g("Continuation not found.");let e=yield d(this,rn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,nn,"f")});return new Gr(e,d(this,rn,"f"))})}getRelated(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=(i=(e=d(this,pt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield d(this,rn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(rt),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Pe,be),_=(s=m==null?void 0:m.matchCondition(x=>x.is(Pe)))===null||s===void 0?void 0:s.as(Pe);if(_)return _;l=f==null?void 0:f.continuation}throw new g("Target section not found.")})}getSuggestions(e=!0){return y(this,void 0,void 0,function*(){let r=yield e||!d(this,Jr,"f")?d(this,ub,"m",yk).call(this):Promise.resolve(null);return r&&(S(this,Jr,r.items,"f"),S(this,wh,r.continuation,"f")),(r==null?void 0:r.items)||d(this,Jr,"f")})}get page(){return d(this,pt,"f")}get has_continuation(){return!!d(this,nn,"f")}};n(Gr,"Playlist");pt=new WeakMap,rn=new WeakMap,nn=new WeakMap,Jr=new WeakMap,wh=new WeakMap,ub=new WeakSet,yk=n(function(){var e,i,o,r,s;return y(this,void 0,void 0,function*(){let l=d(this,wh,"f")||((i=(e=d(this,pt,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Q).continuation);if(l){let f=(o=(yield d(this,rn,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(rt),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Pe,be),_=(s=m==null?void 0:m.matchCondition(x=>x.is(be)))===null||s===void 0?void 0:s.as(be);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var zr=Gr;var so,Th,rx=class{constructor(e,i){var o,r,s,l,p,f,m;so.set(this,void 0),Th.set(this,void 0),S(this,so,c.parseResponse(e.data),"f"),S(this,Th,i,"f");let _=(o=d(this,so,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(bp)?(l=(s=(r=d(this,so,"f").header)===null||r===void 0?void 0:r.item().as(bp).element)===null||s===void 0?void 0:s.model)===null||l===void 0?void 0:l.as(Nc):(p=d(this,so,"f").header)===null||p===void 0?void 0:p.item().as(ji);let x=(f=d(this,so,"f").contents)===null||f===void 0?void 0:f.item().as(ti).tabs.firstOfType(ge);if(!x)throw new g("Target tab not found");this.sections=(m=x.content)===null||m===void 0?void 0:m.as(Q).contents.as(ve,Pe,ze)}getPlaylist(){return y(this,void 0,void 0,function*(){if(!this.header)throw new g("Header not found");if(!this.header.is(Nc))throw new g("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,Th,"f"),{client:"YTMUSIC"});return new zr(i,d(this,Th,"f"))})}get page(){return d(this,so,"f")}};n(rx,"Recap");so=new WeakMap,Th=new WeakMap;var sx=rx;var ui,wi,Kr,Sh,$r,sn=class{constructor(e,i,o){var r,s,l;if(ui.set(this,void 0),wi.set(this,void 0),Kr.set(this,void 0),S(this,wi,i,"f"),S(this,ui,c.parseResponse(e.data),"f"),!d(this,ui,"f").contents||!d(this,ui,"f").contents_memo)throw new g("Response did not contain any contents.");let p=d(this,ui,"f").contents.item().as(tg).tabs.get({selected:!0});if(!p)throw new g("Could not find target tab.");let f=(r=p.content)===null||r===void 0?void 0:r.as(Q);if(!f)throw new g("Target tab did not have any content.");this.header=(s=f.header)===null||s===void 0?void 0:s.as(ct),this.contents=f.contents.as(be,h0,ve),o&&S(this,Kr,(l=this.contents.firstOfType(be))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return y(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,wi,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new sn(i,d(this,wi,"f"),!0)})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Kr,"f"))throw new g("Continuation not found.");let e=yield d(this,wi,"f").execute("/search",{continuation:d(this,Kr,"f"),client:"YTMUSIC"});return new qr(d(this,wi,"f"),e)})}applyFilter(e){var i,o;return y(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(_e).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(_e)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,wi,"f"),{client:"YTMUSIC"});return new sn(s,d(this,wi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(_e).map(o=>o.text))||[]}get has_continuation(){return!!d(this,Kr,"f")}get did_you_mean(){var e;return(e=d(this,ui,"f").contents_memo)===null||e===void 0?void 0:e.getType(bv).first()}get showing_results_for(){var e;return(e=d(this,ui,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q0).first()}get message(){var e;return(e=d(this,ui,"f").contents_memo)===null||e===void 0?void 0:e.getType(ze).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(be))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(be)}get page(){return d(this,ui,"f")}};n(sn,"Search");ui=new WeakMap,wi=new WeakMap,Kr=new WeakMap;var ax=sn,qr=class{constructor(e,i){var o,r;Sh.set(this,void 0),$r.set(this,void 0),S(this,Sh,e,"f"),S(this,$r,c.parseResponse(i.data),"f"),this.header=(o=d(this,$r,"f").header)===null||o===void 0?void 0:o.item().as(ji),this.contents=(r=d(this,$r,"f").continuation_contents)===null||r===void 0?void 0:r.as(ni)}getContinuation(){var e;return y(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new g("Continuation not found.");let i=yield d(this,Sh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new qr(d(this,Sh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,$r,"f")}};n(qr,"SearchContinuation");Sh=new WeakMap,$r=new WeakMap;var ux=class extends io{constructor(e,i,o){var r,s,l,p,f,m,_,x,T;super(e,i,o);let[b,k]=this.page;if(!(!((r=b.microformat)===null||r===void 0)&&r.is(Qt)))throw new g("Invalid microformat",b.microformat);if(this.basic_info=Object.assign(Object.assign({},b.video_details),{description:(s=b.microformat)===null||s===void 0?void 0:s.description,is_unlisted:(l=b.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=b.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=b.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=b.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=b.storyboards,this.endscreen=b.endscreen,k){let N=(x=(_=k.contents_memo)===null||_===void 0?void 0:_.getType(ag))===null||x===void 0?void 0:x[0];this.tabs=N==null?void 0:N.tabs.array().as(ge),this.current_video_endpoint=k.current_video_endpoint,this.player_overlays=(T=k.player_overlays)===null||T===void 0?void 0:T.item().as(Wi)}}getTab(e){var i,o;return y(this,void 0,void 0,function*(){if(!this.tabs)throw new g("Could not find any tab");let r=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!r)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(r.content)return r.content;let s=yield r.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=s.contents)===null||o===void 0?void 0:o.item().type)==="Message")return s.contents.item().as(ze);if(!s.contents)throw new g("Page contents was empty",s);return s.contents.item().as(Q).contents})}getUpNext(e=!0){var i,o;return y(this,void 0,void 0,function*(){let r=yield this.getTab("Up next");if(!r||!r.content)throw new g("Music queue was empty, the video id is probably invalid.",r);let s=r.content.as(ei);if(!s.playlist_id&&e){let l=s.contents.firstOfType(Oi);if(!l)throw new g("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new g("Could not fetch automix");return(o=p.contents_memo.getType(ei))===null||o===void 0?void 0:o[0]}return s})}getRelated(){return y(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return y(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Po)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,G.YTMUSIC.NAME,G.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(ux,"TrackInfo");var Ih=ux;var cb={};D(cb,{Channel:()=>lx,HomeFeed:()=>cx,Search:()=>px,VideoInfo:()=>mx});var Xr=class extends fe{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Bi),this.contents=this.memo.getType(ve).first()||((s=this.page.continuation_contents)===null||s===void 0?void 0:s.as(Ji))}getContinuation(){var e;return y(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Xr(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(Xr,"Channel");var lx=Xr;var Qr=class extends fe{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(lg),this.contents=(s=this.page.contents)===null||s===void 0?void 0:s.item().as(cg)}selectCategoryTab(e){var i;return y(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(s=>s.title.toString()===e):e!=null&&e.is(br)&&(o=e),!o)throw new g(`Tab "${e}" not found`);let r=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new Qr(this.actions,r,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Qr,"HomeFeed");var cx=Qr;var dx=class extends fe{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ve).first();if(!o)throw new g("No item section found in search response.");this.contents=o.contents}};n(dx,"Search");var px=dx;var fx=class extends io{constructor(e,i,o){var r,s,l,p,f;super(e,i,o);let[m,_]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let x=(r=_==null?void 0:_.contents)===null||r===void 0?void 0:r.item().as(gr),T=x==null?void 0:x.results,b=x==null?void 0:x.secondary_results;T&&b&&(this.slim_video_metadata=(l=(s=T.firstOfType(ve))===null||s===void 0?void 0:s.contents)===null||l===void 0?void 0:l.firstOfType(Z0),this.watch_next_feed=((p=b.firstOfType(ve))===null||p===void 0?void 0:p.contents)||b,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Wi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(fx,"VideoInfo");var mx=fx;var pb={};D(pb,{VideoInfo:()=>Ax});var db={};D(db,{Account:()=>ln,Browse:()=>_x,BrowseEndpoint:()=>F,Channel:()=>Ti,Comment:()=>xx,GetNotificationMenuEndpoint:()=>an,GuideEndpoint:()=>Zr,Kids:()=>Ex,Like:()=>yx,Music:()=>bx,NextEndpoint:()=>Ie,Notification:()=>wx,PlayerEndpoint:()=>et,Playlist:()=>Tx,Reel:()=>wt,ResolveURLEndpoint:()=>un,SearchEndpoint:()=>ft,Subscription:()=>Sx,Upload:()=>Cx});var F={};D(F,{PATH:()=>VC,build:()=>OC});var VC="/browse";function OC(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(OC,"build");var an={};D(an,{PATH:()=>DC,build:()=>BC});var DC="/notification/get_notification_menu";function BC(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(BC,"build");var Zr={};D(Zr,{PATH:()=>LC});var LC="/guide";var Ie={};D(Ie,{PATH:()=>FC,build:()=>YC});var FC="/next";function YC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(YC,"build");var et={};D(et,{PATH:()=>jC,build:()=>UC});var jC="/player";function UC(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}n(UC,"build");var un={};D(un,{PATH:()=>WC,build:()=>HC});var WC="/navigation/resolve_url";function HC(t){return Object.assign({url:t.url})}n(HC,"build");var ft={};D(ft,{PATH:()=>JC,build:()=>GC});var JC="/search";function GC(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(GC,"build");var ln={};D(ln,{AccountListEndpoint:()=>hx});var hx={};D(hx,{PATH:()=>zC,build:()=>KC});var zC="/account/accounts_list";function KC(){return{client:"ANDROID"}}n(KC,"build");var _x={};D(_x,{EditPlaylistEndpoint:()=>tt});var tt={};D(tt,{PATH:()=>$C,build:()=>qC});var $C="/browse/edit_playlist";function qC(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(qC,"build");var Ti={};D(Ti,{EditDescriptionEndpoint:()=>gx,EditNameEndpoint:()=>vx});var vx={};D(vx,{PATH:()=>XC,build:()=>QC});var XC="/channel/edit_name";function QC(t){return{givenName:t.given_name,client:"ANDROID"}}n(QC,"build");var gx={};D(gx,{PATH:()=>ZC,build:()=>eE});var ZC="/channel/edit_description";function eE(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(eE,"build");var xx={};D(xx,{CreateCommentEndpoint:()=>dn,PerformCommentActionEndpoint:()=>cn});var cn={};D(cn,{PATH:()=>tE,build:()=>iE});var tE="/comment/perform_comment_action";function iE(t){return Object.assign({actions:t.actions},{client:t.client})}n(iE,"build");var dn={};D(dn,{PATH:()=>oE,build:()=>nE});var oE="/comment/create_comment";function nE(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(nE,"build");var yx={};D(yx,{DislikeEndpoint:()=>fn,LikeEndpoint:()=>pn,RemoveLikeEndpoint:()=>mn});var pn={};D(pn,{PATH:()=>rE,build:()=>sE});var rE="/like/like";function sE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(sE,"build");var fn={};D(fn,{PATH:()=>aE,build:()=>uE});var aE="/like/dislike";function uE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(uE,"build");var mn={};D(mn,{PATH:()=>lE,build:()=>cE});var lE="/like/removelike";function cE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(cE,"build");var bx={};D(bx,{GetSearchSuggestionsEndpoint:()=>hn});var hn={};D(hn,{PATH:()=>dE,build:()=>pE});var dE="/music/get_search_suggestions";function pE(t){return{input:t.input,client:"YTMUSIC"}}n(pE,"build");var wx={};D(wx,{GetUnseenCountEndpoint:()=>es,ModifyChannelPreferenceEndpoint:()=>_n});var es={};D(es,{PATH:()=>fE});var fE="/notification/get_unseen_count";var _n={};D(_n,{PATH:()=>mE,build:()=>hE});var mE="/notification/modify_channel_preference";function hE(t){return Object.assign({params:t.params},{client:t.client})}n(hE,"build");var Tx={};D(Tx,{CreateEndpoint:()=>vn,DeleteEndpoint:()=>gn});var vn={};D(vn,{PATH:()=>_E,build:()=>vE});var _E="/playlist/create";function vE(t){return{title:t.title,ids:t.ids}}n(vE,"build");var gn={};D(gn,{PATH:()=>gE,build:()=>xE});var gE="/playlist/delete";function xE(t){return{playlistId:t.playlist_id}}n(xE,"build");var Sx={};D(Sx,{SubscribeEndpoint:()=>xn,UnsubscribeEndpoint:()=>yn});var xn={};D(xn,{PATH:()=>yE,build:()=>bE});var yE="/subscription/subscribe";function bE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(bE,"build");var yn={};D(yn,{PATH:()=>wE,build:()=>TE});var wE="/subscription/unsubscribe";function TE(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(TE,"build");var wt={};D(wt,{WatchEndpoint:()=>Ix,WatchSequenceEndpoint:()=>kx});var Ix={};D(Ix,{PATH:()=>SE,build:()=>IE});var SE="/reel/reel_item_watch";function IE(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(IE,"build");var kx={};D(kx,{PATH:()=>kE,build:()=>CE});var kE="/reel/reel_watch_sequence";function CE(t){return{sequenceParams:t.sequenceParams}}n(CE,"build");var Cx={};D(Cx,{CreateVideoEndpoint:()=>bn});var bn={};D(bn,{PATH:()=>EE,build:()=>PE});var EE="/upload/createvideo";function PE(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(PE,"build");var Ex={};D(Ex,{BlocklistPickerEndpoint:()=>wn});var wn={};D(wn,{PATH:()=>NE,build:()=>AE});var NE="/kids/get_kids_blocklist_picker";function AE(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(AE,"build");var ts,Px,Nx=class{constructor(e,i){var o,r;ts.set(this,void 0),Px.set(this,void 0),S(this,Px,i,"f");let s=c.parseResponse(e[0].data),l=c.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=(o=l.entries)===null||o===void 0?void 0:o.array(),S(this,ts,(r=l.continuationEndpoint)===null||r===void 0?void 0:r.as(vi),"f")}getWatchNextContinuation(){var e,i;return y(this,void 0,void 0,function*(){if(!d(this,ts,"f"))throw new g("Watch next feed continuation not found");let o=yield d(this,Px,"f").execute(wt.WatchSequenceEndpoint.PATH,wt.WatchSequenceEndpoint.build({sequenceParams:d(this,ts,"f").token}));if(!o.success)throw new g("Continue failed ",o.status_code);let r=c.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),S(this,ts,(i=r.continuationEndpoint)===null||i===void 0?void 0:i.as(vi),"f"),this})}};n(Nx,"VideoInfo");ts=new WeakMap,Px=new WeakMap;var Ax=Nx;var V=class{constructor(e,i,o,r){var s,l,p,f,m,_,x,T,b,k,N,A,M,z,K,me,ye,Te,ke,Re,$,J,X,ie,Be,lt,_t;let q=new u(e);this.id=r||((f=(p=(l=(s=q==null?void 0:q.runs)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((_=(m=q==null?void 0:q.endpoint)===null||m===void 0?void 0:m.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=(q==null?void 0:q.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((T=(x=q==null?void 0:q.runs)===null||x===void 0?void 0:x[0])===null||T===void 0?void 0:T.endpoint)||(q==null?void 0:q.endpoint),this.badges=Array.isArray(i)?c.parseArray(i):ae([]),this.is_moderator=(b=this.badges)===null||b===void 0?void 0:b.some(je=>je.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(je=>je.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(N=this.badges)===null||N===void 0?void 0:N.some(je=>je.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((K=(z=(M=(A=q==null?void 0:q.runs)===null||A===void 0?void 0:A[0])===null||M===void 0?void 0:M.endpoint)===null||z===void 0?void 0:z.metadata)===null||K===void 0?void 0:K.api_url)==="/browse"&&`${pe.YT_BASE}${((ke=(Te=(ye=(me=q==null?void 0:q.runs)===null||me===void 0?void 0:me[0])===null||ye===void 0?void 0:ye.endpoint)===null||Te===void 0?void 0:Te.payload)===null||ke===void 0?void 0:ke.canonicalBaseUrl)||`/u/${(X=(J=($=(Re=q==null?void 0:q.runs)===null||Re===void 0?void 0:Re[0])===null||$===void 0?void 0:$.endpoint)===null||J===void 0?void 0:J.payload)===null||X===void 0?void 0:X.browseId}`}`||`${pe.YT_BASE}${((Be=(ie=q==null?void 0:q.endpoint)===null||ie===void 0?void 0:ie.payload)===null||Be===void 0?void 0:Be.canonicalBaseUrl)||`/u/${(_t=(lt=q==null?void 0:q.endpoint)===null||lt===void 0?void 0:lt.payload)===null||_t===void 0?void 0:_t.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(V,"Author");var bk={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Rx,Mx,B=class{static load(e){S(B,Rx,e,"f",Mx)}static get shim(){if(!d(B,Rx,"f",Mx))throw new Error("Platform is not loaded");return d(B,Rx,"f",Mx)}};n(B,"Platform");Rx=B;Mx={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=B.shim.info.version}};n(g,"InnertubeError");var xt=class extends g{};n(xt,"ParsingError");var Tn=class extends g{};n(Tn,"MissingParamError");var li=class extends g{};n(li,"OAuthError");var mt=class extends Error{};n(mt,"PlayerError");var is=class extends Error{};n(is,"SessionError");var kr=class extends Error{};n(kr,"ChannelError");function Yh(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(Yh,"deepCompare");function Je(t,e,i){let o=new RegExp(`${mb(e)}(.*?)${mb(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Je,"getStringBetweenStrings");function mb(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(mb,"escapeStringRegexp");function Qo(t){let e=bk[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Qo,"getRandomUserAgent");function ib(t){return y(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield B.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(ib,"generateSidAuth");function Tt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Tt,"generateRandomString");function Le(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Le,"timeToSeconds");function Xy(...t){let e=new Ei;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Xy,"concatMemos");function Z(t){for(let[e,i]of Object.entries(t))if(!i)throw new Tn(`${e} is missing`)}n(Z,"throwIfMissing");function RE(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(RE,"hasKeys");function rb(t){return qb(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield fo(i.read());if(o)return yield fo(void 0);yield yield fo(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(rb,"streamToIterable");var ME=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],s=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=r.length>0?`${r.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${s}`),B.shim.fetch(t,e)},"debugFetch");function dt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(dt,"u8ToBase64");function By(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(By,"base64ToU8");function Ze(t){return!("emoji"in t)}n(Ze,"isTextRun");function hb(t){return y(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),s=[];for(let l=0;l<r.length;++l)s.push(e[r[l]]);return s.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(hb,"sha1Hash");var Vx={name:"youtubei.js",version:"8.2.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Ch={};D(Ch,{ArrayExpression:()=>os,ArrowFunctionExpression:()=>ns,AssignmentExpression:()=>rs,BinaryExpression:()=>ss,BlockStatement:()=>as,BreakStatement:()=>us,CallExpression:()=>ls,ConditionalExpression:()=>ds,ContinueStatement:()=>ps,ExpressionStatement:()=>fs,ForOfStatement:()=>ms,ForStatement:()=>hs,FunctionDeclaration:()=>_s,FunctionExpression:()=>vs,Identifier:()=>gs,IfStatement:()=>xs,Literal:()=>ys,LogicalExpression:()=>bs,MemberExpression:()=>ws,NewExpression:()=>Ts,ObjectExpression:()=>Ss,Property:()=>Is,ReturnStatement:()=>ks,SequenceExpression:()=>Cs,SwitchCase:()=>Es,SwitchStatement:()=>Ps,ThisExpression:()=>Ns,ThrowStatement:()=>As,TryStatement:()=>Rs,UnaryExpression:()=>Ms,UpdateExpression:()=>Vs,VariableDeclaration:()=>Os,WhileStatement:()=>Ds});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var os=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(os,"ArrayExpression");var _b={};D(_b,{namedFunction:()=>Sn});var Sn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var ns=class extends R{run(){let{params:e,body:i}=this.node;return Sn("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(ns,"ArrowFunctionExpression");var rs=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(rs,"AssignmentExpression");var ss=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(ss,"BinaryExpression");var as=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(as,"BlockStatement");var us=class extends R{run(){return"break"}};n(us,"BreakStatement");var wk=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Ox,vb,ls=class extends R{constructor(){super(...arguments),Ox.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let s=this.visitor.listeners[e](this.node,this.visitor);if(s!=="proceed")return s}if(i&&i!=="toString"&&this.visitor.listeners[i]){let s=this.visitor.listeners[i](this.node,this.visitor);if(s!=="proceed")return s}if(this.node.callee.type==="MemberExpression"){if(cs.has(this.node,this.visitor))return cs.execute(this.node,this.visitor);let s=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof s[l]!="function"&&wk(this,Ox,"m",vb).call(this),s[l].toString().includes("[native code]")?s[l](...p):s[l](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(s=>this.visitor.visitNode(s));return typeof o!="function"&&wk(this,Ox,"m",vb).call(this),o(r)}};n(ls,"CallExpression");Ox=new WeakSet,vb=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var cs=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(cs,"Builtins");cs.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let s of o)i[0]([s,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var ds=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(ds,"ConditionalExpression");var ps=class extends R{run(){return"continue"}};n(ps,"ContinueStatement");var fs=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(fs,"ExpressionStatement");var ms=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(ms,"ForOfStatement");var hs=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(hs,"ForStatement");var _s=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=Sn(o,s=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,s[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(_s,"FunctionDeclaration");var vs=class extends R{run(){let{params:e,body:i}=this.node;return Sn("anonymous function",r=>{let s=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[s]):console.warn("Unhandled param type",l.type),s++;return this.visitor.visitNode(i)})}};n(vs,"FunctionExpression");var gs=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(gs,"Identifier");var xs=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(xs,"IfStatement");var ys=class extends R{run(){return this.node.value}};n(ys,"Literal");var bs=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(bs,"LogicalExpression");var ws=class extends R{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),s=o?this.visitor.visitNode(i):this.visitor.getName(i);if(s!==void 0||s!==null){if(this.visitor.listeners[s]){let l=this.visitor.listeners[s](this.node,this.visitor);if(l!=="proceed")return l}return r==null?void 0:r[s]}}};n(ws,"MemberExpression");var Ts=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(Ts,"NewExpression");var Ss=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(Ss,"ObjectExpression");var gb=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},kh,Tk,Sk,Ik,Is=class extends R{constructor(){super(...arguments),kh.add(this)}run(){switch(this.node.kind){case"init":return gb(this,kh,"m",Tk).call(this);case"get":return gb(this,kh,"m",Sk).call(this);case"set":return gb(this,kh,"m",Ik).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Is,"Property");kh=new WeakSet,Tk=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),Sk=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),Ik=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var ks=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(ks,"ReturnStatement");var Cs=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(Cs,"SequenceExpression");var Es=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Es,"SwitchCase");var Ps=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let s=this.node.cases[r];if(i){let l=this.visitor.visitNode(s);if(l==="break")break;if(l==="continue")return l;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=s&&e===this.visitor.visitNode(s.test),i===void 0&&r>this.node.cases.length)break;if(s&&!i&&!s.test){o=r,r+=1;continue}if(!s&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(Ps,"SwitchStatement");var Ns=class extends R{run(){return this.visitor.scope.get("_this")}};n(Ns,"ThisExpression");var As=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(As,"ThrowStatement");var Rs=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(Rs,"TryStatement");var Ms=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(Ms,"UnaryExpression");var Vs=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Vs,"UpdateExpression");var Os=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),s=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,s),typeof s=="object"&&s!==null&&this.visitor.scope.set("_this",s)})}};n(Os,"VariableDeclaration");var Ds=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(Ds,"WhileStatement");var OE=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},xb,kk,Bs=class{constructor(e){xb.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=OE(this,xb,"m",kk).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(Bs,"Visitor");xb=new WeakSet,kk=n(function(e){let i=Ch[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var DE=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Ak=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],BE="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Rk="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",yb={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},bb="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",LE={5:bb,"5module":bb+" export import",6:bb+" const class extends export import super"},FE=/^in(stanceof)?$/,YE=new RegExp("["+Rk+"]"),jE=new RegExp("["+Rk+BE+"]");function Tb(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Tb,"isInAstralSet");function Si(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&YE.test(String.fromCharCode(t)):e===!1?!1:Tb(t,Ak)}n(Si,"isIdentifierStart");function Ls(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&jE.test(String.fromCharCode(t)):e===!1?!1:Tb(t,Ak)||Tb(t,DE)}n(Ls,"isIdentifierChar");var se=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function St(t,e){return new se(t,{beforeExpr:!0,binop:e})}n(St,"binop");var It={beforeExpr:!0},ut={startsExpr:!0},kb={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,kb[t]=new se(t,e)}n(te,"kw");var h={num:new se("num",ut),regexp:new se("regexp",ut),string:new se("string",ut),name:new se("name",ut),privateId:new se("privateId",ut),eof:new se("eof"),bracketL:new se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new se("]"),braceL:new se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new se("}"),parenL:new se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new se(")"),comma:new se(",",It),semi:new se(";",It),colon:new se(":",It),dot:new se("."),question:new se("?",It),questionDot:new se("?."),arrow:new se("=>",It),template:new se("template"),invalidTemplate:new se("invalidTemplate"),ellipsis:new se("...",It),backQuote:new se("`",ut),dollarBraceL:new se("${",{beforeExpr:!0,startsExpr:!0}),eq:new se("=",{beforeExpr:!0,isAssign:!0}),assign:new se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:St("||",1),logicalAND:St("&&",2),bitwiseOR:St("|",3),bitwiseXOR:St("^",4),bitwiseAND:St("&",5),equality:St("==/!=/===/!==",6),relational:St("</>/<=/>=",7),bitShift:St("<</>>/>>>",8),plusMin:new se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:St("%",10),star:St("*",10),slash:St("/",10),starstar:new se("**",{beforeExpr:!0}),coalesce:St("??",1),_break:te("break"),_case:te("case",It),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",It),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",It),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",ut),_if:te("if"),_return:te("return",It),_switch:te("switch"),_throw:te("throw",It),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",ut),_super:te("super",ut),_class:te("class",ut),_extends:te("extends",It),_export:te("export"),_import:te("import",ut),_null:te("null",ut),_true:te("true",ut),_false:te("false",ut),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Et=/\r\n?|\n|\u2028|\u2029/,UE=new RegExp(Et.source,"g");function Fs(t){return t===10||t===13||t===8232||t===8233}n(Fs,"isNewLine");function Mk(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(Fs(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(Mk,"nextLineBreak");var Vk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,kt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Ok=Object.prototype,WE=Ok.hasOwnProperty,HE=Ok.toString,Ah=Object.hasOwn||function(t,e){return WE.call(t,e)},Ck=Array.isArray||function(t){return HE.call(t)==="[object Array]"};function ao(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(ao,"wordsRegexp");function uo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(uo,"codePointToString");var JE=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ph=n(function(e,i){this.line=e,this.column=i},"Position");Ph.prototype.offset=n(function(e){return new Ph(this.line,this.column+e)},"offset");var Yx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Dk(t,e){for(var i=1,o=0;;){var r=Mk(t,o,e);if(r<0)return new Ph(i,e-o);++i,o=r}}n(Dk,"getLineInfo");var Sb={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ek=!1;function GE(t){var e={};for(var i in Sb)e[i]=t&&Ah(t,i)?t[i]:Sb[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Ek&&typeof console=="object"&&console.warn&&(Ek=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Ck(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return Ck(e.onComment)&&(e.onComment=zE(e,e.onComment)),e}n(GE,"getOptions");function zE(t,e){return function(i,o,r,s,l,p){var f={type:i?"Block":"Line",value:o,start:r,end:s};t.locations&&(f.loc=new Yx(this,l,p)),t.ranges&&(f.range=[r,s]),e.push(f)}}n(zE,"pushComment");var Nh=1,Ys=2,Cb=4,Bk=8,Lk=16,Fk=32,Eb=64,Yk=128,Rh=256,Pb=Nh|Ys|Rh;function Nb(t,e){return Ys|(t?Cb:0)|(e?Bk:0)}n(Nb,"functionFlags");var Bx=0,Ab=1,ki=2,jk=3,Uk=4,Wk=5,De=n(function(e,i,o){this.options=e=GE(e),this.sourceFile=e.sourceFile,this.keywords=ao(LE[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=yb[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=ao(r);var s=(r?r+" ":"")+yb.strict;this.reservedWordsStrict=ao(s),this.reservedWordsStrictBind=ao(s+" "+yb.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Et).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Nh),this.regexpState=null,this.privateNameStack=[]},"Parser"),ci={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};De.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");ci.inFunction.get=function(){return(this.currentVarScope().flags&Ys)>0};ci.inGenerator.get=function(){return(this.currentVarScope().flags&Bk)>0&&!this.currentVarScope().inClassFieldInit};ci.inAsync.get=function(){return(this.currentVarScope().flags&Cb)>0&&!this.currentVarScope().inClassFieldInit};ci.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Rh)return!1;if(e.flags&Ys)return(e.flags&Cb)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};ci.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Eb)>0||i||this.options.allowSuperOutsideMethod};ci.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Yk)>0};ci.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};ci.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Ys|Rh))>0||i};ci.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Rh)>0};De.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");De.parse=n(function(e,i){return new this(i,e).parse()},"parse");De.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");De.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(De.prototype,ci);var it=De.prototype,KE=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;it.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){kt.lastIndex=t,t+=kt.exec(this.input)[0].length;var e=KE.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){kt.lastIndex=t+e[0].length;var i=kt.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||Et.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,kt.lastIndex=t,t+=kt.exec(this.input)[0].length,this.input[t]===";"&&t++}};it.eat=function(t){return this.type===t?(this.next(),!0):!1};it.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};it.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};it.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};it.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||Et.test(this.input.slice(this.lastTokEnd,this.start))};it.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};it.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};it.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};it.expect=function(t){this.eat(t)||this.unexpected()};it.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var jx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");it.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};it.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};it.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};it.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var L=De.prototype;L.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var s=r[o];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Rb={kind:"loop"},$E={kind:"switch"};L.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;kt.lastIndex=this.pos;var e=kt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Si(o,!0)){for(var r=i+1;Ls(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var s=this.input.slice(i,r);if(!FE.test(s))return!0}return!1};L.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;kt.lastIndex=this.pos;var t=kt.exec(this.input),e=this.pos+t[0].length,i;return!Et.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ls(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};L.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),s;switch(this.isLet(t)&&(o=h._var,s="let"),o){case h._break:case h._continue:return this.parseBreakContinueStatement(r,o.keyword);case h._debugger:return this.parseDebuggerStatement(r);case h._do:return this.parseDoStatement(r);case h._for:return this.parseForStatement(r);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(r,!0);case h._if:return this.parseIfStatement(r);case h._return:return this.parseReturnStatement(r);case h._switch:return this.parseSwitchStatement(r);case h._throw:return this.parseThrowStatement(r);case h._try:return this.parseTryStatement(r);case h._const:case h._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case h._while:return this.parseWhileStatement(r);case h._with:return this.parseWithStatement(r);case h.braceL:return this.parseBlock(!0,r);case h.semi:return this.parseEmptyStatement(r);case h._export:case h._import:if(this.options.ecmaVersion>10&&o===h._import){kt.lastIndex=this.pos;var l=kt.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===h._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var m=this.value,_=this.parseExpression();return o===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(r,m,_,t):this.parseExpressionStatement(r,_)}};L.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};L.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};L.parseDoStatement=function(t){return this.next(),this.labels.push(Rb),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};L.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Rb),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var s=this.isContextual("let"),l=!1,p=new jx,f=this.parseExpression(e>-1?"await":!0,p);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};L.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Eh|(i?0:Ib),!1,e)};L.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};L.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};L.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push($E),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var o=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};L.parseThrowStatement=function(t){return this.next(),Et.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var qE=[];L.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?Fk:0),this.checkLValPattern(t,e?Uk:ki),this.expect(h.parenR),t};L.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};L.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};L.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Rb),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};L.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};L.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};L.parseLabeledStatement=function(t,e,i,o){for(var r=0,s=this.labels;r<s.length;r+=1){var l=s[r];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};L.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};L.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};L.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};L.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};L.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(h.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(h.comma))break}return t};L.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Ab:ki,!1)};var Eh=1,Ib=2,Hk=4;L.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===h.star&&e&Ib&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Eh&&(t.id=e&Hk&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&Ib)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Ab:ki:jk));var s=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Nb(t.async,t.generator)),e&Eh||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=s,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&Eh?"FunctionDeclaration":"FunctionExpression")};L.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};L.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(r.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(s&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),s=!0):l.key&&l.key.type==="PrivateIdentifier"&&XE(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};L.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,s=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?s=!0:o="async"),!o&&(e>=9||!s)&&this.eat(h.star)&&(r=!0),!o&&!s&&!r){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||r||s){var m=!i.static&&Lx(i,"constructor"),_=m&&t;m&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":l,this.parseClassMethod(i,r,s,_)}else this.parseClassField(i);return i};L.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};L.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};L.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Lx(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};L.parseClassField=function(t){if(Lx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Lx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};L.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Rh|Eb);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};L.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,ki,!1)):(e===!0&&this.unexpected(),t.id=null)};L.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};L.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};L.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],s=0;s<i.length;++s){var l=i[s];Ah(e,l.name)||(r?r.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function XE(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(XE,"isPrivateNameConflicted");function Lx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Lx,"checkKeyName");L.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};L.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};L.parseExportDeclaration=function(t){return this.parseStatement(null)};L.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Eh|Hk,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};L.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ah(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};L.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var s=r[o];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};L.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};L.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};L.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};L.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};L.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=qE,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};L.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,ki),this.finishNode(t,"ImportSpecifier")};L.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,ki),this.finishNode(t,"ImportDefaultSpecifier")};L.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,ki),this.finishNode(t,"ImportNamespaceSpecifier")};L.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};L.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return JE.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};L.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};L.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Pt=De.prototype;Pt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Pt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Pt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Pt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Pt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Pt.parseBindingList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(h.comma),e&&this.type===h.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),r.push(l),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};Pt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Pt.parseBindingListItem=function(t){return t};Pt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Pt.checkLValSimple=function(t,e,i){e===void 0&&(e=Bx);var o=e!==Bx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===ki&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ah(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Wk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Pt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Bx),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Pt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Bx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Wt=n(function(e,i,o,r,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!s},"TokContext"),we={b_stat:new Wt("{",!1),b_expr:new Wt("{",!0),b_tmpl:new Wt("${",!1),p_stat:new Wt("(",!1),p_expr:new Wt("(",!0),q_tmpl:new Wt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Wt("function",!1),f_expr:new Wt("function",!0),f_expr_gen:new Wt("function",!0,!1,null,!0),f_gen:new Wt("function",!1,!1,null,!0)},js=De.prototype;js.initialContext=function(){return[we.b_stat]};js.curContext=function(){return this.context[this.context.length-1]};js.braceIsBlock=function(t){var e=this.curContext();return e===we.f_expr||e===we.f_stat?!0:t===h.colon&&(e===we.b_stat||e===we.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?Et.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===we.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};js.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};js.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};js.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===we.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?we.b_stat:we.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(we.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?we.p_stat:we.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==we.p_stat)&&!(t===h._return&&Et.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===we.b_stat)?this.context.push(we.f_expr):this.context.push(we.f_stat),this.exprAllowed=!1};h.backQuote.updateContext=function(){this.curContext()===we.q_tmpl?this.context.pop():this.context.push(we.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===we.f_expr?this.context[e]=we.f_expr_gen:this.context[e]=we.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var U=De.prototype;U.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var l=e[r];if(l){var p;s==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[s],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[r]={init:!1,get:!1,set:!1};l[s]=!0}};U.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===h.comma){var s=this.startNodeAt(i,o);for(s.expressions=[r];this.eat(h.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r};U.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,s=-1,l=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new jx,o=!0);var p=this.start,f=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var _=this.startNodeAt(p,f);return _.operator=this.value,this.type===h.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(m):this.checkLValSimple(m),_.left=m,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),m};U.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(h.question)){var s=this.startNodeAt(i,o);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(h.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r};U.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};U.parseExprOp=function(t,e,i,o,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==h._in)&&s>o){var l=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(s=h.logicalAND.binop);var f=this.value;this.next();var m=this.start,_=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),m,_,s,r),T=this.buildBinary(e,i,t,x,f,l||p);return(l&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(T,e,i,o,r)}return t};U.buildBinary=function(t,e,i,o,r,s){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=r,l.right=o,this.finishNode(l,s?"LogicalExpression":"BinaryExpression")};U.parseMaybeUnary=function(t,e,i,o){var r=this.start,s=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&Jk(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(r,s);m.operator=this.value,m.prefix=!1,m.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function Jk(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Jk(t.expression)}n(Jk,"isPrivateFieldAccess");U.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,i,o,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};U.parseSubscripts=function(t,e,i,o,r){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,s,l,r);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};U.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};U.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};U.parseSubscript=function(t,e,i,o,r,s,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(h.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(h.bracketL);if(m||f&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,m?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!m,p&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(h.parenL)){var x=new jx,T=this.yieldPos,b=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=T,this.awaitPos=b,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,N,l);this.checkExpressionErrors(x,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var A=this.startNodeAt(e,i);A.callee=t,A.arguments=N,p&&(A.optional=f),t=this.finishNode(A,"CallExpression")}else if(this.type===h.backQuote){(f||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var M=this.startNodeAt(e,i);M.tag=t,M.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(M,"TaggedTemplateExpression")}return t};U.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(o,"Super");case h._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case h.name:var s=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(we.f_expr),this.parseFunction(this.startNodeAt(s,l),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(s,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===h.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,l),[f],!0,e)}return f;case h.regexp:var m=this.value;return o=this.parseLiteral(m.value),o.regex={pattern:m.pattern,flags:m.flags},o;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return o=this.startNode(),o.value=this.type===h._null?null:this.type===h._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case h.parenL:var _=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),x;case h.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case h.braceL:return this.overrideContext(we.b_expr),this.parseObj(!1,t);case h._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};U.parseExprAtomDefault=function(){this.unexpected()};U.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};U.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};U.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};U.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};U.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};U.shouldParseArrow=function(t){return!this.canInsertSemicolon()};U.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],m=!0,_=!1,x=new jx,T=this.yieldPos,b=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(m?m=!1:this.expect(h.comma),s&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){k=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var N=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(f)&&this.eat(h.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=T,this.awaitPos=b,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(x,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=b||this.awaitPos,f.length>1?(r=this.startNodeAt(l,p),r.expressions=f,this.finishNodeAt(r,"SequenceExpression",N,A)):r=f[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var M=this.startNodeAt(i,o);return M.expression=r,this.finishNode(M,"ParenthesizedExpression")}else return r};U.parseParenItem=function(t){return t};U.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var QE=[];U.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(h.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=QE,this.finishNode(t,"NewExpression")};U.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};U.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};U.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!Et.test(this.input.slice(this.lastTokEnd,this.start))};U.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(o)o=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};U.parseProperty=function(t,e){var i=this.startNode(),o,r,s,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,l=this.startLoc),t||(o=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,s,l,e,p),this.finishNode(i,"Property")};U.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};U.parsePropertyValue=function(t,e,i,o,r,s,l,p){(i||o)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};U.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};U.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};U.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Nb(e,o.generator)|Eb|(i?Yk:0)),this.expect(h.parenL),o.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};U.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,s=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Nb(i,!1)|Lk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};U.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==h.braceL,s=this.strict,l=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!s&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Wk),t.body=this.parseBlock(!1,void 0,l&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};U.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};U.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,Ab,e?null:i)}};U.parseExprList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(o),o&&this.type===h.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),r.push(l)}return r};U.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};U.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};U.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};U.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};U.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};U.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Fx=De.prototype;Fx.raise=function(t,e){var i=Dk(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Fx.raiseRecoverable=Fx.raise;Fx.curPosition=function(){if(this.options.locations)return new Ph(this.curLine,this.pos-this.lineStart)};var lo=De.prototype,ZE=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");lo.enterScope=function(t){this.scopeStack.push(new ZE(t))};lo.exitScope=function(){this.scopeStack.pop()};lo.treatFunctionsAsVarInScope=function(t){return t.flags&Ys||!this.inModule&&t.flags&Nh};lo.declareName=function(t,e,i){var o=!1;if(e===ki){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Nh&&delete this.undefinedExports[t]}else if(e===Uk){var s=this.currentScope();s.lexical.push(t)}else if(e===jk){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&Fk&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&Nh&&delete this.undefinedExports[t],f.flags&Pb)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};lo.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};lo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};lo.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Pb)return e}};lo.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Pb&&!(e.flags&Lk))return e}};var Ux=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Yx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Mh=De.prototype;Mh.startNode=function(){return new Ux(this,this.start,this.startLoc)};Mh.startNodeAt=function(t,e){return new Ux(this,t,e)};function Gk(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(Gk,"finishNodeAt");Mh.finishNode=function(t,e){return Gk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Mh.finishNodeAt=function(t,e,i,o){return Gk.call(this,t,e,i,o)};Mh.copyNode=function(t){var e=new Ux(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var zk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Kk=zk+" Extended_Pictographic",$k=Kk,qk=$k+" EBase EComp EMod EPres ExtPict",Xk=qk,eP=Xk,tP={9:zk,10:Kk,11:$k,12:qk,13:Xk,14:eP},iP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",oP={9:"",10:"",11:"",12:"",13:"",14:iP},Pk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Qk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Zk=Qk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",e1=Zk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",t1=e1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",i1=t1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",nP=i1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",rP={9:Qk,10:Zk,11:e1,12:t1,13:i1,14:nP},o1={};function sP(t){var e=o1[t]={binary:ao(tP[t]+" "+Pk),binaryOfStrings:ao(oP[t]),nonBinary:{General_Category:ao(Pk),Script:ao(rP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(sP,"buildUnicodeData");for(Dx=0,wb=[9,10,11,12,13,14];Dx<wb.length;Dx+=1)Nk=wb[Dx],sP(Nk);var Nk,Dx,wb,O=De.prototype,di=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=o1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");di.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset");di.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");di.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var s=o.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(s<<10)+l-56613888:s},"at");di.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var s=o.charCodeAt(e),l;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=r||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");di.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");di.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");di.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");di.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");di.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,s=e;r<s.length;r+=1){var l=s[r],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");O.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,s=0;s<i.length;s++){var l=i.charAt(s);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};O.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};O.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};O.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};O.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};O.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};O.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};O.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};O.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};O.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};O.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};O.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};O.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};O.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};O.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};O.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};O.regexp_eatSyntaxCharacter=function(t){var e=t.current();return n1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function n1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(n1,"isSyntaxCharacter");O.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!n1(i);)t.advance();return t.pos!==e};O.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};O.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};O.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};O.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=uo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=uo(t.lastIntValue);return!0}return!1};O.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),aP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function aP(t){return Si(t,!0)||t===36||t===95}n(aP,"isRegExpIdentifierStart");O.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),uP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function uP(t){return Ls(t,!0)||t===36||t===95||t===8204||t===8205}n(uP,"isRegExpIdentifierPart");O.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};O.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};O.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};O.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};O.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};O.regexp_eatZero=function(t){return t.current()===48&&!Wx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};O.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};O.regexp_eatControlLetter=function(t){var e=t.current();return r1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function r1(t){return t>=65&&t<=90||t>=97&&t<=122}n(r1,"isControlLetter");O.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(r-55296)*1024+(l-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&lP(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function lP(t){return t>=0&&t<=1114111}n(lP,"isValidUnicode");O.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};O.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var s1=0,Ii=1,Ct=2;O.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(cP(e))return t.lastIntValue=-1,t.advance(),Ii;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Ct&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return s1};function cP(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(cP,"isCharacterClassEscape");O.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Ii}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return s1};O.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ah(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};O.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ii;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Ct;t.raise("Invalid property name")};O.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";a1(e=t.current());)t.lastStringValue+=uo(e),t.advance();return t.lastStringValue!==""};function a1(t){return r1(t)||t===95}n(a1,"isUnicodePropertyNameCharacter");O.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";dP(e=t.current());)t.lastStringValue+=uo(e),t.advance();return t.lastStringValue!==""};function dP(t){return a1(t)||Wx(t)}n(dP,"isUnicodePropertyValueCharacter");O.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};O.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Ct&&t.raise("Negated character class may contain strings"),!0}return!1};O.regexp_classContents=function(t){return t.current()===93?Ii:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ii)};O.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};O.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||c1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};O.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};O.regexp_classSetExpression=function(t){var e=Ii,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Ct&&(e=Ct);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Ct&&(e=Ii);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Ct&&(e=Ct)}};O.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};O.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ii:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};O.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Ct&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};O.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};O.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Ct&&(e=Ct);return e};O.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ii:Ct};O.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&pP(i)||fP(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function pP(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(pP,"isClassSetReservedDoublePunctuatorCharacter");function fP(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(fP,"isClassSetSyntaxCharacter");O.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return mP(e)?(t.lastIntValue=e,t.advance(),!0):!1};function mP(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(mP,"isClassSetReservedPunctuator");O.regexp_eatClassControlLetter=function(t){var e=t.current();return Wx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};O.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};O.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Wx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Wx(t){return t>=48&&t<=57}n(Wx,"isDecimalDigit");O.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;u1(i=t.current());)t.lastIntValue=16*t.lastIntValue+l1(i),t.advance();return t.pos!==e};function u1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(u1,"isHexDigit");function l1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(l1,"hexToInt");O.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};O.regexp_eatOctalDigit=function(t){var e=t.current();return c1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function c1(t){return t>=48&&t<=55}n(c1,"isOctalDigit");O.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!u1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+l1(r),t.advance()}return!0};var Mb=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Yx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ee=De.prototype;ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Mb(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ee.getToken=function(){return this.next(),new Mb(this)};typeof Symbol<"u"&&(ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ee.readToken=function(t){return Si(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=Mk(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ee.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Fs(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Vk.test(String.fromCharCode(t)))++this.pos;else break e}}};ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(o,i)};ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Et.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Si(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+uo(e)+"'")};ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+uo(t)+"'")};ee.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ee.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(Et.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var s=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(s);var p=this.regexpState||(this.regexpState=new di(this));p.reset(i,r,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(r,l)}catch(m){}return this.finishToken(h.regexp,{pattern:r,flags:l,value:f})};ee.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,l=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var _=this.input.charCodeAt(this.pos),x=void 0;if(o&&_===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?x=_-97+10:_>=65?x=_-65+10:_>=48&&_<=57?x=_-48:x=1/0,x>=t)break;p=_,l=l*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:l};function hP(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(hP,"stringToNumber");function d1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(d1,"stringToBigInt");ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=d1(this.input.slice(e,this.pos)),++this.pos):Si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=d1(this.input.slice(e,this.pos));return++this.pos,Si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=hP(this.input.slice(e,this.pos),i);return this.finishToken(h.num,s)};ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ee.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Fs(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var p1={};ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===p1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw p1;this.raise(t,e)};ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Fs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return uo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Fs(e)?"":String.fromCharCode(e)}};ee.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Ls(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Si:Ls)(l,o)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=uo(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ee.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=kb[t]),this.finishToken(e,t)};var _P="8.10.0";De.acorn={Parser:De,version:_P,defaultOptions:Sb,Position:Ph,SourceLocation:Yx,getLineInfo:Dk,Node:Ux,TokenType:se,tokTypes:h,keywordTypes:kb,TokContext:Wt,tokContexts:we,isIdentifierChar:Ls,isIdentifierStart:Si,Token:Mb,isNewLine:Fs,lineBreak:Et,lineBreakG:UE,nonASCIIwhitespace:Vk};function f1(t,e){return De.parse(t,e)}n(f1,"parse");var vP=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},gP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Hx,In=class{constructor(e){Hx.set(this,void 0);let i=f1(e,{ecmaVersion:2020});vP(this,Hx,i.body,"f"),this.visitor=new Bs(gP(this,Hx,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=console[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=Math[s];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=String[s];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(In,"Jinter");Hx=new WeakMap;function Vb(t,e){let i=new In(t);for(let[o,r]of Object.entries(e))i.scope.set(o,r);return i.interpret()}n(Vb,"evaluate");var Vh,kn,m1,h1,_1,Jx=class{constructor(e){Vh.add(this),kn.set(this,void 0),S(this,kn,e,"f")}get session(){return d(this,kn,"f")}stats(e,i,o){return y(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))r.searchParams.set(l,o[l]);return yield d(this,kn,"f").http.fetch(r)})}execute(e,i){var o,r;return y(this,void 0,void 0,function*(){let s;if(i&&!i.protobuf){if(s=Object.assign({},i),Reflect.has(s,"browseId")&&d(this,Vh,"m",_1).call(this,s.browseId)&&!d(this,kn,"f").logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,kn,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,Vh,"m",h1).call(this,f)&&((r=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(Gi);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return d(this,Vh,"m",m1).call(this,p)})}};n(Jx,"Actions");kn=new WeakMap,Vh=new WeakSet,m1=n(function(e){return y(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),h1=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),_1=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Ob=Jx;var Us,Ws,Oh,Dh,Ht=class{constructor(e,i,o,r){Us.set(this,void 0),Ws.set(this,void 0),Oh.set(this,void 0),Dh.set(this,void 0),S(this,Us,o,"f"),S(this,Ws,i,"f"),S(this,Oh,e,"f"),S(this,Dh,r,"f")}static create(e,i=B.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/iframe_api",pe.YT_BASE),r=yield i(o);if(r.status!==200)throw new mt("Failed to request player id");let s=yield r.text(),l=Je(s,"player\\/","\\/");if(!l)throw new mt("Failed to get player id");if(e){let b=yield Ht.fromCache(e,l);if(b)return b}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,pe.YT_BASE),f=yield i(p,{headers:{"user-agent":Qo("desktop")}});if(!f.ok)throw new mt(`Failed to get player data: ${f.status}`);let m=yield f.text(),_=this.extractSigTimestamp(m),x=this.extractSigSourceCode(m),T=this.extractNSigSourceCode(m);return yield Ht.fromSource(e,_,x,T,l)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new mt("No valid URL to decipher");let s=new URLSearchParams(e),l=new URL(s.get("url")||e);if(i||o){let m=B.shim.eval(d(this,Ws,"f"),{sig:s.get("s")});if(typeof m!="string")throw new mt("Failed to decipher signature");let _=s.get("sp");_?l.searchParams.set(_,m):l.searchParams.set("signature",m)}let p=l.searchParams.get("n");if(p){let m;if(r&&r.has(p))m=r.get(p);else{if(m=B.shim.eval(d(this,Us,"f"),{nsig:p}),typeof m!="string")throw new mt("Failed to decipher nsig");m.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):r&&r.set(p,m)}l.searchParams.set("n",m)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",G.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",G.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",G.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",G.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",G.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",G.TV_EMBEDDED.VERSION);break}return l.toString()}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Ht.LIBRARY_VERSION)return null;let l=r.getUint32(4,!0),p=r.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),_=new TextDecoder,x=_.decode(f),T=_.decode(m);return new Ht(l,x,T,i)})}static fromSource(e,i,o,r,s){return y(this,void 0,void 0,function*(){let l=new Ht(i,o,r,s);return yield l.cache(e),l})}cache(e){return y(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(d(this,Ws,"f")),r=i.encode(d(this,Us,"f")),s=new ArrayBuffer(12+o.byteLength+r.byteLength),l=new DataView(s);l.setUint32(0,Ht.LIBRARY_VERSION,!0),l.setUint32(4,d(this,Oh,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(s).set(o,12),new Uint8Array(s).set(r,12+o.byteLength),yield e.set(d(this,Dh,"f"),new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(Je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let s=Je(e,'function(a){a=a.split("")','return a.join("")}'),l=(r=(o=(i=s==null?void 0:s.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Je(e,`var ${l}={`,"};");return(!p||!s)&&console.warn(new mt("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Je(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new mt("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${d(this,Dh,"f")}/player_ias.vflset/en_US/base.js`,pe.YT_BASE).toString()}get sts(){return d(this,Oh,"f")}get nsig_sc(){return d(this,Us,"f")}get sig_sc(){return d(this,Ws,"f")}static get LIBRARY_VERSION(){return 2}};n(Ht,"Player");Us=new WeakMap,Ws=new WeakMap,Oh=new WeakMap,Dh=new WeakMap;var Db=Ht;var Ci,Jt,Ae,xe,Gx,g1,Lb,v1,x1,Bb,zx=class{constructor(e){Ci.add(this),Jt.set(this,void 0),Ae.set(this,void 0),xe.set(this,void 0),Gx.set(this,5),S(this,Ae,e,"f")}init(e){return y(this,void 0,void 0,function*(){S(this,xe,e,"f"),this.validateCredentials()?this.has_access_token_expired||d(this,Ae,"f").emit("auth",{credentials:d(this,xe,"f"),status:"SUCCESS"}):(yield d(this,Ci,"m",g1).call(this))||(yield d(this,Ci,"m",Lb).call(this))})}cacheCredentials(){var e;return y(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(d(this,xe,"f")));yield(e=d(this,Ae,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return y(this,void 0,void 0,function*(){yield(e=d(this,Ae,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return y(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield d(this,Ci,"m",x1).call(this))})}revokeCredentials(){return y(this,void 0,void 0,function*(){if(!!d(this,xe,"f"))return yield this.removeCache(),d(this,Ae,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(d(this,xe,"f").access_token)}`,pe.YT_BASE),{method:"post"})})}get credentials(){return d(this,xe,"f")}get has_access_token_expired(){let e=d(this,xe,"f")?new Date(d(this,xe,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return d(this,xe,"f")&&Reflect.has(d(this,xe,"f"),"access_token")&&Reflect.has(d(this,xe,"f"),"refresh_token")&&Reflect.has(d(this,xe,"f"),"expires")||!1}};n(zx,"OAuth");Jt=new WeakMap,Ae=new WeakMap,xe=new WeakMap,Gx=new WeakMap,Ci=new WeakSet,g1=n(function(){var e;return y(this,void 0,void 0,function*(){let i=yield(e=d(this,Ae,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,r=JSON.parse(o.decode(i));return S(this,xe,{access_token:r.access_token,refresh_token:r.refresh_token,client_id:r.client_id,client_secret:r.client_secret,expires:new Date(r.expires)},"f"),d(this,Ae,"f").emit("auth",{credentials:d(this,xe,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),Lb=n(function(){return y(this,void 0,void 0,function*(){S(this,Jt,yield d(this,Ci,"m",Bb).call(this),"f");let e={client_id:d(this,Jt,"f").client_id,scope:Pi.SCOPE,device_id:B.shim.uuidv4(),device_model:Pi.MODEL_NAME},o=yield(yield d(this,Ae,"f").http.fetch_function(new URL("/o/oauth2/device/code",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();d(this,Ae,"f").emit("auth-pending",o),S(this,Gx,o.interval,"f"),d(this,Ci,"m",v1).call(this,o.device_code)})},"_OAuth_getUserCode"),v1=n(function(e){let i=setInterval(()=>y(this,void 0,void 0,function*(){var o,r;let s=Object.assign(Object.assign({},d(this,Jt,"f")),{code:e,grant_type:Pi.GRANT_TYPE});try{let p=yield(yield d(this,Ae,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(p.error){switch(p.error){case"access_denied":d(this,Ae,"f").emit("auth-error",new li("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,Ae,"f").emit("auth-error",new li("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),d(this,Ci,"m",Lb).call(this);break;default:break}return}let f=new Date(new Date().getTime()+p.expires_in*1e3);S(this,xe,{access_token:p.access_token,refresh_token:p.refresh_token,client_id:(o=d(this,Jt,"f"))===null||o===void 0?void 0:o.client_id,client_secret:(r=d(this,Jt,"f"))===null||r===void 0?void 0:r.client_secret,expires:f},"f"),d(this,Ae,"f").emit("auth",{credentials:d(this,xe,"f"),status:"SUCCESS"}),clearInterval(i)}catch(l){return clearInterval(i),d(this,Ae,"f").emit("auth-error",new li("Could not obtain user code.",{status:"FAILED",error:l}))}}),d(this,Gx,"f")*1e3)},"_OAuth_startPolling"),x1=n(function(){return y(this,void 0,void 0,function*(){if(!d(this,xe,"f"))return;S(this,Jt,yield d(this,Ci,"m",Bb).call(this),"f");let e=Object.assign(Object.assign({},d(this,Jt,"f")),{refresh_token:d(this,xe,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield d(this,Ae,"f").http.fetch_function(new URL("/o/oauth2/token",pe.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),r=new Date(new Date().getTime()+o.expires_in*1e3);S(this,xe,{access_token:o.access_token,refresh_token:o.refresh_token||d(this,xe,"f").refresh_token,client_id:d(this,Jt,"f").client_id,client_secret:d(this,Jt,"f").client_secret,expires:r},"f"),d(this,Ae,"f").emit("update-credentials",{credentials:d(this,xe,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),Bb=n(function(){var e,i,o;return y(this,void 0,void 0,function*(){if(((e=d(this,xe,"f"))===null||e===void 0?void 0:e.client_id)&&((i=this.credentials)===null||i===void 0?void 0:i.client_secret))return{client_id:d(this,xe,"f").client_id,client_secret:this.credentials.client_secret};let s=yield(yield d(this,Ae,"f").http.fetch_function(new URL("/tv",pe.YT_BASE),{headers:Pi.HEADERS})).text(),l=(o=Pi.REGEX.AUTH_SCRIPT.exec(s))===null||o===void 0?void 0:o[1];if(!l)throw new li("Could not obtain script url.",{status:"FAILED"});let f=(yield(yield d(this,Ae,"f").http.fetch(l,{baseURL:pe.YT_BASE})).text()).replace(/\n/g,"").match(Pi.REGEX.CLIENT_IDENTITY),m=f==null?void 0:f.groups;if(!m)throw new li("Could not obtain client identity.",{status:"FAILED"});return m})},"_OAuth_getClientIdentity");var Fb=zx;var Kx,$x,qx,Cn,Xx,Qx,y1,Yb,jb;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(jb||(jb={}));var co=class extends lh{constructor(e,i,o,r,s,l,p,f){super(),$x.set(this,void 0),qx.set(this,void 0),Cn.set(this,void 0),Xx.set(this,void 0),Qx.set(this,void 0),S(this,Cn,e,"f"),S(this,Xx,r,"f"),S(this,qx,i,"f"),S(this,$x,o,"f"),S(this,Qx,s,"f"),this.http=new tb(this,l,p),this.actions=new Ob(this),this.oauth=new Fb(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return y(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:r,account_index:s}=yield co.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new co(i,o,r,s,e.retrieve_player===!1?void 0:yield Db.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,r="",s=!1,l=!1,p="desktop",f=jb.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,_=B.shim.fetch,x){return y(this,void 0,void 0,function*(){let T,b={lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:s,visitor_data:r,on_behalf_of_user:x};if(l)T=d(this,Kx,"m",Yb).call(this,b);else try{T=yield d(this,Kx,"m",y1).call(this,b,_)}catch(k){T=d(this,Kx,"m",Yb).call(this,b)}return Object.assign(Object.assign({},T),{account_index:o})})}signIn(e){return y(this,void 0,void 0,function*(){return new Promise((i,o)=>y(this,void 0,void 0,function*(){let r=n(s=>o(s),"error_handler");this.once("auth",s=>{this.off("auth-error",r),s.status==="SUCCESS"&&(this.logged_in=!0,i()),o(s)}),this.once("auth-error",r);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(s){o(s)}}))})}signOut(){return y(this,void 0,void 0,function*(){if(!this.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return d(this,qx,"f")}get api_version(){return d(this,$x,"f")}get client_version(){return d(this,Cn,"f").client.clientVersion}get client_name(){return d(this,Cn,"f").client.clientName}get account_index(){return d(this,Xx,"f")}get context(){return d(this,Cn,"f")}get player(){return d(this,Qx,"f")}get lang(){return d(this,Cn,"f").client.hl}};n(co,"Session");Kx=co,$x=new WeakMap,qx=new WeakMap,Cn=new WeakMap,Xx=new WeakMap,Qx=new WeakMap,y1=n(function(e,i=B.shim.fetch){return y(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",pe.YT_BASE),r=Tt(11);e.visitor_data&&(r=sv(e.visitor_data).id);let s=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Qo("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!s.ok)throw new is(`Failed to retrieve session data: ${s.status}`);let l=yield s.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],m=`v${f[0][0][6]}`,[[_],x]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:pe.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:x,api_version:m}})},"_Session_retrieveSessionData"),Yb=n(function(e){let i=Tt(11);return e.visitor_data&&(i=sv(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:Iy(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:G.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:pe.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:G.WEB.API_KEY,api_version:G.WEB.API_VERSION}},"_Session_generateSessionData");var Ub=co;var Wb={};D(Wb,{Kids:()=>ey,Music:()=>oy,Studio:()=>ry});var Xe,Zx=class{constructor(e){Xe.set(this,void 0),S(this,Xe,e,"f")}search(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Xe,"f").actions.execute(ft.PATH,ft.build({client:"YTKIDS",query:e}));return new px(d(this,Xe,"f").actions,i)})}getInfo(e){var i;return y(this,void 0,void 0,function*(){let o=et.build({sts:(i=d(this,Xe,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),r=Ie.build({video_id:e,client:"YTKIDS"}),s=d(this,Xe,"f").actions.execute(et.PATH,o),l=d(this,Xe,"f").actions.execute(Ie.PATH,r),p=yield Promise.all([s,l]),f=Tt(16);return new mx(p,d(this,Xe,"f").actions,f)})}getChannel(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Xe,"f").actions.execute(F.PATH,F.build({browse_id:e,client:"YTKIDS"}));return new lx(d(this,Xe,"f").actions,i)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,Xe,"f").actions.execute(F.PATH,F.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new cx(d(this,Xe,"f").actions,e)})}blockChannel(e){var i,o;return y(this,void 0,void 0,function*(){if(!d(this,Xe,"f").logged_in)throw new g("You must be signed in to perform this operation.");let r=wn.build({channel_id:e}),p={contents:(yield d(this,Xe,"f").actions.execute(wn.PATH,r)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},m=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(yr);if(!m)throw new g("Could not find any kids profiles or supervised accounts.");let _=[];for(let x of m)!((o=x.block_button)===null||o===void 0)&&o.is_toggled||(x.setActions(d(this,Xe,"f").actions),_.push(yield x.blockChannel()));return _})}};n(Zx,"Kids");Xe=new WeakMap;var ey=Zx;var ty,Bh,le,b1,w1,iy=class{constructor(e){ty.add(this),Bh.set(this,void 0),le.set(this,void 0),S(this,Bh,e,"f"),S(this,le,e.actions,"f")}getInfo(e){if(e instanceof pr)return d(this,ty,"m",w1).call(this,e);if(typeof e=="string")return d(this,ty,"m",b1).call(this,e);throw new g("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return y(this,void 0,void 0,function*(){Z({query:e});let o=yield d(this,le,"f").execute(ft.PATH,ft.build({query:e,client:"YTMUSIC",params:i.type&&i.type!=="all"?Ey(i):void 0}));return new ax(o,d(this,le,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,le,"f").execute(F.PATH,F.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new ox(e,d(this,le,"f"))})}getExplore(){return y(this,void 0,void 0,function*(){let e=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new ix(e)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new nx(e,d(this,le,"f"))})}getArtist(e){return y(this,void 0,void 0,function*(){if(Z({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new g("Invalid artist id",e);let i=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new ex(i,d(this,le,"f"))})}getAlbum(e){return y(this,void 0,void 0,function*(){if(Z({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new g("Invalid album id",e);let i=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new Xg(i)})}getPlaylist(e){return y(this,void 0,void 0,function*(){Z({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new zr(i,d(this,le,"f"))})}getUpNext(e,i=!0){var o,r,s;return y(this,void 0,void 0,function*(){Z({video_id:e});let p=(o=(yield d(this,le,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||o===void 0?void 0:o.getType(ge),f=p==null?void 0:p.first();if(!f)throw new g("Could not find target tab.");let m=(r=f.content)===null||r===void 0?void 0:r.as(fr);if(!m||!m.content)throw new g("Music queue was empty, the given id is probably invalid.",m);let _=m.content.as(ei);if(!_.playlist_id&&i){let x=_.contents.firstOfType(Oi);if(!x)throw new g("Automix item not found");let T=yield(s=x.playlist_video)===null||s===void 0?void 0:s.endpoint.call(d(this,le,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!T||!T.contents_memo)throw new g("Could not fetch automix");return T.contents_memo.getType(ei).first()}return _})}getRelated(e){var i;return y(this,void 0,void 0,function*(){Z({video_id:e});let r=(i=(yield d(this,le,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ge),s=r==null?void 0:r.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!s)throw new g("Could not find target tab.");let l=yield s.endpoint.call(d(this,le,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);return l.contents.item().as(Q).contents.as(Pe,Po)})}getLyrics(e){var i;return y(this,void 0,void 0,function*(){Z({video_id:e});let r=(i=(yield d(this,le,"f").execute(Ie.PATH,Object.assign(Object.assign({},Ie.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(ge),s=r==null?void 0:r.matchCondition(f=>{var m,_;return((_=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!s)throw new g("Could not find target tab.");let l=yield s.endpoint.call(d(this,le,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new g("Unexpected response",l);if(l.contents.item().type==="Message")throw new g(l.contents.item().as(ze).text.toString(),e);return l.contents.item().as(Q).contents.firstOfType(Po)})}getRecap(){return y(this,void 0,void 0,function*(){let e=yield d(this,le,"f").execute(F.PATH,F.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new sx(e,d(this,le,"f"))})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){let i=yield d(this,le,"f").execute(hn.PATH,Object.assign(Object.assign({},hn.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(K0):[]})}};n(iy,"Music");Bh=new WeakMap,le=new WeakMap,ty=new WeakSet,b1=n(function(e){var i;return y(this,void 0,void 0,function*(){let o=et.build({video_id:e,sts:(i=d(this,Bh,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),r=Ie.build({video_id:e,client:"YTMUSIC"}),s=d(this,le,"f").execute(et.PATH,o),l=d(this,le,"f").execute(Ie.PATH,r),p=yield Promise.all([s,l]),f=Tt(16);return new Ih(p,d(this,le,"f"),f)})},"_Music_fetchInfoFromVideoId"),w1=n(function(e){var i;return y(this,void 0,void 0,function*(){if(!e)throw new g("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,le,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,Bh,"f").player)===null||i===void 0?void 0:i.sts})}}),r=e.endpoint.call(d(this,le,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=Tt(16),l=yield Promise.all([o,r]);return new Ih(l,d(this,le,"f"),s)})},"_Music_fetchInfoFromListItem");var oy=iy;var Lh,Gt,T1,S1,I1,ny=class{constructor(e){Lh.add(this),Gt.set(this,void 0),S(this,Gt,e,"f")}setThumbnail(e,i){return y(this,void 0,void 0,function*(){if(!d(this,Gt,"f").logged_in)throw new g("You must be signed in to perform this operation.");if(!e||!i)throw new Tn("One or more parameters are missing.");let o=Vy(e,i);return yield d(this,Gt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return y(this,void 0,void 0,function*(){if(!d(this,Gt,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=My(e,i);return yield d(this,Gt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return y(this,void 0,void 0,function*(){if(!d(this,Gt,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Lh,"m",T1).call(this),r=yield d(this,Lh,"m",S1).call(this,o.upload_url,e);if(r.status!=="STATUS_SUCCESS")throw new g("Could not process video.");return yield d(this,Lh,"m",I1).call(this,o,r,i)})}};n(ny,"Studio");Gt=new WeakMap,Lh=new WeakSet,T1=n(function(){return y(this,void 0,void 0,function*(){let e=`innertube_android:${B.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${B.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,Gt,"f").http.fetch("/upload/youtubei",{baseURL:pe.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new g("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),S1=n(function(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,Gt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new g("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),I1=n(function(e,i,o){return y(this,void 0,void 0,function*(){return yield d(this,Gt,"f").actions.execute(bn.PATH,bn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var ry=ny;var Hb={};D(Hb,{AccountManager:()=>ay,InteractionManager:()=>dy,PlaylistManager:()=>ly});var ht,sy=class{constructor(e){ht.set(this,void 0),S(this,ht,e,"f"),this.channel={editName:i=>{if(!d(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return d(this,ht,"f").execute(Ti.EditNameEndpoint.PATH,Ti.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return d(this,ht,"f").execute(Ti.EditDescriptionEndpoint.PATH,Ti.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return y(this,void 0,void 0,function*(){if(!d(this,ht,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield d(this,ht,"f").execute(ln.AccountListEndpoint.PATH,ln.AccountListEndpoint.build());return new _g(e)})}getTimeWatched(){return y(this,void 0,void 0,function*(){let e=yield d(this,ht,"f").execute(F.PATH,F.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Ug(e)})}getSettings(){return y(this,void 0,void 0,function*(){let e=yield d(this,ht,"f").execute(F.PATH,F.build({browse_id:"SPaccount_overview"}));return new Yg(d(this,ht,"f"),e)})}getAnalytics(){var e;return y(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=yield d(this,ht,"f").execute(F.PATH,F.build({browse_id:"FEanalytics_screen",params:ky((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new gg(o)})}};n(sy,"AccountManager");ht=new WeakMap;var ay=sy;var Ee,uy=class{constructor(e){Ee.set(this,void 0),S(this,Ee,e,"f")}create(e,i){return y(this,void 0,void 0,function*(){if(Z({title:e,video_ids:i}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ee,"f").execute(vn.PATH,vn.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let i=yield d(this,Ee,"f").execute(gn.PATH,gn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e,video_ids:i}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ee,"f").execute(tt.PATH,tt.build({actions:i.map(r=>({action:"ACTION_ADD_VIDEO",added_video_id:r})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e,video_ids:i}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield d(this,Ee,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),r=new gi(d(this,Ee,"f"),o,!0);if(!r.info.is_editable)throw new g("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},l=n(f=>y(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:_.key("set_video_id").string()})),s.actions.length<i.length){let _=yield f.getContinuation();return l(_)}}),"getSetVideoIds");if(yield l(r),!s.actions.length)throw new g("Given video ids were not found in this playlist.",i);let p=yield d(this,Ee,"f").execute(tt.PATH,tt.build(s));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let r=yield d(this,Ee,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),s=new gi(d(this,Ee,"f"),r,!0);if(!s.info.is_editable)throw new g("This playlist cannot be edited.",e);let l={playlist_id:e,actions:[]},p,f,m=n(x=>y(this,void 0,void 0,function*(){let T=x.videos.find(k=>i===k.key("id").string()),b=x.videos.find(k=>o===k.key("id").string());if(p=p||(T==null?void 0:T.key("set_video_id").string()),f=f||(b==null?void 0:b.key("set_video_id").string()),!p||!f){let k=yield x.getContinuation();return m(k)}}),"getSetVideoIds");yield m(s),l.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let _=yield d(this,Ee,"f").execute(tt.PATH,tt.build(l));return{playlist_id:e,action_result:_.data.actions}})}setName(e,i){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e,name:i}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let r=yield d(this,Ee,"f").execute(tt.PATH,tt.build(o));return{playlist_id:e,action_result:r.data.actions}})}setDescription(e,i){return y(this,void 0,void 0,function*(){if(Z({playlist_id:e,description:i}),!d(this,Ee,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let r=yield d(this,Ee,"f").execute(tt.PATH,tt.build(o));return{playlist_id:e,action_result:r.data.actions}})}};n(uy,"PlaylistManager");Ee=new WeakMap;var ly=uy;var Ye,cy=class{constructor(e){Ye.set(this,void 0),S(this,Ye,e,"f")}like(e){return y(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(pn.PATH,pn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return y(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(fn.PATH,fn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return y(this,void 0,void 0,function*(){if(Z({video_id:e}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(mn.PATH,mn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return y(this,void 0,void 0,function*(){if(Z({channel_id:e}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(xn.PATH,xn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return y(this,void 0,void 0,function*(){if(Z({channel_id:e}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(yn.PATH,yn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return y(this,void 0,void 0,function*(){if(Z({video_id:e,text:i}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Ye,"f").execute(dn.PATH,dn.build({comment_text:i,create_comment_params:Ay(e),client:"ANDROID"}))})}translate(e,i,o={}){return y(this,void 0,void 0,function*(){Z({text:e,target_language:i});let r=dl(22,Object.assign({text:e,target_language:i},o)),s=yield d(this,Ye,"f").execute(cn.PATH,cn.build({client:"ANDROID",actions:[r]})),l=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:l.translatedContent.content,data:s.data}})}setNotificationPreferences(e,i){return y(this,void 0,void 0,function*(){if(Z({channel_id:e,type:i}),!d(this,Ye,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,Ye,"f").execute(_n.PATH,_n.build({client:"WEB",params:Ry(e,o[i.toUpperCase()])}))})}};n(cy,"InteractionManager");Ye=new WeakMap;var dy=cy;var Qe,Hs=class{constructor(e){Qe.set(this,void 0),S(this,Qe,e,"f")}static create(e={}){return y(this,void 0,void 0,function*(){return new Hs(yield Ub.create(e))})}getInfo(e,i){var o,r,s,l,p;return y(this,void 0,void 0,function*(){Z({target:e});let f;if(e instanceof v)f=Ie.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(s=e.payload)===null||s===void 0?void 0:s.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Ie.build({video_id:e});else throw new g("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new g("Video id cannot be empty",f);let m=et.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Qe,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(et.PATH,m),x=this.actions.execute(Ie.PATH,f),T=yield Promise.all([_,x]),b=Tt(16);return new xh(T,this.actions,b)})}getBasicInfo(e,i){var o;return y(this,void 0,void 0,function*(){Z({video_id:e});let r=yield this.actions.execute(et.PATH,et.build({video_id:e,client:i,sts:(o=d(this,Qe,"f").player)===null||o===void 0?void 0:o.sts})),s=Tt(16);return new xh([r],this.actions,s)})}getShortsWatchItem(e,i){return y(this,void 0,void 0,function*(){Z({short_id:e});let o=this.actions.execute(wt.WatchEndpoint.PATH,wt.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(wt.WatchSequenceEndpoint.PATH,wt.WatchSequenceEndpoint.build({sequenceParams:Dy(e)})),s=yield Promise.all([o,r]);return new Ax(s,this.actions)})}search(e,i={}){return y(this,void 0,void 0,function*(){Z({query:e});let o=yield this.actions.execute(ft.PATH,ft.build({query:e,params:i?Cy(i):void 0}));return new Fg(this.actions,o)})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){Z({query:e});let i=new URL(`${pe.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,Qe,"f").context.client.hl),i.searchParams.set("gl",d(this,Qe,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let r=yield(yield d(this,Qe,"f").http.fetch(i)).text();return JSON.parse(r.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return y(this,void 0,void 0,function*(){Z({video_id:e});let o=yield this.actions.execute(Ie.PATH,Ie.build({continuation:Ny(e,{sort_by:i||"TOP_COMMENTS"})}));return new yg(this.actions,o.data)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEwhat_to_watch"}));return new Ft(this.actions,e)})}getGuide(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(Zr.PATH);return new wg(e.data)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FElibrary"}));return new Pg(this.actions,e)})}getHistory(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhistory"}));return new Nr(this.actions,e)})}getTrending(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEtrending"})),{parse:!0}));return new Uo(this.actions,e)})}getSubscriptionsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new fe(this.actions,e)})}getChannelsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEchannels"})),{parse:!0}));return new fe(this.actions,e)})}getChannel(e){return y(this,void 0,void 0,function*(){Z({id:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new Ne(this.actions,i)})}getNotifications(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(an.PATH,an.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new Lg(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,r;return y(this,void 0,void 0,function*(){let s=yield this.actions.execute(es.PATH);return((e=s.data)===null||e===void 0?void 0:e.unseenCount)||((r=(o=(i=s.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||r===void 0?void 0:r.unseenCount)||0})}getPlaylist(e){return y(this,void 0,void 0,function*(){Z({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new gi(this.actions,i)})}getHashtag(e){return y(this,void 0,void 0,function*(){Z({hashtag:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhashtag",params:Oy(e)}));return new si(this.actions,i)})}getStreamingData(e,i={}){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return y(this,void 0,void 0,function*(){return(yield this.actions.execute(un.PATH,Object.assign(Object.assign({},un.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new oy(d(this,Qe,"f"))}get studio(){return new ry(d(this,Qe,"f"))}get kids(){return new ey(d(this,Qe,"f"))}get account(){return new ay(d(this,Qe,"f").actions)}get playlist(){return new ly(d(this,Qe,"f").actions)}get interact(){return new dy(d(this,Qe,"f").actions)}get actions(){return d(this,Qe,"f").actions}get session(){return d(this,Qe,"f")}};n(Hs,"Innertube");Qe=new WeakMap;var Jb=Hs;var k1={};var C1=Jb;var Fh,py,fy,my,hy=class{constructor(e=!1,i){Fh.add(this),py.set(this,void 0),fy.set(this,void 0),S(this,py,i||"","f"),S(this,fy,e,"f")}get cache_dir(){return d(this,fy,"f")?d(this,py,"f"):""}get(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Fh,"m",my).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=r,s.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,Fh,"m",my).call(this);if(!!o)return new Promise((r,s)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=s,l.onsuccess=()=>r()})})}remove(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Fh,"m",my).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=r,s.onsuccess=()=>o()})})}};n(hy,"Cache");py=new WeakMap,fy=new WeakMap,Fh=new WeakSet,my=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(s){o("indexedDB request error"),console.error(s)},r.onupgradeneeded=function(){let s=this.result.createObjectStore("kv-store",{keyPath:"k"});s.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");B.load({runtime:"browser",server:!1,info:{version:Vx.version,bugs_url:Vx.bugs.url,repo_url:Vx.homepage.split("#")[0]},Cache:hy,sha1Hash:hb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:Vb,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var GCe=C1;export{Ob as Actions,yo as AppendContinuationItemsAction,jb as ClientType,Wb as Clients,He as Constants,Oo as Continuation,vi as ContinuationCommand,db as Endpoints,lh as EventEmitter,Jg as FormatUtils,Jy as Generator,$i as GridContinuation,tb as HTTPClient,vy as Helpers,Jb as Innertube,Ji as ItemSectionContinuation,qi as LiveChatContinuation,Hb as Managers,fb as Misc,sb as Mixins,Ki as MusicPlaylistShelfContinuation,ni as MusicShelfContinuation,Gi as NavigateAction,Fb as OAuth,c as Parser,B as Platform,Db as Player,Tr as PlaylistPanelContinuation,Rt as Proto,zi as ReloadContinuationItemsCommand,rt as SectionListContinuation,Ub as Session,wr as ShowMiniplayerCommand,k1 as Types,mC as UniversalCache,ob as Utils,ab as YT,cb as YTKids,lb as YTMusic,Co as YTNodes,pb as YTShorts,GCe as default};
//# sourceMappingURL=browser.min.js.map
